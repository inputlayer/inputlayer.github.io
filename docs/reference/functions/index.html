<!DOCTYPE html><!--05bjYGyiAumoEMBrfWHih--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/4cf2300e9c8272f7-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/4bd7a24b7976d4e6.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-bd6546b43ab2ecbf.js"/><script src="/_next/static/chunks/4bd1b696-deba172d32c79f82.js" async=""></script><script src="/_next/static/chunks/794-275dc9ebd3a29fbf.js" async=""></script><script src="/_next/static/chunks/main-app-1fa5b694e5d36a75.js" async=""></script><script src="/_next/static/chunks/app/layout-7e9963bf811be36b.js" async=""></script><script src="/_next/static/chunks/758-3cb69ce377cde046.js" async=""></script><script src="/_next/static/chunks/121-aece4f809b101dc1.js" async=""></script><script src="/_next/static/chunks/502-e809071f8789437b.js" async=""></script><script src="/_next/static/chunks/689-4fcf9680fdc90283.js" async=""></script><script src="/_next/static/chunks/app/docs/%5B%5B...slug%5D%5D/page-004ec69e3c86920a.js" async=""></script><meta name="next-size-adjust" content=""/><title>InputLayer - A symbolic reasoning engine for AI agents</title><meta name="description" content="Store facts, define rules, and derive everything that logically follows. Vector search, graph traversal, and incremental computation in one system."/><link rel="icon" href="/icon.svg"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_188709 __variable_9a8899 font-sans antialiased"><div hidden=""><!--$--><!--/$--></div><script>((a,b,c,d,e,f,g,h)=>{let i=document.documentElement,j=["light","dark"];function k(b){var c;(Array.isArray(a)?a:[a]).forEach(a=>{let c="class"===a,d=c&&f?e.map(a=>f[a]||a):e;c?(i.classList.remove(...d),i.classList.add(f&&f[b]?f[b]:b)):i.setAttribute(a,b)}),c=b,h&&j.includes(c)&&(i.style.colorScheme=c)}if(d)k(d);else try{let a=localStorage.getItem(b)||c,d=g&&"system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a;k(d)}catch(a){}})("class","theme","dark",null,["light","dark"],null,true,true)</script><div class="flex flex-col h-dvh"><header class="sticky top-0 z-50 w-full border-b border-border/50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"><div class="flex h-14 items-center px-6"><a class="mr-8" href="/"><span class="inline-flex items-center gap-1.5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0"><path d="M12 2L2 7l10 5 10-5-10-5z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 12l10 5 10-5"></path></svg><span class="font-extrabold tracking-tight text-lg">InputLayer</span></span></a><nav class="hidden md:flex items-center gap-6 text-sm"><a class="text-muted-foreground transition-colors hover:text-foreground" href="/docs/">Docs</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/blog/">Blog</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/use-cases/">Use Cases</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/compare/">Compare</a><a href="https://demo.inputlayer.ai" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1 text-muted-foreground transition-colors hover:text-foreground">Demo<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link h-3 w-3"><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></svg></a></nav><div class="ml-auto flex items-center gap-3"><div class="inline-flex items-center gap-1.5"><a href="https://github.com/inputlayer/inputlayer" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-secondary/50 px-2.5 py-1 text-xs font-medium text-muted-foreground transition-colors hover:text-foreground hover:bg-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star h-3.5 w-3.5"><path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path></svg><span>Star</span></a><a href="https://github.com/inputlayer/inputlayer/fork" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-secondary/50 px-2.5 py-1 text-xs font-medium text-muted-foreground transition-colors hover:text-foreground hover:bg-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-git-fork h-3.5 w-3.5"><circle cx="12" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><circle cx="18" cy="6" r="3"></circle><path d="M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9"></path><path d="M12 12v3"></path></svg><span>Fork</span></a></div><button data-slot="button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-9 h-9 w-9"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-4 w-4"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg></button><div class="md:hidden"><button class="inline-flex items-center justify-center rounded-md p-2 text-muted-foreground hover:text-foreground hover:bg-secondary transition-colors" aria-label="Open menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-5 w-5"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></div></div></header><div class="flex flex-1 overflow-hidden"><div class="w-64 shrink-0 border-r border-border/50 overflow-y-auto"><div class="flex flex-col h-full"><div class="p-3 border-b border-border/50"><div class="relative"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg><input type="text" placeholder="Search docs..." class="w-full h-8 pl-8 pr-3 text-sm rounded-md border border-border bg-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring" value=""/></div></div><nav class="flex-1 overflow-y-auto p-2 space-y-0.5"><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" href="/docs/index/">Overview</a><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_j6av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Guides</button><div data-state="closed" id="radix-_R_j6av5ubtb_" hidden="" data-slot="collapsible-content"></div></div><div data-state="open" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-foreground font-medium" style="padding-left:12px" type="button" aria-controls="radix-_R_r6av5ubtb_" aria-expanded="true" data-state="open" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform rotate-90"><path d="m9 18 6-6-6-6"></path></svg>Reference</button><div data-state="open" id="radix-_R_r6av5ubtb_" data-slot="collapsible-content"><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/reference/index/">Overview</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/reference/commands/">Commands</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors bg-primary/10 text-primary font-medium" style="padding-left:24px" href="/docs/reference/functions/">Functions</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/reference/syntax/">Syntax</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/reference/syntax-cheatsheet/">Syntax Cheatsheet</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/reference/aggregations/">Aggregations</a></div></div><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_136av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Specification</button><div data-state="closed" id="radix-_R_136av5ubtb_" hidden="" data-slot="collapsible-content"></div></div><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_1b6av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Internals</button><div data-state="closed" id="radix-_R_1b6av5ubtb_" hidden="" data-slot="collapsible-content"></div></div></nav></div></div><div class="flex flex-1 flex-col overflow-hidden"><div class="flex flex-1 overflow-hidden"><div class="flex-1 overflow-y-auto px-8 py-6 max-w-4xl mx-auto"><article class="docs-prose"><h1 id="inputlayer-builtin-functions-reference" node="[object Object]">InputLayer Builtin Functions Reference</h1>
<hr/>
<h2 id="overview" node="[object Object]">Overview</h2>
<p>InputLayer provides 55 builtin functions for vector operations, temporal processing, quantization, string manipulation, and math utilities.</p>
<hr/>
<h2 id="table-of-contents" node="[object Object]">Table of Contents</h2>
<ol>
<li><a node="[object Object]" href="#1-distance-functions">Distance Functions</a></li>
<li><a node="[object Object]" href="#2-vector-operations">Vector Operations</a></li>
<li><a node="[object Object]" href="#3-lsh-locality-sensitive-hashing-functions">LSH Functions</a></li>
<li><a node="[object Object]" href="#4-quantization-functions">Quantization Functions</a></li>
<li><a node="[object Object]" href="#5-int8-distance-functions">Int8 Distance Functions</a></li>
<li><a node="[object Object]" href="#6-temporal-functions">Temporal Functions</a></li>
<li><a node="[object Object]" href="#7-math-functions">Math Functions</a></li>
<li><a node="[object Object]" href="#8-string-functions">String Functions</a></li>
<li><a node="[object Object]" href="#9-scalar-minmax-functions">Scalar Min/Max Functions</a></li>
</ol>
<hr/>
<h2 id="1-distance-functions" node="[object Object]">1. Distance Functions</h2>
<p>Distance functions for f32 vectors. All return <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Float64</code>.</p>
<h3 id="euclideanv1-v2" node="[object Object]">euclidean(v1, v2)</h3>
<p>Euclidean (L2) distance between two vectors.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Syntax</span>
<span class="syn-variable">D</span> <span class="syn-comparison">=</span> <span class="syn-builtin">euclidean</span><span class="syn-punct">(</span><span class="syn-variable">V1</span><span class="syn-punct">,</span> <span class="syn-variable">V2</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example</span>
<span class="syn-identifier">similar</span><span class="syn-punct">(</span><span class="syn-variable">Id1</span><span class="syn-punct">,</span> <span class="syn-variable">Id2</span><span class="syn-punct">,</span> <span class="syn-variable">Dist</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">vectors</span><span class="syn-punct">(</span><span class="syn-variable">Id1</span><span class="syn-punct">,</span> <span class="syn-variable">V1</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">vectors</span><span class="syn-punct">(</span><span class="syn-variable">Id2</span><span class="syn-punct">,</span> <span class="syn-variable">V2</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Id1</span> <span class="syn-comparison">&lt;</span> <span class="syn-variable">Id2</span><span class="syn-punct">,</span>
    <span class="syn-variable">Dist</span> <span class="syn-comparison">=</span> <span class="syn-builtin">euclidean</span><span class="syn-punct">(</span><span class="syn-variable">V1</span><span class="syn-punct">,</span> <span class="syn-variable">V2</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Dist</span> <span class="syn-comparison">&lt;</span> <span class="syn-number">1.0</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v1</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">First vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]">v2</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Second vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Euclidean distance (&gt;= 0)</td></tr></tbody></table></div>
<hr/>
<h3 id="cosinev1-v2" node="[object Object]">cosine(v1, v2)</h3>
<p>Cosine distance (1 - cosine similarity) between two vectors.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Syntax</span>
<span class="syn-variable">D</span> <span class="syn-comparison">=</span> <span class="syn-builtin">cosine</span><span class="syn-punct">(</span><span class="syn-variable">V1</span><span class="syn-punct">,</span> <span class="syn-variable">V2</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example - Find similar documents</span>
<span class="syn-identifier">similar_docs</span><span class="syn-punct">(</span><span class="syn-variable">Id1</span><span class="syn-punct">,</span> <span class="syn-variable">Id2</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">doc_embedding</span><span class="syn-punct">(</span><span class="syn-variable">Id1</span><span class="syn-punct">,</span> <span class="syn-variable">V1</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">doc_embedding</span><span class="syn-punct">(</span><span class="syn-variable">Id2</span><span class="syn-punct">,</span> <span class="syn-variable">V2</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">D</span> <span class="syn-comparison">=</span> <span class="syn-builtin">cosine</span><span class="syn-punct">(</span><span class="syn-variable">V1</span><span class="syn-punct">,</span> <span class="syn-variable">V2</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">D</span> <span class="syn-comparison">&lt;</span> <span class="syn-number">0.1</span>  <span class="syn-comment">// Very similar (close to 0)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v1</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">First vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]">v2</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Second vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Cosine distance (range [0, 2])</td></tr></tbody></table></div>
<p><strong>Note</strong>: Returns 0 for identical directions, 1 for orthogonal, 2 for opposite directions.</p>
<hr/>
<h3 id="dotv1-v2" node="[object Object]">dot(v1, v2)</h3>
<p>Dot product of two vectors.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Syntax</span>
<span class="syn-variable">Score</span> <span class="syn-comparison">=</span> <span class="syn-builtin">dot</span><span class="syn-punct">(</span><span class="syn-variable">V1</span><span class="syn-punct">,</span> <span class="syn-variable">V2</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example - Compute relevance scores</span>
<span class="syn-identifier">relevance</span><span class="syn-punct">(</span><span class="syn-variable">QueryId</span><span class="syn-punct">,</span> <span class="syn-variable">DocId</span><span class="syn-punct">,</span> <span class="syn-variable">Score</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">query_vector</span><span class="syn-punct">(</span><span class="syn-variable">QueryId</span><span class="syn-punct">,</span> <span class="syn-variable">Q</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">doc_vector</span><span class="syn-punct">(</span><span class="syn-variable">DocId</span><span class="syn-punct">,</span> <span class="syn-variable">D</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Score</span> <span class="syn-comparison">=</span> <span class="syn-builtin">dot</span><span class="syn-punct">(</span><span class="syn-variable">Q</span><span class="syn-punct">,</span> <span class="syn-variable">D</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v1</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">First vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]">v2</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Second vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Dot product</td></tr></tbody></table></div>
<hr/>
<h3 id="manhattanv1-v2" node="[object Object]">manhattan(v1, v2)</h3>
<p>Manhattan (L1) distance between two vectors. Good for sparse vectors.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Syntax</span>
<span class="syn-variable">D</span> <span class="syn-comparison">=</span> <span class="syn-builtin">manhattan</span><span class="syn-punct">(</span><span class="syn-variable">V1</span><span class="syn-punct">,</span> <span class="syn-variable">V2</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example</span>
<span class="syn-identifier">nearby</span><span class="syn-punct">(</span><span class="syn-variable">Id1</span><span class="syn-punct">,</span> <span class="syn-variable">Id2</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">location</span><span class="syn-punct">(</span><span class="syn-variable">Id1</span><span class="syn-punct">,</span> <span class="syn-variable">V1</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">location</span><span class="syn-punct">(</span><span class="syn-variable">Id2</span><span class="syn-punct">,</span> <span class="syn-variable">V2</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">D</span> <span class="syn-comparison">=</span> <span class="syn-builtin">manhattan</span><span class="syn-punct">(</span><span class="syn-variable">V1</span><span class="syn-punct">,</span> <span class="syn-variable">V2</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">D</span> <span class="syn-comparison">&lt;</span> <span class="syn-number">10.0</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v1</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">First vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]">v2</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Second vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Manhattan distance (&gt;= 0)</td></tr></tbody></table></div>
<hr/>
<h2 id="2-vector-operations" node="[object Object]">2. Vector Operations</h2>
<p>Operations for manipulating vectors.</p>
<h3 id="normalizev" node="[object Object]">normalize(v)</h3>
<p>Normalize vector to unit length.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Syntax</span>
<span class="syn-variable">Normalized</span> <span class="syn-comparison">=</span> <span class="syn-builtin">normalize</span><span class="syn-punct">(</span><span class="syn-variable">V</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example - Normalize before cosine similarity</span>
<span class="syn-identifier">normalized_embedding</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">NormV</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">raw_embedding</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">V</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">NormV</span> <span class="syn-comparison">=</span> <span class="syn-builtin">normalize</span><span class="syn-punct">(</span><span class="syn-variable">V</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Input vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Unit vector (length = 1)</td></tr></tbody></table></div>
<p><strong>Note</strong>: Returns zero vector if input is zero vector.</p>
<hr/>
<h3 id="vecdimv" node="[object Object]">vec_dim(v)</h3>
<p>Get the dimension (length) of a float32 vector.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Syntax</span>
<span class="syn-variable">Dim</span> <span class="syn-comparison">=</span> <span class="syn-builtin">vec_dim</span><span class="syn-punct">(</span><span class="syn-variable">V</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example - Filter by dimension</span>
<span class="syn-identifier">valid_embedding</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">V</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">embedding</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">V</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Dim</span> <span class="syn-comparison">=</span> <span class="syn-builtin">vec_dim</span><span class="syn-punct">(</span><span class="syn-variable">V</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Dim</span> <span class="syn-comparison">=</span> <span class="syn-number">128</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Input vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Number of dimensions</td></tr></tbody></table></div>
<hr/>
<h3 id="vecaddv1-v2" node="[object Object]">vec_add(v1, v2)</h3>
<p>Element-wise addition of two vectors.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Syntax</span>
<span class="syn-variable">Sum</span> <span class="syn-comparison">=</span> <span class="syn-builtin">vec_add</span><span class="syn-punct">(</span><span class="syn-variable">V1</span><span class="syn-punct">,</span> <span class="syn-variable">V2</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example - Combine embeddings</span>
<span class="syn-identifier">combined</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">SumV</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">text_embedding</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">T</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">image_embedding</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">I</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">SumV</span> <span class="syn-comparison">=</span> <span class="syn-builtin">vec_add</span><span class="syn-punct">(</span><span class="syn-variable">T</span><span class="syn-punct">,</span> <span class="syn-variable">I</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v1</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">First vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]">v2</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Second vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Element-wise sum</td></tr></tbody></table></div>
<p><strong>Note</strong>: Vectors must have same dimension.</p>
<hr/>
<h3 id="vecscalev-scalar" node="[object Object]">vec_scale(v, scalar)</h3>
<p>Scale vector by a scalar value.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Syntax</span>
<span class="syn-variable">Scaled</span> <span class="syn-comparison">=</span> <span class="syn-builtin">vec_scale</span><span class="syn-punct">(</span><span class="syn-variable">V</span><span class="syn-punct">,</span> <span class="syn-variable">S</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example - Apply weight</span>
<span class="syn-identifier">weighted</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">ScaledV</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">embedding</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">V</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">weight</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">W</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">ScaledV</span> <span class="syn-comparison">=</span> <span class="syn-builtin">vec_scale</span><span class="syn-punct">(</span><span class="syn-variable">V</span><span class="syn-punct">,</span> <span class="syn-variable">W</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Input vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]">scalar</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Scale factor</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Scaled vector</td></tr></tbody></table></div>
<hr/>
<h2 id="3-lsh-locality-sensitive-hashing-functions" node="[object Object]">3. LSH (Locality Sensitive Hashing) Functions</h2>
<p>Functions for approximate nearest neighbor search.</p>
<h3 id="lshbucketv-tableidx-numhyperplanes" node="[object Object]">lsh_bucket(v, table_idx, num_hyperplanes)</h3>
<p>Compute LSH bucket ID for a float32 vector.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Syntax</span>
<span class="syn-variable">Bucket</span> <span class="syn-comparison">=</span> <span class="syn-builtin">lsh_bucket</span><span class="syn-punct">(</span><span class="syn-variable">V</span><span class="syn-punct">,</span> <span class="syn-variable">TableIdx</span><span class="syn-punct">,</span> <span class="syn-variable">NumHyperplanes</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example - Build LSH index</span>
<span class="syn-identifier">lsh_index</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Table</span><span class="syn-punct">,</span> <span class="syn-variable">Bucket</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">embedding</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">V</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Table</span> <span class="syn-comparison">=</span> <span class="syn-number">0</span><span class="syn-punct">,</span>
    <span class="syn-variable">Bucket</span> <span class="syn-comparison">=</span> <span class="syn-builtin">lsh_bucket</span><span class="syn-punct">(</span><span class="syn-variable">V</span><span class="syn-punct">,</span> <span class="syn-variable">Table</span><span class="syn-punct">,</span> <span class="syn-number">8</span><span class="syn-punct">)</span>  <span class="syn-comment">// 8 hyperplanes = 256 buckets</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Input vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]">table_idx</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Hash table index (for multiple tables)</td></tr><tr><td class="border px-4 py-2" node="[object Object]">num_hyperplanes</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Number of hyperplanes (controls granularity)</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Bucket ID</td></tr></tbody></table></div>
<p><strong>Note</strong>: More hyperplanes = more buckets = higher precision but lower recall.</p>
<hr/>
<h3 id="lshprobesbucket-numhp-numprobes" node="[object Object]">lsh_probes(bucket, num_hp, num_probes)</h3>
<p>Generate multi-probe sequence for a bucket by Hamming distance.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Syntax</span>
<span class="syn-variable">Probes</span> <span class="syn-comparison">=</span> <span class="syn-builtin">lsh_probes</span><span class="syn-punct">(</span><span class="syn-variable">Bucket</span><span class="syn-punct">,</span> <span class="syn-variable">NumHyperplanes</span><span class="syn-punct">,</span> <span class="syn-variable">NumProbes</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example - Get probe sequence</span>
<span class="syn-identifier">probe_buckets</span><span class="syn-punct">(</span><span class="syn-variable">OrigBucket</span><span class="syn-punct">,</span> <span class="syn-variable">Probes</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">query_bucket</span><span class="syn-punct">(</span><span class="syn-variable">OrigBucket</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Probes</span> <span class="syn-comparison">=</span> <span class="syn-builtin">lsh_probes</span><span class="syn-punct">(</span><span class="syn-variable">OrigBucket</span><span class="syn-punct">,</span> <span class="syn-number">8</span><span class="syn-punct">,</span> <span class="syn-number">4</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">bucket</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Original bucket ID</td></tr><tr><td class="border px-4 py-2" node="[object Object]">num_hp</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Number of hyperplanes used</td></tr><tr><td class="border px-4 py-2" node="[object Object]">num_probes</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Number of probe buckets to generate</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Vector</td><td class="border px-4 py-2" node="[object Object]">Probe bucket IDs</td></tr></tbody></table></div>
<hr/>
<h3 id="lshmultiprobev-tableidx-numhp-numprobes" node="[object Object]">lsh_multi_probe(v, table_idx, num_hp, num_probes)</h3>
<p>Compute LSH bucket and probes in one call for float32 vectors.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Syntax</span>
<span class="syn-variable">Buckets</span> <span class="syn-comparison">=</span> <span class="syn-builtin">lsh_multi_probe</span><span class="syn-punct">(</span><span class="syn-variable">V</span><span class="syn-punct">,</span> <span class="syn-variable">TableIdx</span><span class="syn-punct">,</span> <span class="syn-variable">NumHyperplanes</span><span class="syn-punct">,</span> <span class="syn-variable">NumProbes</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Query vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]">table_idx</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Hash table index</td></tr><tr><td class="border px-4 py-2" node="[object Object]">num_hp</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Number of hyperplanes</td></tr><tr><td class="border px-4 py-2" node="[object Object]">num_probes</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Number of probes</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Vector</td><td class="border px-4 py-2" node="[object Object]">Bucket IDs to probe</td></tr></tbody></table></div>
<hr/>
<h2 id="4-quantization-functions" node="[object Object]">4. Quantization Functions</h2>
<p>Functions for int8 vector quantization (memory-efficient storage).</p>
<h3 id="quantizelinearv" node="[object Object]">quantize_linear(v)</h3>
<p>Linear quantization: maps [min, max] to [-128, 127].</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Syntax</span>
<span class="syn-variable">QV</span> <span class="syn-comparison">=</span> <span class="syn-builtin">quantize_linear</span><span class="syn-punct">(</span><span class="syn-variable">V</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example - Compress embeddings</span>
<span class="syn-identifier">compressed</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">QV</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">embedding</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">V</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">QV</span> <span class="syn-comparison">=</span> <span class="syn-builtin">quantize_linear</span><span class="syn-punct">(</span><span class="syn-variable">V</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Input vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">VectorInt8</td><td class="border px-4 py-2" node="[object Object]">Quantized vector</td></tr></tbody></table></div>
<hr/>
<h3 id="quantizesymmetricv" node="[object Object]">quantize_symmetric(v)</h3>
<p>Symmetric quantization: maps [-max_abs, max_abs] to [-127, 127], preserving zero.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">QV</span> <span class="syn-comparison">=</span> <span class="syn-builtin">quantize_symmetric</span><span class="syn-punct">(</span><span class="syn-variable">V</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v</td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Input vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">VectorInt8</td><td class="border px-4 py-2" node="[object Object]">Quantized vector</td></tr></tbody></table></div>
<p><strong>Note</strong>: Better preserves zero values; recommended for normalized vectors.</p>
<hr/>
<h3 id="dequantizev" node="[object Object]">dequantize(v)</h3>
<p>Convert int8 vector back to f32.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">FV</span> <span class="syn-comparison">=</span> <span class="syn-builtin">dequantize</span><span class="syn-punct">(</span><span class="syn-variable">QV</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v</td><td class="border px-4 py-2" node="[object Object]">VectorInt8</td><td class="border px-4 py-2" node="[object Object]">Quantized vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Dequantized vector</td></tr></tbody></table></div>
<p><strong>Note</strong>: Lossy conversion - original precision not fully recovered.</p>
<hr/>
<h3 id="dequantizescaledv-scale" node="[object Object]">dequantize_scaled(v, scale)</h3>
<p>Dequantize with explicit scale factor.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">FV</span> <span class="syn-comparison">=</span> <span class="syn-builtin">dequantize_scaled</span><span class="syn-punct">(</span><span class="syn-variable">QV</span><span class="syn-punct">,</span> <span class="syn-variable">Scale</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v</td><td class="border px-4 py-2" node="[object Object]">VectorInt8</td><td class="border px-4 py-2" node="[object Object]">Quantized vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]">scale</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Scale factor</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Vector (f32)</td><td class="border px-4 py-2" node="[object Object]">Dequantized vector</td></tr></tbody></table></div>
<hr/>
<h2 id="5-int8-distance-functions" node="[object Object]">5. Int8 Distance Functions</h2>
<h3 id="native-fast-int8-distance" node="[object Object]">Native (Fast) Int8 Distance</h3>
<p>Direct computation on int8 values for maximum speed.</p>
<h3 id="euclideanint8v1-v2" node="[object Object]">euclidean_int8(v1, v2)</h3>
<p>Euclidean distance for int8 vectors.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">D</span> <span class="syn-comparison">=</span> <span class="syn-builtin">euclidean_int8</span><span class="syn-punct">(</span><span class="syn-variable">QV1</span><span class="syn-punct">,</span> <span class="syn-variable">QV2</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v1</td><td class="border px-4 py-2" node="[object Object]">VectorInt8</td><td class="border px-4 py-2" node="[object Object]">First quantized vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]">v2</td><td class="border px-4 py-2" node="[object Object]">VectorInt8</td><td class="border px-4 py-2" node="[object Object]">Second quantized vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Euclidean distance</td></tr></tbody></table></div>
<hr/>
<h3 id="cosineint8v1-v2" node="[object Object]">cosine_int8(v1, v2)</h3>
<p>Cosine distance for int8 vectors.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">D</span> <span class="syn-comparison">=</span> <span class="syn-builtin">cosine_int8</span><span class="syn-punct">(</span><span class="syn-variable">QV1</span><span class="syn-punct">,</span> <span class="syn-variable">QV2</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v1</td><td class="border px-4 py-2" node="[object Object]">VectorInt8</td><td class="border px-4 py-2" node="[object Object]">First quantized vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]">v2</td><td class="border px-4 py-2" node="[object Object]">VectorInt8</td><td class="border px-4 py-2" node="[object Object]">Second quantized vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Cosine distance [0, 2]</td></tr></tbody></table></div>
<hr/>
<h3 id="dotint8v1-v2" node="[object Object]">dot_int8(v1, v2)</h3>
<p>Dot product for int8 vectors.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">Score</span> <span class="syn-comparison">=</span> <span class="syn-builtin">dot_int8</span><span class="syn-punct">(</span><span class="syn-variable">QV1</span><span class="syn-punct">,</span> <span class="syn-variable">QV2</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v1</td><td class="border px-4 py-2" node="[object Object]">VectorInt8</td><td class="border px-4 py-2" node="[object Object]">First quantized vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]">v2</td><td class="border px-4 py-2" node="[object Object]">VectorInt8</td><td class="border px-4 py-2" node="[object Object]">Second quantized vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Dot product</td></tr></tbody></table></div>
<hr/>
<h3 id="manhattanint8v1-v2" node="[object Object]">manhattan_int8(v1, v2)</h3>
<p>Manhattan distance for int8 vectors.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">D</span> <span class="syn-comparison">=</span> <span class="syn-builtin">manhattan_int8</span><span class="syn-punct">(</span><span class="syn-variable">QV1</span><span class="syn-punct">,</span> <span class="syn-variable">QV2</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">v1</td><td class="border px-4 py-2" node="[object Object]">VectorInt8</td><td class="border px-4 py-2" node="[object Object]">First quantized vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]">v2</td><td class="border px-4 py-2" node="[object Object]">VectorInt8</td><td class="border px-4 py-2" node="[object Object]">Second quantized vector</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Manhattan distance</td></tr></tbody></table></div>
<hr/>
<h2 id="6-temporal-functions" node="[object Object]">6. Temporal Functions</h2>
<p>Functions for time-based queries and temporal reasoning.</p>
<h3 id="timenow" node="[object Object]">time_now()</h3>
<p>Get current Unix timestamp in milliseconds.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">Now</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_now</span><span class="syn-punct">(</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">(none)</td><td class="border px-4 py-2" node="[object Object]">-</td><td class="border px-4 py-2" node="[object Object]">No parameters</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Unix timestamp (milliseconds)</td></tr></tbody></table></div>
<hr/>
<h3 id="timedifft1-t2" node="[object Object]">time_diff(t1, t2)</h3>
<p>Compute difference between two timestamps.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">Diff</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_diff</span><span class="syn-punct">(</span><span class="syn-variable">T1</span><span class="syn-punct">,</span> <span class="syn-variable">T2</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">t1</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">First timestamp</td></tr><tr><td class="border px-4 py-2" node="[object Object]">t2</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Second timestamp</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Difference (t1 - t2) in milliseconds</td></tr></tbody></table></div>
<hr/>
<h3 id="timeaddts-durationms" node="[object Object]">time_add(ts, duration_ms)</h3>
<p>Add duration to timestamp.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">NewTime</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_add</span><span class="syn-punct">(</span><span class="syn-variable">Ts</span><span class="syn-punct">,</span> <span class="syn-variable">DurationMs</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">ts</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Base timestamp</td></tr><tr><td class="border px-4 py-2" node="[object Object]">duration_ms</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Duration to add (milliseconds)</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">New timestamp</td></tr></tbody></table></div>
<hr/>
<h3 id="timesubts-durationms" node="[object Object]">time_sub(ts, duration_ms)</h3>
<p>Subtract duration from timestamp.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">NewTime</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_sub</span><span class="syn-punct">(</span><span class="syn-variable">Ts</span><span class="syn-punct">,</span> <span class="syn-variable">DurationMs</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">ts</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Base timestamp</td></tr><tr><td class="border px-4 py-2" node="[object Object]">duration_ms</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Duration to subtract (milliseconds)</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">New timestamp</td></tr></tbody></table></div>
<hr/>
<h3 id="timedecayts-now-halflifems" node="[object Object]">time_decay(ts, now, half_life_ms)</h3>
<p>Exponential time decay. Formula: <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">0.5^(age/half_life)</code>.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">Weight</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_decay</span><span class="syn-punct">(</span><span class="syn-variable">Ts</span><span class="syn-punct">,</span> <span class="syn-variable">Now</span><span class="syn-punct">,</span> <span class="syn-variable">HalfLifeMs</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">ts</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Event timestamp</td></tr><tr><td class="border px-4 py-2" node="[object Object]">now</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Current timestamp</td></tr><tr><td class="border px-4 py-2" node="[object Object]">half_life_ms</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Half-life in milliseconds</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Decay factor [0, 1]</td></tr></tbody></table></div>
<p><strong>Note</strong>: Returns 1.0 at ts=now, 0.5 at age=half_life, approaches 0 for old events.</p>
<hr/>
<h3 id="timedecaylinearts-now-maxagems" node="[object Object]">time_decay_linear(ts, now, max_age_ms)</h3>
<p>Linear time decay. Formula: <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">max(0, 1 - age/max_age)</code>.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">Weight</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_decay_linear</span><span class="syn-punct">(</span><span class="syn-variable">Ts</span><span class="syn-punct">,</span> <span class="syn-variable">Now</span><span class="syn-punct">,</span> <span class="syn-variable">MaxAgeMs</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">ts</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Event timestamp</td></tr><tr><td class="border px-4 py-2" node="[object Object]">now</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Current timestamp</td></tr><tr><td class="border px-4 py-2" node="[object Object]">max_age_ms</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Maximum age for decay</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Decay factor [0, 1]</td></tr></tbody></table></div>
<p><strong>Note</strong>: Returns 1.0 at ts=now, 0.5 at age=max_age/2, 0.0 at age&gt;=max_age.</p>
<hr/>
<h3 id="timebeforet1-t2" node="[object Object]">time_before(t1, t2)</h3>
<p>Check if t1 is before t2.</p>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">t1</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">First timestamp</td></tr><tr><td class="border px-4 py-2" node="[object Object]">t2</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Second timestamp</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Bool</td><td class="border px-4 py-2" node="[object Object]">true if t1 &lt; t2</td></tr></tbody></table></div>
<hr/>
<h3 id="timeaftert1-t2" node="[object Object]">time_after(t1, t2)</h3>
<p>Check if t1 is after t2.</p>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">t1</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">First timestamp</td></tr><tr><td class="border px-4 py-2" node="[object Object]">t2</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Second timestamp</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Bool</td><td class="border px-4 py-2" node="[object Object]">true if t1 &gt; t2</td></tr></tbody></table></div>
<hr/>
<h3 id="timebetweents-start-end" node="[object Object]">time_between(ts, start, end)</h3>
<p>Check if timestamp is within range [start, end] (inclusive).</p>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">ts</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Timestamp to check</td></tr><tr><td class="border px-4 py-2" node="[object Object]">start</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Window start</td></tr><tr><td class="border px-4 py-2" node="[object Object]">end</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Window end</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Bool</td><td class="border px-4 py-2" node="[object Object]">true if start &lt;= ts &lt;= end</td></tr></tbody></table></div>
<hr/>
<h3 id="withinlastts-now-durationms" node="[object Object]">within_last(ts, now, duration_ms)</h3>
<p>Check if timestamp is within the last duration from now.</p>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">ts</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Timestamp to check</td></tr><tr><td class="border px-4 py-2" node="[object Object]">now</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Current timestamp</td></tr><tr><td class="border px-4 py-2" node="[object Object]">duration_ms</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Window size in milliseconds</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Bool</td><td class="border px-4 py-2" node="[object Object]">true if (now - duration_ms) &lt;= ts &lt;= now</td></tr></tbody></table></div>
<hr/>
<h3 id="intervalsoverlaps1-e1-s2-e2" node="[object Object]">intervals_overlap(s1, e1, s2, e2)</h3>
<p>Check if two time intervals overlap.</p>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">s1</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">First interval start</td></tr><tr><td class="border px-4 py-2" node="[object Object]">e1</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">First interval end</td></tr><tr><td class="border px-4 py-2" node="[object Object]">s2</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Second interval start</td></tr><tr><td class="border px-4 py-2" node="[object Object]">e2</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Second interval end</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Bool</td><td class="border px-4 py-2" node="[object Object]">true if intervals overlap</td></tr></tbody></table></div>
<hr/>
<h3 id="intervalcontainss1-e1-s2-e2" node="[object Object]">interval_contains(s1, e1, s2, e2)</h3>
<p>Check if interval [s1, e1] fully contains interval [s2, e2].</p>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">s1</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Outer interval start</td></tr><tr><td class="border px-4 py-2" node="[object Object]">e1</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Outer interval end</td></tr><tr><td class="border px-4 py-2" node="[object Object]">s2</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Inner interval start</td></tr><tr><td class="border px-4 py-2" node="[object Object]">e2</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Inner interval end</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Bool</td><td class="border px-4 py-2" node="[object Object]">true if [s1,e1] contains [s2,e2]</td></tr></tbody></table></div>
<hr/>
<h3 id="intervaldurationstart-end" node="[object Object]">interval_duration(start, end)</h3>
<p>Get the duration of an interval.</p>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">start</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Interval start</td></tr><tr><td class="border px-4 py-2" node="[object Object]">end</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Interval end</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Duration (end - start) in milliseconds</td></tr></tbody></table></div>
<hr/>
<h3 id="pointinintervalts-start-end" node="[object Object]">point_in_interval(ts, start, end)</h3>
<p>Check if a point is within an interval [start, end] (inclusive).</p>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">ts</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Point timestamp</td></tr><tr><td class="border px-4 py-2" node="[object Object]">start</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Interval start</td></tr><tr><td class="border px-4 py-2" node="[object Object]">end</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Interval end</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Bool</td><td class="border px-4 py-2" node="[object Object]">true if start &lt;= ts &lt;= end</td></tr></tbody></table></div>
<hr/>
<h2 id="7-math-functions" node="[object Object]">7. Math Functions</h2>
<p>General-purpose math functions. All accept Int64 or Float64 inputs (coerced to f64 internally unless noted).</p>
<h3 id="absx" node="[object Object]">abs(x)</h3>
<p>Generic absolute value. Preserves input type.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">A</span> <span class="syn-comparison">=</span> <span class="syn-builtin">abs</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">x</td><td class="border px-4 py-2" node="[object Object]">Int64 or Float64</td><td class="border px-4 py-2" node="[object Object]">Input value</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Same as input</td><td class="border px-4 py-2" node="[object Object]">Absolute value</td></tr></tbody></table></div>
<hr/>
<h3 id="absint64x" node="[object Object]">abs_int64(x)</h3>
<p>Absolute value of an integer.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">AbsVal</span> <span class="syn-comparison">=</span> <span class="syn-builtin">abs_int64</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">x</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Input integer</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Absolute value</td></tr></tbody></table></div>
<p><strong>Note</strong>: Uses saturating arithmetic for <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">i64::MIN</code>.</p>
<hr/>
<h3 id="absfloat64x" node="[object Object]">abs_float64(x)</h3>
<p>Absolute value of a float.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">AbsVal</span> <span class="syn-comparison">=</span> <span class="syn-builtin">abs_float64</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">x</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Input float</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Absolute value</td></tr></tbody></table></div>
<hr/>
<h3 id="sqrtx" node="[object Object]">sqrt(x)</h3>
<p>Square root.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">R</span> <span class="syn-comparison">=</span> <span class="syn-builtin">sqrt</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">x</td><td class="border px-4 py-2" node="[object Object]">Float64 or Int64</td><td class="border px-4 py-2" node="[object Object]">Input value (&gt;= 0)</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Square root</td></tr></tbody></table></div>
<p><strong>Note</strong>: Returns Null if x &lt; 0.</p>
<hr/>
<h3 id="powbase-exp" node="[object Object]">pow(base, exp)</h3>
<p>Power function.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">R</span> <span class="syn-comparison">=</span> <span class="syn-builtin">pow</span><span class="syn-punct">(</span><span class="syn-variable">Base</span><span class="syn-punct">,</span> <span class="syn-variable">Exp</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">base</td><td class="border px-4 py-2" node="[object Object]">Float64 or Int64</td><td class="border px-4 py-2" node="[object Object]">Base value</td></tr><tr><td class="border px-4 py-2" node="[object Object]">exp</td><td class="border px-4 py-2" node="[object Object]">Float64 or Int64</td><td class="border px-4 py-2" node="[object Object]">Exponent</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">base^exp</td></tr></tbody></table></div>
<hr/>
<h3 id="logx" node="[object Object]">log(x)</h3>
<p>Natural logarithm (base e).</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">R</span> <span class="syn-comparison">=</span> <span class="syn-builtin">log</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">x</td><td class="border px-4 py-2" node="[object Object]">Float64 or Int64</td><td class="border px-4 py-2" node="[object Object]">Input value (&gt; 0)</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Natural logarithm</td></tr></tbody></table></div>
<p><strong>Note</strong>: Returns Null if x &lt;= 0.</p>
<hr/>
<h3 id="expx" node="[object Object]">exp(x)</h3>
<p>Exponential function (e^x).</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">R</span> <span class="syn-comparison">=</span> <span class="syn-builtin">exp</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">x</td><td class="border px-4 py-2" node="[object Object]">Float64 or Int64</td><td class="border px-4 py-2" node="[object Object]">Input value</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">e^x</td></tr></tbody></table></div>
<hr/>
<h3 id="sinx" node="[object Object]">sin(x)</h3>
<p>Sine function (radians).</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">R</span> <span class="syn-comparison">=</span> <span class="syn-builtin">sin</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">x</td><td class="border px-4 py-2" node="[object Object]">Float64 or Int64</td><td class="border px-4 py-2" node="[object Object]">Angle in radians</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Sine of x</td></tr></tbody></table></div>
<hr/>
<h3 id="cosx" node="[object Object]">cos(x)</h3>
<p>Cosine function (radians).</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">R</span> <span class="syn-comparison">=</span> <span class="syn-builtin">cos</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">x</td><td class="border px-4 py-2" node="[object Object]">Float64 or Int64</td><td class="border px-4 py-2" node="[object Object]">Angle in radians</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Cosine of x</td></tr></tbody></table></div>
<hr/>
<h3 id="tanx" node="[object Object]">tan(x)</h3>
<p>Tangent function (radians).</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">R</span> <span class="syn-comparison">=</span> <span class="syn-builtin">tan</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">x</td><td class="border px-4 py-2" node="[object Object]">Float64 or Int64</td><td class="border px-4 py-2" node="[object Object]">Angle in radians</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Tangent of x</td></tr></tbody></table></div>
<hr/>
<h3 id="floorx" node="[object Object]">floor(x)</h3>
<p>Round down to nearest integer.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">R</span> <span class="syn-comparison">=</span> <span class="syn-builtin">floor</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">x</td><td class="border px-4 py-2" node="[object Object]">Float64 or Int64</td><td class="border px-4 py-2" node="[object Object]">Input value</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Largest integer &lt;= x</td></tr></tbody></table></div>
<hr/>
<h3 id="ceilx" node="[object Object]">ceil(x)</h3>
<p>Round up to nearest integer.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">R</span> <span class="syn-comparison">=</span> <span class="syn-builtin">ceil</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">x</td><td class="border px-4 py-2" node="[object Object]">Float64 or Int64</td><td class="border px-4 py-2" node="[object Object]">Input value</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Smallest integer &gt;= x</td></tr></tbody></table></div>
<hr/>
<h3 id="signx" node="[object Object]">sign(x)</h3>
<p>Sign function. Returns -1, 0, or 1.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">S</span> <span class="syn-comparison">=</span> <span class="syn-builtin">sign</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">x</td><td class="border px-4 py-2" node="[object Object]">Float64 or Int64</td><td class="border px-4 py-2" node="[object Object]">Input value</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">-1 (negative), 0 (zero), or 1 (positive)</td></tr></tbody></table></div>
<p><strong>Note</strong>: For float NaN, returns 0.</p>
<hr/>
<h2 id="8-string-functions" node="[object Object]">8. String Functions</h2>
<p>Functions for string manipulation.</p>
<h3 id="lens" node="[object Object]">len(s)</h3>
<p>Get string length (byte count).</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">L</span> <span class="syn-comparison">=</span> <span class="syn-builtin">len</span><span class="syn-punct">(</span><span class="syn-variable">S</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example</span>
<span class="syn-identifier">long_names</span><span class="syn-punct">(</span><span class="syn-variable">Name</span><span class="syn-punct">,</span> <span class="syn-variable">L</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">names</span><span class="syn-punct">(</span><span class="syn-variable">Name</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">L</span> <span class="syn-comparison">=</span> <span class="syn-builtin">len</span><span class="syn-punct">(</span><span class="syn-variable">Name</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">L</span> <span class="syn-comparison">&gt;</span> <span class="syn-number">10</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">s</td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">Input string</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Byte length of string</td></tr></tbody></table></div>
<hr/>
<h3 id="uppers" node="[object Object]">upper(s)</h3>
<p>Convert string to uppercase (Unicode-aware).</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">U</span> <span class="syn-comparison">=</span> <span class="syn-builtin">upper</span><span class="syn-punct">(</span><span class="syn-variable">S</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">s</td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">Input string</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">Uppercase string</td></tr></tbody></table></div>
<hr/>
<h3 id="lowers" node="[object Object]">lower(s)</h3>
<p>Convert string to lowercase (Unicode-aware).</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">L</span> <span class="syn-comparison">=</span> <span class="syn-builtin">lower</span><span class="syn-punct">(</span><span class="syn-variable">S</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">s</td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">Input string</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">Lowercase string</td></tr></tbody></table></div>
<hr/>
<h3 id="trims" node="[object Object]">trim(s)</h3>
<p>Remove leading and trailing whitespace.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">T</span> <span class="syn-comparison">=</span> <span class="syn-builtin">trim</span><span class="syn-punct">(</span><span class="syn-variable">S</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">s</td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">Input string</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">Trimmed string</td></tr></tbody></table></div>
<hr/>
<h3 id="substrs-start-len" node="[object Object]">substr(s, start, len)</h3>
<p>Extract a substring.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">Sub</span> <span class="syn-comparison">=</span> <span class="syn-builtin">substr</span><span class="syn-punct">(</span><span class="syn-variable">S</span><span class="syn-punct">,</span> <span class="syn-variable">Start</span><span class="syn-punct">,</span> <span class="syn-variable">Len</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example - Get first 3 characters</span>
<span class="syn-identifier">prefix</span><span class="syn-punct">(</span><span class="syn-variable">Name</span><span class="syn-punct">,</span> <span class="syn-variable">P</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">names</span><span class="syn-punct">(</span><span class="syn-variable">Name</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">P</span> <span class="syn-comparison">=</span> <span class="syn-builtin">substr</span><span class="syn-punct">(</span><span class="syn-variable">Name</span><span class="syn-punct">,</span> <span class="syn-number">0</span><span class="syn-punct">,</span> <span class="syn-number">3</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">s</td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">Input string</td></tr><tr><td class="border px-4 py-2" node="[object Object]">start</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Start byte index (0-based)</td></tr><tr><td class="border px-4 py-2" node="[object Object]">len</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Maximum length to extract</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">Extracted substring</td></tr></tbody></table></div>
<p><strong>Note</strong>: Returns empty string if start &gt; string length. Clamps to string bounds.</p>
<hr/>
<h3 id="replaces-find-replacement" node="[object Object]">replace(s, find, replacement)</h3>
<p>Replace all occurrences of a substring.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">R</span> <span class="syn-comparison">=</span> <span class="syn-builtin">replace</span><span class="syn-punct">(</span><span class="syn-variable">S</span><span class="syn-punct">,</span> <span class="syn-variable">Find</span><span class="syn-punct">,</span> <span class="syn-variable">Replacement</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example</span>
<span class="syn-identifier">cleaned</span><span class="syn-punct">(</span><span class="syn-variable">R</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">raw</span><span class="syn-punct">(</span><span class="syn-string">"hello-world"</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">R</span> <span class="syn-comparison">=</span> <span class="syn-builtin">replace</span><span class="syn-punct">(</span><span class="syn-string">"hello-world"</span><span class="syn-punct">,</span> <span class="syn-string">"-"</span><span class="syn-punct">,</span> <span class="syn-string">" "</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">s</td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">Input string</td></tr><tr><td class="border px-4 py-2" node="[object Object]">find</td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">Substring to find</td></tr><tr><td class="border px-4 py-2" node="[object Object]">replacement</td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">Replacement string</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">String with all occurrences replaced</td></tr></tbody></table></div>
<hr/>
<h3 id="concats1-s2-" node="[object Object]">concat(s1, s2, ...)</h3>
<p>Concatenate multiple values into a string. Variable arity (2+ arguments).</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">R</span> <span class="syn-comparison">=</span> <span class="syn-builtin">concat</span><span class="syn-punct">(</span><span class="syn-variable">S1</span><span class="syn-punct">,</span> <span class="syn-variable">S2</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example - Build full name</span>
<span class="syn-identifier">full_name</span><span class="syn-punct">(</span><span class="syn-variable">First</span><span class="syn-punct">,</span> <span class="syn-variable">Last</span><span class="syn-punct">,</span> <span class="syn-variable">Full</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">person</span><span class="syn-punct">(</span><span class="syn-variable">First</span><span class="syn-punct">,</span> <span class="syn-variable">Last</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Full</span> <span class="syn-comparison">=</span> <span class="syn-builtin">concat</span><span class="syn-punct">(</span><span class="syn-variable">First</span><span class="syn-punct">,</span> <span class="syn-string">" "</span><span class="syn-punct">,</span> <span class="syn-variable">Last</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">s1, s2, ...</td><td class="border px-4 py-2" node="[object Object]">String/Int64/Float64</td><td class="border px-4 py-2" node="[object Object]">Values to concatenate</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">Concatenated string</td></tr></tbody></table></div>
<p><strong>Note</strong>: Non-string values are automatically converted to their string representation.</p>
<hr/>
<h2 id="9-scalar-minmax-functions" node="[object Object]">9. Scalar Min/Max Functions</h2>
<p>Scalar comparison functions returning the minimum or maximum of two values.</p>
<h3 id="minvala-b" node="[object Object]">min_val(a, b)</h3>
<p>Return the smaller of two values.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">M</span> <span class="syn-comparison">=</span> <span class="syn-builtin">min_val</span><span class="syn-punct">(</span><span class="syn-variable">A</span><span class="syn-punct">,</span> <span class="syn-variable">B</span><span class="syn-punct">)</span>

<span class="syn-comment">// Example - Clamp to range</span>
<span class="syn-identifier">clamped</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">,</span> <span class="syn-variable">C</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">values</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">C</span> <span class="syn-comparison">=</span> <span class="syn-builtin">max_val</span><span class="syn-punct">(</span><span class="syn-number">0</span><span class="syn-punct">,</span> <span class="syn-builtin">min_val</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">,</span> <span class="syn-number">100</span><span class="syn-punct">)</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">a</td><td class="border px-4 py-2" node="[object Object]">Int64/Float64/String</td><td class="border px-4 py-2" node="[object Object]">First value</td></tr><tr><td class="border px-4 py-2" node="[object Object]">b</td><td class="border px-4 py-2" node="[object Object]">Int64/Float64/String</td><td class="border px-4 py-2" node="[object Object]">Second value</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Same as input</td><td class="border px-4 py-2" node="[object Object]">Smaller of the two values</td></tr></tbody></table></div>
<p><strong>Note</strong>: Do not confuse with the <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">min</code> aggregation. <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">min_val</code> is a scalar function comparing two values. Mixed numeric types (Int64 + Float64) return Float64. Strings compare lexicographically.</p>
<hr/>
<h3 id="maxvala-b" node="[object Object]">max_val(a, b)</h3>
<p>Return the larger of two values.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-variable">M</span> <span class="syn-comparison">=</span> <span class="syn-builtin">max_val</span><span class="syn-punct">(</span><span class="syn-variable">A</span><span class="syn-punct">,</span> <span class="syn-variable">B</span><span class="syn-punct">)</span>
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameter</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Type</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">a</td><td class="border px-4 py-2" node="[object Object]">Int64/Float64/String</td><td class="border px-4 py-2" node="[object Object]">First value</td></tr><tr><td class="border px-4 py-2" node="[object Object]">b</td><td class="border px-4 py-2" node="[object Object]">Int64/Float64/String</td><td class="border px-4 py-2" node="[object Object]">Second value</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><strong>Returns</strong></td><td class="border px-4 py-2" node="[object Object]">Same as input</td><td class="border px-4 py-2" node="[object Object]">Larger of the two values</td></tr></tbody></table></div>
<p><strong>Note</strong>: Do not confuse with the <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">max</code> aggregation. <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">max_val</code> is a scalar function comparing two values. Mixed numeric types (Int64 + Float64) return Float64. Strings compare lexicographically.</p>
<hr/>
<h2 id="appendix-function-quick-reference" node="[object Object]">Appendix: Function Quick Reference</h2>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Function</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Parameters</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Returns</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Category</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">euclidean</code></td><td class="border px-4 py-2" node="[object Object]">(v1, v2)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Distance</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">cosine</code></td><td class="border px-4 py-2" node="[object Object]">(v1, v2)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Distance</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">dot</code></td><td class="border px-4 py-2" node="[object Object]">(v1, v2)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Distance</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">manhattan</code></td><td class="border px-4 py-2" node="[object Object]">(v1, v2)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Distance</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">normalize</code></td><td class="border px-4 py-2" node="[object Object]">(v)</td><td class="border px-4 py-2" node="[object Object]">Vector</td><td class="border px-4 py-2" node="[object Object]">Vector Ops</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">vec_dim</code></td><td class="border px-4 py-2" node="[object Object]">(v)</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Vector Ops</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">vec_add</code></td><td class="border px-4 py-2" node="[object Object]">(v1, v2)</td><td class="border px-4 py-2" node="[object Object]">Vector</td><td class="border px-4 py-2" node="[object Object]">Vector Ops</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">vec_scale</code></td><td class="border px-4 py-2" node="[object Object]">(v, s)</td><td class="border px-4 py-2" node="[object Object]">Vector</td><td class="border px-4 py-2" node="[object Object]">Vector Ops</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">lsh_bucket</code></td><td class="border px-4 py-2" node="[object Object]">(v, table, hp)</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">LSH</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">lsh_probes</code></td><td class="border px-4 py-2" node="[object Object]">(bucket, hp, n)</td><td class="border px-4 py-2" node="[object Object]">Vector</td><td class="border px-4 py-2" node="[object Object]">LSH</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">lsh_multi_probe</code></td><td class="border px-4 py-2" node="[object Object]">(v, table, hp, n)</td><td class="border px-4 py-2" node="[object Object]">Vector</td><td class="border px-4 py-2" node="[object Object]">LSH</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">quantize_linear</code></td><td class="border px-4 py-2" node="[object Object]">(v)</td><td class="border px-4 py-2" node="[object Object]">VectorInt8</td><td class="border px-4 py-2" node="[object Object]">Quantization</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">quantize_symmetric</code></td><td class="border px-4 py-2" node="[object Object]">(v)</td><td class="border px-4 py-2" node="[object Object]">VectorInt8</td><td class="border px-4 py-2" node="[object Object]">Quantization</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">dequantize</code></td><td class="border px-4 py-2" node="[object Object]">(qv)</td><td class="border px-4 py-2" node="[object Object]">Vector</td><td class="border px-4 py-2" node="[object Object]">Quantization</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">dequantize_scaled</code></td><td class="border px-4 py-2" node="[object Object]">(qv, s)</td><td class="border px-4 py-2" node="[object Object]">Vector</td><td class="border px-4 py-2" node="[object Object]">Quantization</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">euclidean_int8</code></td><td class="border px-4 py-2" node="[object Object]">(qv1, qv2)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Int8 Distance</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">cosine_int8</code></td><td class="border px-4 py-2" node="[object Object]">(qv1, qv2)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Int8 Distance</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">dot_int8</code></td><td class="border px-4 py-2" node="[object Object]">(qv1, qv2)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Int8 Distance</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">manhattan_int8</code></td><td class="border px-4 py-2" node="[object Object]">(qv1, qv2)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Int8 Distance</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_now</code></td><td class="border px-4 py-2" node="[object Object]">()</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Temporal</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_diff</code></td><td class="border px-4 py-2" node="[object Object]">(t1, t2)</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Temporal</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_add</code></td><td class="border px-4 py-2" node="[object Object]">(ts, dur)</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Temporal</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_sub</code></td><td class="border px-4 py-2" node="[object Object]">(ts, dur)</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Temporal</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_decay</code></td><td class="border px-4 py-2" node="[object Object]">(ts, now, hl)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Temporal</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_decay_linear</code></td><td class="border px-4 py-2" node="[object Object]">(ts, now, max)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Temporal</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_before</code></td><td class="border px-4 py-2" node="[object Object]">(t1, t2)</td><td class="border px-4 py-2" node="[object Object]">Bool</td><td class="border px-4 py-2" node="[object Object]">Temporal</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_after</code></td><td class="border px-4 py-2" node="[object Object]">(t1, t2)</td><td class="border px-4 py-2" node="[object Object]">Bool</td><td class="border px-4 py-2" node="[object Object]">Temporal</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_between</code></td><td class="border px-4 py-2" node="[object Object]">(ts, s, e)</td><td class="border px-4 py-2" node="[object Object]">Bool</td><td class="border px-4 py-2" node="[object Object]">Temporal</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">within_last</code></td><td class="border px-4 py-2" node="[object Object]">(ts, now, dur)</td><td class="border px-4 py-2" node="[object Object]">Bool</td><td class="border px-4 py-2" node="[object Object]">Temporal</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">intervals_overlap</code></td><td class="border px-4 py-2" node="[object Object]">(s1, e1, s2, e2)</td><td class="border px-4 py-2" node="[object Object]">Bool</td><td class="border px-4 py-2" node="[object Object]">Temporal</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">interval_contains</code></td><td class="border px-4 py-2" node="[object Object]">(s1, e1, s2, e2)</td><td class="border px-4 py-2" node="[object Object]">Bool</td><td class="border px-4 py-2" node="[object Object]">Temporal</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">interval_duration</code></td><td class="border px-4 py-2" node="[object Object]">(s, e)</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Temporal</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">point_in_interval</code></td><td class="border px-4 py-2" node="[object Object]">(ts, s, e)</td><td class="border px-4 py-2" node="[object Object]">Bool</td><td class="border px-4 py-2" node="[object Object]">Temporal</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">abs</code></td><td class="border px-4 py-2" node="[object Object]">(x)</td><td class="border px-4 py-2" node="[object Object]">same type</td><td class="border px-4 py-2" node="[object Object]">Math</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">abs_int64</code></td><td class="border px-4 py-2" node="[object Object]">(x)</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Math</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">abs_float64</code></td><td class="border px-4 py-2" node="[object Object]">(x)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Math</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">sqrt</code></td><td class="border px-4 py-2" node="[object Object]">(x)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Math</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">pow</code></td><td class="border px-4 py-2" node="[object Object]">(base, exp)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Math</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">log</code></td><td class="border px-4 py-2" node="[object Object]">(x)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Math</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">exp</code></td><td class="border px-4 py-2" node="[object Object]">(x)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Math</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">sin</code></td><td class="border px-4 py-2" node="[object Object]">(x)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Math</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">cos</code></td><td class="border px-4 py-2" node="[object Object]">(x)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Math</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">tan</code></td><td class="border px-4 py-2" node="[object Object]">(x)</td><td class="border px-4 py-2" node="[object Object]">Float64</td><td class="border px-4 py-2" node="[object Object]">Math</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">floor</code></td><td class="border px-4 py-2" node="[object Object]">(x)</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Math</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">ceil</code></td><td class="border px-4 py-2" node="[object Object]">(x)</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Math</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">sign</code></td><td class="border px-4 py-2" node="[object Object]">(x)</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">Math</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">len</code></td><td class="border px-4 py-2" node="[object Object]">(s)</td><td class="border px-4 py-2" node="[object Object]">Int64</td><td class="border px-4 py-2" node="[object Object]">String</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">upper</code></td><td class="border px-4 py-2" node="[object Object]">(s)</td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">String</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">lower</code></td><td class="border px-4 py-2" node="[object Object]">(s)</td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">String</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">trim</code></td><td class="border px-4 py-2" node="[object Object]">(s)</td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">String</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">substr</code></td><td class="border px-4 py-2" node="[object Object]">(s, start, len)</td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">String</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">replace</code></td><td class="border px-4 py-2" node="[object Object]">(s, find, repl)</td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">String</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">concat</code></td><td class="border px-4 py-2" node="[object Object]">(s1, s2, ...)</td><td class="border px-4 py-2" node="[object Object]">String</td><td class="border px-4 py-2" node="[object Object]">String</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">min_val</code></td><td class="border px-4 py-2" node="[object Object]">(a, b)</td><td class="border px-4 py-2" node="[object Object]">same type</td><td class="border px-4 py-2" node="[object Object]">Min/Max</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">max_val</code></td><td class="border px-4 py-2" node="[object Object]">(a, b)</td><td class="border px-4 py-2" node="[object Object]">same type</td><td class="border px-4 py-2" node="[object Object]">Min/Max</td></tr></tbody></table></div></article></div><div class="hidden lg:block w-48 shrink-0 border-l border-border/50"><div class="sticky top-0 p-4"><p class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3">On this page</p><nav class="space-y-1"><a href="#overview" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Overview</a><a href="#table-of-contents" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Table of Contents</a><a href="#1-distance-functions" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">1. Distance Functions</a><a href="#euclideanv1-v2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">euclidean(v1, v2)</a><a href="#cosinev1-v2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">cosine(v1, v2)</a><a href="#dotv1-v2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">dot(v1, v2)</a><a href="#manhattanv1-v2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">manhattan(v1, v2)</a><a href="#2-vector-operations" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">2. Vector Operations</a><a href="#normalizev" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">normalize(v)</a><a href="#vecdimv" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">vecdim(v)</a><a href="#vecaddv1-v2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">vecadd(v1, v2)</a><a href="#vecscalev-scalar" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">vecscale(v, scalar)</a><a href="#3-lsh-locality-sensitive-hashing-functions" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">3. LSH (Locality Sensitive Hashing) Functions</a><a href="#lshbucketv-tableidx-numhyperplanes" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">lshbucket(v, tableidx, numhyperplanes)</a><a href="#lshprobesbucket-numhp-numprobes" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">lshprobes(bucket, numhp, numprobes)</a><a href="#lshmultiprobev-tableidx-numhp-numprobes" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">lshmultiprobe(v, tableidx, numhp, numprobes)</a><a href="#4-quantization-functions" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">4. Quantization Functions</a><a href="#quantizelinearv" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">quantizelinear(v)</a><a href="#quantizesymmetricv" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">quantizesymmetric(v)</a><a href="#dequantizev" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">dequantize(v)</a><a href="#dequantizescaledv-scale" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">dequantizescaled(v, scale)</a><a href="#5-int8-distance-functions" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">5. Int8 Distance Functions</a><a href="#native-fast-int8-distance" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Native (Fast) Int8 Distance</a><a href="#euclideanint8v1-v2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">euclideanint8(v1, v2)</a><a href="#cosineint8v1-v2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">cosineint8(v1, v2)</a><a href="#dotint8v1-v2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">dotint8(v1, v2)</a><a href="#manhattanint8v1-v2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">manhattanint8(v1, v2)</a><a href="#6-temporal-functions" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">6. Temporal Functions</a><a href="#timenow" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timenow()</a><a href="#timedifft1-t2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timediff(t1, t2)</a><a href="#timeaddts-durationms" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timeadd(ts, durationms)</a><a href="#timesubts-durationms" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timesub(ts, durationms)</a><a href="#timedecayts-now-halflifems" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timedecay(ts, now, halflifems)</a><a href="#timedecaylinearts-now-maxagems" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timedecaylinear(ts, now, maxagems)</a><a href="#timebeforet1-t2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timebefore(t1, t2)</a><a href="#timeaftert1-t2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timeafter(t1, t2)</a><a href="#timebetweents-start-end" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timebetween(ts, start, end)</a><a href="#withinlastts-now-durationms" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">withinlast(ts, now, durationms)</a><a href="#intervalsoverlaps1-e1-s2-e2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">intervalsoverlap(s1, e1, s2, e2)</a><a href="#intervalcontainss1-e1-s2-e2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">intervalcontains(s1, e1, s2, e2)</a><a href="#intervaldurationstart-end" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">intervalduration(start, end)</a><a href="#pointinintervalts-start-end" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">pointininterval(ts, start, end)</a><a href="#7-math-functions" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">7. Math Functions</a><a href="#absx" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">abs(x)</a><a href="#absint64x" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">absint64(x)</a><a href="#absfloat64x" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">absfloat64(x)</a><a href="#sqrtx" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">sqrt(x)</a><a href="#powbase-exp" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">pow(base, exp)</a><a href="#logx" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">log(x)</a><a href="#expx" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">exp(x)</a><a href="#sinx" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">sin(x)</a><a href="#cosx" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">cos(x)</a><a href="#tanx" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">tan(x)</a><a href="#floorx" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">floor(x)</a><a href="#ceilx" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">ceil(x)</a><a href="#signx" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">sign(x)</a><a href="#8-string-functions" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">8. String Functions</a><a href="#lens" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">len(s)</a><a href="#uppers" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">upper(s)</a><a href="#lowers" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">lower(s)</a><a href="#trims" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">trim(s)</a><a href="#substrs-start-len" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">substr(s, start, len)</a><a href="#replaces-find-replacement" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">replace(s, find, replacement)</a><a href="#concats1-s2-" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">concat(s1, s2, ...)</a><a href="#9-scalar-minmax-functions" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">9. Scalar Min/Max Functions</a><a href="#minvala-b" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">minval(a, b)</a><a href="#maxvala-b" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">maxval(a, b)</a><a href="#appendix-function-quick-reference" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Appendix: Function Quick Reference</a></nav></div></div></div></div></div></div><!--$--><!--/$--><script src="/_next/static/chunks/webpack-bd6546b43ab2ecbf.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[1942,[\"177\",\"static/chunks/app/layout-7e9963bf811be36b.js\"],\"ThemeProvider\"]\n3:I[7121,[],\"\"]\n4:I[4581,[],\"\"]\n6:I[484,[],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[484,[],\"ViewportBoundary\"]\nb:I[484,[],\"MetadataBoundary\"]\nd:I[7123,[],\"\"]\n:HL[\"/_next/static/media/4cf2300e9c8272f7-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/4bd7a24b7976d4e6.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"05bjYGyiAumoEMBrfWHih\",\"c\":[\"\",\"docs\",\"reference\",\"functions\",\"\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"reference/functions\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/4bd7a24b7976d4e6.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_188709 __variable_9a8899 font-sans antialiased\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"dark\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"e:I[8428,[\"758\",\"static/chunks/758-3cb69ce377cde046.js\",\"121\",\"static/chunks/121-aece4f809b101dc1.js\",\"502\",\"static/chunks/502-e809071f8789437b.js\",\"689\",\"static/chunks/689-4fcf9680fdc90283.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-004ec69e3c86920a.js\"],\"DocsPageClient\"]\nf:T5db0,"])</script><script>self.__next_f.push([1,"# InputLayer Builtin Functions Reference\n\n---\n\n## Overview\n\nInputLayer provides 55 builtin functions for vector operations, temporal processing, quantization, string manipulation, and math utilities.\n\n---\n\n## Table of Contents\n\n1. [Distance Functions](#1-distance-functions)\n2. [Vector Operations](#2-vector-operations)\n3. [LSH Functions](#3-lsh-locality-sensitive-hashing-functions)\n4. [Quantization Functions](#4-quantization-functions)\n5. [Int8 Distance Functions](#5-int8-distance-functions)\n6. [Temporal Functions](#6-temporal-functions)\n7. [Math Functions](#7-math-functions)\n8. [String Functions](#8-string-functions)\n9. [Scalar Min/Max Functions](#9-scalar-minmax-functions)\n\n---\n\n## 1. Distance Functions\n\nDistance functions for f32 vectors. All return `Float64`.\n\n### euclidean(v1, v2)\n\nEuclidean (L2) distance between two vectors.\n\n```datalog\n// Syntax\nD = euclidean(V1, V2)\n\n// Example\nsimilar(Id1, Id2, Dist) \u003c-\n    vectors(Id1, V1),\n    vectors(Id2, V2),\n    Id1 \u003c Id2,\n    Dist = euclidean(V1, V2),\n    Dist \u003c 1.0\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v1 | Vector (f32) | First vector |\n| v2 | Vector (f32) | Second vector |\n| **Returns** | Float64 | Euclidean distance (\u003e= 0) |\n\n---\n\n### cosine(v1, v2)\n\nCosine distance (1 - cosine similarity) between two vectors.\n\n```datalog\n// Syntax\nD = cosine(V1, V2)\n\n// Example - Find similar documents\nsimilar_docs(Id1, Id2) \u003c-\n    doc_embedding(Id1, V1),\n    doc_embedding(Id2, V2),\n    D = cosine(V1, V2),\n    D \u003c 0.1  // Very similar (close to 0)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v1 | Vector (f32) | First vector |\n| v2 | Vector (f32) | Second vector |\n| **Returns** | Float64 | Cosine distance (range [0, 2]) |\n\n**Note**: Returns 0 for identical directions, 1 for orthogonal, 2 for opposite directions.\n\n---\n\n### dot(v1, v2)\n\nDot product of two vectors.\n\n```datalog\n// Syntax\nScore = dot(V1, V2)\n\n// Example - Compute relevance scores\nrelevance(QueryId, DocId, Score) \u003c-\n    query_vector(QueryId, Q),\n    doc_vector(DocId, D),\n    Score = dot(Q, D)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v1 | Vector (f32) | First vector |\n| v2 | Vector (f32) | Second vector |\n| **Returns** | Float64 | Dot product |\n\n---\n\n### manhattan(v1, v2)\n\nManhattan (L1) distance between two vectors. Good for sparse vectors.\n\n```datalog\n// Syntax\nD = manhattan(V1, V2)\n\n// Example\nnearby(Id1, Id2) \u003c-\n    location(Id1, V1),\n    location(Id2, V2),\n    D = manhattan(V1, V2),\n    D \u003c 10.0\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v1 | Vector (f32) | First vector |\n| v2 | Vector (f32) | Second vector |\n| **Returns** | Float64 | Manhattan distance (\u003e= 0) |\n\n---\n\n## 2. Vector Operations\n\nOperations for manipulating vectors.\n\n### normalize(v)\n\nNormalize vector to unit length.\n\n```datalog\n// Syntax\nNormalized = normalize(V)\n\n// Example - Normalize before cosine similarity\nnormalized_embedding(Id, NormV) \u003c-\n    raw_embedding(Id, V),\n    NormV = normalize(V)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v | Vector (f32) | Input vector |\n| **Returns** | Vector (f32) | Unit vector (length = 1) |\n\n**Note**: Returns zero vector if input is zero vector.\n\n---\n\n### vec_dim(v)\n\nGet the dimension (length) of a float32 vector.\n\n```datalog\n// Syntax\nDim = vec_dim(V)\n\n// Example - Filter by dimension\nvalid_embedding(Id, V) \u003c-\n    embedding(Id, V),\n    Dim = vec_dim(V),\n    Dim = 128\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v | Vector (f32) | Input vector |\n| **Returns** | Int64 | Number of dimensions |\n\n---\n\n### vec_add(v1, v2)\n\nElement-wise addition of two vectors.\n\n```datalog\n// Syntax\nSum = vec_add(V1, V2)\n\n// Example - Combine embeddings\ncombined(Id, SumV) \u003c-\n    text_embedding(Id, T),\n    image_embedding(Id, I),\n    SumV = vec_add(T, I)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v1 | Vector (f32) | First vector |\n| v2 | Vector (f32) | Second vector |\n| **Returns** | Vector (f32) | Element-wise sum |\n\n**Note**: Vectors must have same dimension.\n\n---\n\n### vec_scale(v, scalar)\n\nScale vector by a scalar value.\n\n```datalog\n// Syntax\nScaled = vec_scale(V, S)\n\n// Example - Apply weight\nweighted(Id, ScaledV) \u003c-\n    embedding(Id, V),\n    weight(Id, W),\n    ScaledV = vec_scale(V, W)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v | Vector (f32) | Input vector |\n| scalar | Float64 | Scale factor |\n| **Returns** | Vector (f32) | Scaled vector |\n\n---\n\n## 3. LSH (Locality Sensitive Hashing) Functions\n\nFunctions for approximate nearest neighbor search.\n\n### lsh_bucket(v, table_idx, num_hyperplanes)\n\nCompute LSH bucket ID for a float32 vector.\n\n```datalog\n// Syntax\nBucket = lsh_bucket(V, TableIdx, NumHyperplanes)\n\n// Example - Build LSH index\nlsh_index(Id, Table, Bucket) \u003c-\n    embedding(Id, V),\n    Table = 0,\n    Bucket = lsh_bucket(V, Table, 8)  // 8 hyperplanes = 256 buckets\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v | Vector (f32) | Input vector |\n| table_idx | Int64 | Hash table index (for multiple tables) |\n| num_hyperplanes | Int64 | Number of hyperplanes (controls granularity) |\n| **Returns** | Int64 | Bucket ID |\n\n**Note**: More hyperplanes = more buckets = higher precision but lower recall.\n\n---\n\n### lsh_probes(bucket, num_hp, num_probes)\n\nGenerate multi-probe sequence for a bucket by Hamming distance.\n\n```datalog\n// Syntax\nProbes = lsh_probes(Bucket, NumHyperplanes, NumProbes)\n\n// Example - Get probe sequence\nprobe_buckets(OrigBucket, Probes) \u003c-\n    query_bucket(OrigBucket),\n    Probes = lsh_probes(OrigBucket, 8, 4)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| bucket | Int64 | Original bucket ID |\n| num_hp | Int64 | Number of hyperplanes used |\n| num_probes | Int64 | Number of probe buckets to generate |\n| **Returns** | Vector | Probe bucket IDs |\n\n---\n\n### lsh_multi_probe(v, table_idx, num_hp, num_probes)\n\nCompute LSH bucket and probes in one call for float32 vectors.\n\n```datalog\n// Syntax\nBuckets = lsh_multi_probe(V, TableIdx, NumHyperplanes, NumProbes)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v | Vector (f32) | Query vector |\n| table_idx | Int64 | Hash table index |\n| num_hp | Int64 | Number of hyperplanes |\n| num_probes | Int64 | Number of probes |\n| **Returns** | Vector | Bucket IDs to probe |\n\n---\n\n## 4. Quantization Functions\n\nFunctions for int8 vector quantization (memory-efficient storage).\n\n### quantize_linear(v)\n\nLinear quantization: maps [min, max] to [-128, 127].\n\n```datalog\n// Syntax\nQV = quantize_linear(V)\n\n// Example - Compress embeddings\ncompressed(Id, QV) \u003c-\n    embedding(Id, V),\n    QV = quantize_linear(V)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v | Vector (f32) | Input vector |\n| **Returns** | VectorInt8 | Quantized vector |\n\n---\n\n### quantize_symmetric(v)\n\nSymmetric quantization: maps [-max_abs, max_abs] to [-127, 127], preserving zero.\n\n```datalog\nQV = quantize_symmetric(V)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v | Vector (f32) | Input vector |\n| **Returns** | VectorInt8 | Quantized vector |\n\n**Note**: Better preserves zero values; recommended for normalized vectors.\n\n---\n\n### dequantize(v)\n\nConvert int8 vector back to f32.\n\n```datalog\nFV = dequantize(QV)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v | VectorInt8 | Quantized vector |\n| **Returns** | Vector (f32) | Dequantized vector |\n\n**Note**: Lossy conversion - original precision not fully recovered.\n\n---\n\n### dequantize_scaled(v, scale)\n\nDequantize with explicit scale factor.\n\n```datalog\nFV = dequantize_scaled(QV, Scale)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v | VectorInt8 | Quantized vector |\n| scale | Float64 | Scale factor |\n| **Returns** | Vector (f32) | Dequantized vector |\n\n---\n\n## 5. Int8 Distance Functions\n\n### Native (Fast) Int8 Distance\n\nDirect computation on int8 values for maximum speed.\n\n### euclidean_int8(v1, v2)\n\nEuclidean distance for int8 vectors.\n\n```datalog\nD = euclidean_int8(QV1, QV2)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v1 | VectorInt8 | First quantized vector |\n| v2 | VectorInt8 | Second quantized vector |\n| **Returns** | Float64 | Euclidean distance |\n\n---\n\n### cosine_int8(v1, v2)\n\nCosine distance for int8 vectors.\n\n```datalog\nD = cosine_int8(QV1, QV2)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v1 | VectorInt8 | First quantized vector |\n| v2 | VectorInt8 | Second quantized vector |\n| **Returns** | Float64 | Cosine distance [0, 2] |\n\n---\n\n### dot_int8(v1, v2)\n\nDot product for int8 vectors.\n\n```datalog\nScore = dot_int8(QV1, QV2)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v1 | VectorInt8 | First quantized vector |\n| v2 | VectorInt8 | Second quantized vector |\n| **Returns** | Float64 | Dot product |\n\n---\n\n### manhattan_int8(v1, v2)\n\nManhattan distance for int8 vectors.\n\n```datalog\nD = manhattan_int8(QV1, QV2)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| v1 | VectorInt8 | First quantized vector |\n| v2 | VectorInt8 | Second quantized vector |\n| **Returns** | Float64 | Manhattan distance |\n\n---\n\n## 6. Temporal Functions\n\nFunctions for time-based queries and temporal reasoning.\n\n### time_now()\n\nGet current Unix timestamp in milliseconds.\n\n```datalog\nNow = time_now()\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| (none) | - | No parameters |\n| **Returns** | Int64 | Unix timestamp (milliseconds) |\n\n---\n\n### time_diff(t1, t2)\n\nCompute difference between two timestamps.\n\n```datalog\nDiff = time_diff(T1, T2)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| t1 | Int64 | First timestamp |\n| t2 | Int64 | Second timestamp |\n| **Returns** | Int64 | Difference (t1 - t2) in milliseconds |\n\n---\n\n### time_add(ts, duration_ms)\n\nAdd duration to timestamp.\n\n```datalog\nNewTime = time_add(Ts, DurationMs)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| ts | Int64 | Base timestamp |\n| duration_ms | Int64 | Duration to add (milliseconds) |\n| **Returns** | Int64 | New timestamp |\n\n---\n\n### time_sub(ts, duration_ms)\n\nSubtract duration from timestamp.\n\n```datalog\nNewTime = time_sub(Ts, DurationMs)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| ts | Int64 | Base timestamp |\n| duration_ms | Int64 | Duration to subtract (milliseconds) |\n| **Returns** | Int64 | New timestamp |\n\n---\n\n### time_decay(ts, now, half_life_ms)\n\nExponential time decay. Formula: `0.5^(age/half_life)`.\n\n```datalog\nWeight = time_decay(Ts, Now, HalfLifeMs)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| ts | Int64 | Event timestamp |\n| now | Int64 | Current timestamp |\n| half_life_ms | Int64 | Half-life in milliseconds |\n| **Returns** | Float64 | Decay factor [0, 1] |\n\n**Note**: Returns 1.0 at ts=now, 0.5 at age=half_life, approaches 0 for old events.\n\n---\n\n### time_decay_linear(ts, now, max_age_ms)\n\nLinear time decay. Formula: `max(0, 1 - age/max_age)`.\n\n```datalog\nWeight = time_decay_linear(Ts, Now, MaxAgeMs)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| ts | Int64 | Event timestamp |\n| now | Int64 | Current timestamp |\n| max_age_ms | Int64 | Maximum age for decay |\n| **Returns** | Float64 | Decay factor [0, 1] |\n\n**Note**: Returns 1.0 at ts=now, 0.5 at age=max_age/2, 0.0 at age\u003e=max_age.\n\n---\n\n### time_before(t1, t2)\n\nCheck if t1 is before t2.\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| t1 | Int64 | First timestamp |\n| t2 | Int64 | Second timestamp |\n| **Returns** | Bool | true if t1 \u003c t2 |\n\n---\n\n### time_after(t1, t2)\n\nCheck if t1 is after t2.\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| t1 | Int64 | First timestamp |\n| t2 | Int64 | Second timestamp |\n| **Returns** | Bool | true if t1 \u003e t2 |\n\n---\n\n### time_between(ts, start, end)\n\nCheck if timestamp is within range [start, end] (inclusive).\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| ts | Int64 | Timestamp to check |\n| start | Int64 | Window start |\n| end | Int64 | Window end |\n| **Returns** | Bool | true if start \u003c= ts \u003c= end |\n\n---\n\n### within_last(ts, now, duration_ms)\n\nCheck if timestamp is within the last duration from now.\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| ts | Int64 | Timestamp to check |\n| now | Int64 | Current timestamp |\n| duration_ms | Int64 | Window size in milliseconds |\n| **Returns** | Bool | true if (now - duration_ms) \u003c= ts \u003c= now |\n\n---\n\n### intervals_overlap(s1, e1, s2, e2)\n\nCheck if two time intervals overlap.\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| s1 | Int64 | First interval start |\n| e1 | Int64 | First interval end |\n| s2 | Int64 | Second interval start |\n| e2 | Int64 | Second interval end |\n| **Returns** | Bool | true if intervals overlap |\n\n---\n\n### interval_contains(s1, e1, s2, e2)\n\nCheck if interval [s1, e1] fully contains interval [s2, e2].\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| s1 | Int64 | Outer interval start |\n| e1 | Int64 | Outer interval end |\n| s2 | Int64 | Inner interval start |\n| e2 | Int64 | Inner interval end |\n| **Returns** | Bool | true if [s1,e1] contains [s2,e2] |\n\n---\n\n### interval_duration(start, end)\n\nGet the duration of an interval.\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| start | Int64 | Interval start |\n| end | Int64 | Interval end |\n| **Returns** | Int64 | Duration (end - start) in milliseconds |\n\n---\n\n### point_in_interval(ts, start, end)\n\nCheck if a point is within an interval [start, end] (inclusive).\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| ts | Int64 | Point timestamp |\n| start | Int64 | Interval start |\n| end | Int64 | Interval end |\n| **Returns** | Bool | true if start \u003c= ts \u003c= end |\n\n---\n\n## 7. Math Functions\n\nGeneral-purpose math functions. All accept Int64 or Float64 inputs (coerced to f64 internally unless noted).\n\n### abs(x)\n\nGeneric absolute value. Preserves input type.\n\n```datalog\nA = abs(X)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| x | Int64 or Float64 | Input value |\n| **Returns** | Same as input | Absolute value |\n\n---\n\n### abs_int64(x)\n\nAbsolute value of an integer.\n\n```datalog\nAbsVal = abs_int64(X)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| x | Int64 | Input integer |\n| **Returns** | Int64 | Absolute value |\n\n**Note**: Uses saturating arithmetic for `i64::MIN`.\n\n---\n\n### abs_float64(x)\n\nAbsolute value of a float.\n\n```datalog\nAbsVal = abs_float64(X)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| x | Float64 | Input float |\n| **Returns** | Float64 | Absolute value |\n\n---\n\n### sqrt(x)\n\nSquare root.\n\n```datalog\nR = sqrt(X)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| x | Float64 or Int64 | Input value (\u003e= 0) |\n| **Returns** | Float64 | Square root |\n\n**Note**: Returns Null if x \u003c 0.\n\n---\n\n### pow(base, exp)\n\nPower function.\n\n```datalog\nR = pow(Base, Exp)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| base | Float64 or Int64 | Base value |\n| exp | Float64 or Int64 | Exponent |\n| **Returns** | Float64 | base^exp |\n\n---\n\n### log(x)\n\nNatural logarithm (base e).\n\n```datalog\nR = log(X)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| x | Float64 or Int64 | Input value (\u003e 0) |\n| **Returns** | Float64 | Natural logarithm |\n\n**Note**: Returns Null if x \u003c= 0.\n\n---\n\n### exp(x)\n\nExponential function (e^x).\n\n```datalog\nR = exp(X)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| x | Float64 or Int64 | Input value |\n| **Returns** | Float64 | e^x |\n\n---\n\n### sin(x)\n\nSine function (radians).\n\n```datalog\nR = sin(X)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| x | Float64 or Int64 | Angle in radians |\n| **Returns** | Float64 | Sine of x |\n\n---\n\n### cos(x)\n\nCosine function (radians).\n\n```datalog\nR = cos(X)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| x | Float64 or Int64 | Angle in radians |\n| **Returns** | Float64 | Cosine of x |\n\n---\n\n### tan(x)\n\nTangent function (radians).\n\n```datalog\nR = tan(X)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| x | Float64 or Int64 | Angle in radians |\n| **Returns** | Float64 | Tangent of x |\n\n---\n\n### floor(x)\n\nRound down to nearest integer.\n\n```datalog\nR = floor(X)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| x | Float64 or Int64 | Input value |\n| **Returns** | Int64 | Largest integer \u003c= x |\n\n---\n\n### ceil(x)\n\nRound up to nearest integer.\n\n```datalog\nR = ceil(X)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| x | Float64 or Int64 | Input value |\n| **Returns** | Int64 | Smallest integer \u003e= x |\n\n---\n\n### sign(x)\n\nSign function. Returns -1, 0, or 1.\n\n```datalog\nS = sign(X)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| x | Float64 or Int64 | Input value |\n| **Returns** | Int64 | -1 (negative), 0 (zero), or 1 (positive) |\n\n**Note**: For float NaN, returns 0.\n\n---\n\n## 8. String Functions\n\nFunctions for string manipulation.\n\n### len(s)\n\nGet string length (byte count).\n\n```datalog\nL = len(S)\n\n// Example\nlong_names(Name, L) \u003c-\n    names(Name),\n    L = len(Name),\n    L \u003e 10\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| s | String | Input string |\n| **Returns** | Int64 | Byte length of string |\n\n---\n\n### upper(s)\n\nConvert string to uppercase (Unicode-aware).\n\n```datalog\nU = upper(S)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| s | String | Input string |\n| **Returns** | String | Uppercase string |\n\n---\n\n### lower(s)\n\nConvert string to lowercase (Unicode-aware).\n\n```datalog\nL = lower(S)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| s | String | Input string |\n| **Returns** | String | Lowercase string |\n\n---\n\n### trim(s)\n\nRemove leading and trailing whitespace.\n\n```datalog\nT = trim(S)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| s | String | Input string |\n| **Returns** | String | Trimmed string |\n\n---\n\n### substr(s, start, len)\n\nExtract a substring.\n\n```datalog\nSub = substr(S, Start, Len)\n\n// Example - Get first 3 characters\nprefix(Name, P) \u003c-\n    names(Name),\n    P = substr(Name, 0, 3)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| s | String | Input string |\n| start | Int64 | Start byte index (0-based) |\n| len | Int64 | Maximum length to extract |\n| **Returns** | String | Extracted substring |\n\n**Note**: Returns empty string if start \u003e string length. Clamps to string bounds.\n\n---\n\n### replace(s, find, replacement)\n\nReplace all occurrences of a substring.\n\n```datalog\nR = replace(S, Find, Replacement)\n\n// Example\ncleaned(R) \u003c-\n    raw(\"hello-world\"),\n    R = replace(\"hello-world\", \"-\", \" \")\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| s | String | Input string |\n| find | String | Substring to find |\n| replacement | String | Replacement string |\n| **Returns** | String | String with all occurrences replaced |\n\n---\n\n### concat(s1, s2, ...)\n\nConcatenate multiple values into a string. Variable arity (2+ arguments).\n\n```datalog\nR = concat(S1, S2)\n\n// Example - Build full name\nfull_name(First, Last, Full) \u003c-\n    person(First, Last),\n    Full = concat(First, \" \", Last)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| s1, s2, ... | String/Int64/Float64 | Values to concatenate |\n| **Returns** | String | Concatenated string |\n\n**Note**: Non-string values are automatically converted to their string representation.\n\n---\n\n## 9. Scalar Min/Max Functions\n\nScalar comparison functions returning the minimum or maximum of two values.\n\n### min_val(a, b)\n\nReturn the smaller of two values.\n\n```datalog\nM = min_val(A, B)\n\n// Example - Clamp to range\nclamped(X, C) \u003c-\n    values(X),\n    C = max_val(0, min_val(X, 100))\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| a | Int64/Float64/String | First value |\n| b | Int64/Float64/String | Second value |\n| **Returns** | Same as input | Smaller of the two values |\n\n**Note**: Do not confuse with the `min` aggregation. `min_val` is a scalar function comparing two values. Mixed numeric types (Int64 + Float64) return Float64. Strings compare lexicographically.\n\n---\n\n### max_val(a, b)\n\nReturn the larger of two values.\n\n```datalog\nM = max_val(A, B)\n```\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| a | Int64/Float64/String | First value |\n| b | Int64/Float64/String | Second value |\n| **Returns** | Same as input | Larger of the two values |\n\n**Note**: Do not confuse with the `max` aggregation. `max_val` is a scalar function comparing two values. Mixed numeric types (Int64 + Float64) return Float64. Strings compare lexicographically.\n\n---\n\n## Appendix: Function Quick Reference\n\n| Function | Parameters | Returns | Category |\n|----------|-----------|---------|----------|\n| `euclidean` | (v1, v2) | Float64 | Distance |\n| `cosine` | (v1, v2) | Float64 | Distance |\n| `dot` | (v1, v2) | Float64 | Distance |\n| `manhattan` | (v1, v2) | Float64 | Distance |\n| `normalize` | (v) | Vector | Vector Ops |\n| `vec_dim` | (v) | Int64 | Vector Ops |\n| `vec_add` | (v1, v2) | Vector | Vector Ops |\n| `vec_scale` | (v, s) | Vector | Vector Ops |\n| `lsh_bucket` | (v, table, hp) | Int64 | LSH |\n| `lsh_probes` | (bucket, hp, n) | Vector | LSH |\n| `lsh_multi_probe` | (v, table, hp, n) | Vector | LSH |\n| `quantize_linear` | (v) | VectorInt8 | Quantization |\n| `quantize_symmetric` | (v) | VectorInt8 | Quantization |\n| `dequantize` | (qv) | Vector | Quantization |\n| `dequantize_scaled` | (qv, s) | Vector | Quantization |\n| `euclidean_int8` | (qv1, qv2) | Float64 | Int8 Distance |\n| `cosine_int8` | (qv1, qv2) | Float64 | Int8 Distance |\n| `dot_int8` | (qv1, qv2) | Float64 | Int8 Distance |\n| `manhattan_int8` | (qv1, qv2) | Float64 | Int8 Distance |\n| `time_now` | () | Int64 | Temporal |\n| `time_diff` | (t1, t2) | Int64 | Temporal |\n| `time_add` | (ts, dur) | Int64 | Temporal |\n| `time_sub` | (ts, dur) | Int64 | Temporal |\n| `time_decay` | (ts, now, hl) | Float64 | Temporal |\n| `time_decay_linear` | (ts, now, max) | Float64 | Temporal |\n| `time_before` | (t1, t2) | Bool | Temporal |\n| `time_after` | (t1, t2) | Bool | Temporal |\n| `time_between` | (ts, s, e) | Bool | Temporal |\n| `within_last` | (ts, now, dur) | Bool | Temporal |\n| `intervals_overlap` | (s1, e1, s2, e2) | Bool | Temporal |\n| `interval_contains` | (s1, e1, s2, e2) | Bool | Temporal |\n| `interval_duration` | (s, e) | Int64 | Temporal |\n| `point_in_interval` | (ts, s, e) | Bool | Temporal |\n| `abs` | (x) | same type | Math |\n| `abs_int64` | (x) | Int64 | Math |\n| `abs_float64` | (x) | Float64 | Math |\n| `sqrt` | (x) | Float64 | Math |\n| `pow` | (base, exp) | Float64 | Math |\n| `log` | (x) | Float64 | Math |\n| `exp` | (x) | Float64 | Math |\n| `sin` | (x) | Float64 | Math |\n| `cos` | (x) | Float64 | Math |\n| `tan` | (x) | Float64 | Math |\n| `floor` | (x) | Int64 | Math |\n| `ceil` | (x) | Int64 | Math |\n| `sign` | (x) | Int64 | Math |\n| `len` | (s) | Int64 | String |\n| `upper` | (s) | String | String |\n| `lower` | (s) | String | String |\n| `trim` | (s) | String | String |\n| `substr` | (s, start, len) | String | String |\n| `replace` | (s, find, repl) | String | String |\n| `concat` | (s1, s2, ...) | String | String |\n| `min_val` | (a, b) | same type | Min/Max |\n| `max_val` | (a, b) | same type | Min/Max |"])</script><script>self.__next_f.push([1,"5:[\"$\",\"$Le\",null,{\"page\":{\"title\":\"InputLayer Builtin Functions Reference\",\"content\":\"$f\",\"toc\":[{\"level\":2,\"text\":\"Overview\",\"id\":\"overview\"},{\"level\":2,\"text\":\"Table of Contents\",\"id\":\"table-of-contents\"},{\"level\":2,\"text\":\"1. Distance Functions\",\"id\":\"1-distance-functions\"},{\"level\":3,\"text\":\"euclidean(v1, v2)\",\"id\":\"euclideanv1-v2\"},{\"level\":3,\"text\":\"cosine(v1, v2)\",\"id\":\"cosinev1-v2\"},{\"level\":3,\"text\":\"dot(v1, v2)\",\"id\":\"dotv1-v2\"},{\"level\":3,\"text\":\"manhattan(v1, v2)\",\"id\":\"manhattanv1-v2\"},{\"level\":2,\"text\":\"2. Vector Operations\",\"id\":\"2-vector-operations\"},{\"level\":3,\"text\":\"normalize(v)\",\"id\":\"normalizev\"},{\"level\":3,\"text\":\"vecdim(v)\",\"id\":\"vecdimv\"},{\"level\":3,\"text\":\"vecadd(v1, v2)\",\"id\":\"vecaddv1-v2\"},{\"level\":3,\"text\":\"vecscale(v, scalar)\",\"id\":\"vecscalev-scalar\"},{\"level\":2,\"text\":\"3. LSH (Locality Sensitive Hashing) Functions\",\"id\":\"3-lsh-locality-sensitive-hashing-functions\"},{\"level\":3,\"text\":\"lshbucket(v, tableidx, numhyperplanes)\",\"id\":\"lshbucketv-tableidx-numhyperplanes\"},{\"level\":3,\"text\":\"lshprobes(bucket, numhp, numprobes)\",\"id\":\"lshprobesbucket-numhp-numprobes\"},{\"level\":3,\"text\":\"lshmultiprobe(v, tableidx, numhp, numprobes)\",\"id\":\"lshmultiprobev-tableidx-numhp-numprobes\"},{\"level\":2,\"text\":\"4. Quantization Functions\",\"id\":\"4-quantization-functions\"},{\"level\":3,\"text\":\"quantizelinear(v)\",\"id\":\"quantizelinearv\"},{\"level\":3,\"text\":\"quantizesymmetric(v)\",\"id\":\"quantizesymmetricv\"},{\"level\":3,\"text\":\"dequantize(v)\",\"id\":\"dequantizev\"},{\"level\":3,\"text\":\"dequantizescaled(v, scale)\",\"id\":\"dequantizescaledv-scale\"},{\"level\":2,\"text\":\"5. Int8 Distance Functions\",\"id\":\"5-int8-distance-functions\"},{\"level\":3,\"text\":\"Native (Fast) Int8 Distance\",\"id\":\"native-fast-int8-distance\"},{\"level\":3,\"text\":\"euclideanint8(v1, v2)\",\"id\":\"euclideanint8v1-v2\"},{\"level\":3,\"text\":\"cosineint8(v1, v2)\",\"id\":\"cosineint8v1-v2\"},{\"level\":3,\"text\":\"dotint8(v1, v2)\",\"id\":\"dotint8v1-v2\"},{\"level\":3,\"text\":\"manhattanint8(v1, v2)\",\"id\":\"manhattanint8v1-v2\"},{\"level\":2,\"text\":\"6. Temporal Functions\",\"id\":\"6-temporal-functions\"},{\"level\":3,\"text\":\"timenow()\",\"id\":\"timenow\"},{\"level\":3,\"text\":\"timediff(t1, t2)\",\"id\":\"timedifft1-t2\"},{\"level\":3,\"text\":\"timeadd(ts, durationms)\",\"id\":\"timeaddts-durationms\"},{\"level\":3,\"text\":\"timesub(ts, durationms)\",\"id\":\"timesubts-durationms\"},{\"level\":3,\"text\":\"timedecay(ts, now, halflifems)\",\"id\":\"timedecayts-now-halflifems\"},{\"level\":3,\"text\":\"timedecaylinear(ts, now, maxagems)\",\"id\":\"timedecaylinearts-now-maxagems\"},{\"level\":3,\"text\":\"timebefore(t1, t2)\",\"id\":\"timebeforet1-t2\"},{\"level\":3,\"text\":\"timeafter(t1, t2)\",\"id\":\"timeaftert1-t2\"},{\"level\":3,\"text\":\"timebetween(ts, start, end)\",\"id\":\"timebetweents-start-end\"},{\"level\":3,\"text\":\"withinlast(ts, now, durationms)\",\"id\":\"withinlastts-now-durationms\"},{\"level\":3,\"text\":\"intervalsoverlap(s1, e1, s2, e2)\",\"id\":\"intervalsoverlaps1-e1-s2-e2\"},{\"level\":3,\"text\":\"intervalcontains(s1, e1, s2, e2)\",\"id\":\"intervalcontainss1-e1-s2-e2\"},{\"level\":3,\"text\":\"intervalduration(start, end)\",\"id\":\"intervaldurationstart-end\"},{\"level\":3,\"text\":\"pointininterval(ts, start, end)\",\"id\":\"pointinintervalts-start-end\"},{\"level\":2,\"text\":\"7. Math Functions\",\"id\":\"7-math-functions\"},{\"level\":3,\"text\":\"abs(x)\",\"id\":\"absx\"},{\"level\":3,\"text\":\"absint64(x)\",\"id\":\"absint64x\"},{\"level\":3,\"text\":\"absfloat64(x)\",\"id\":\"absfloat64x\"},{\"level\":3,\"text\":\"sqrt(x)\",\"id\":\"sqrtx\"},{\"level\":3,\"text\":\"pow(base, exp)\",\"id\":\"powbase-exp\"},{\"level\":3,\"text\":\"log(x)\",\"id\":\"logx\"},{\"level\":3,\"text\":\"exp(x)\",\"id\":\"expx\"},{\"level\":3,\"text\":\"sin(x)\",\"id\":\"sinx\"},{\"level\":3,\"text\":\"cos(x)\",\"id\":\"cosx\"},{\"level\":3,\"text\":\"tan(x)\",\"id\":\"tanx\"},{\"level\":3,\"text\":\"floor(x)\",\"id\":\"floorx\"},{\"level\":3,\"text\":\"ceil(x)\",\"id\":\"ceilx\"},{\"level\":3,\"text\":\"sign(x)\",\"id\":\"signx\"},{\"level\":2,\"text\":\"8. String Functions\",\"id\":\"8-string-functions\"},{\"level\":3,\"text\":\"len(s)\",\"id\":\"lens\"},{\"level\":3,\"text\":\"upper(s)\",\"id\":\"uppers\"},{\"level\":3,\"text\":\"lower(s)\",\"id\":\"lowers\"},{\"level\":3,\"text\":\"trim(s)\",\"id\":\"trims\"},{\"level\":3,\"text\":\"substr(s, start, len)\",\"id\":\"substrs-start-len\"},{\"level\":3,\"text\":\"replace(s, find, replacement)\",\"id\":\"replaces-find-replacement\"},{\"level\":3,\"text\":\"concat(s1, s2, ...)\",\"id\":\"concats1-s2-\"},{\"level\":2,\"text\":\"9. Scalar Min/Max Functions\",\"id\":\"9-scalar-minmax-functions\"},{\"level\":3,\"text\":\"minval(a, b)\",\"id\":\"minvala-b\"},{\"level\":3,\"text\":\"maxval(a, b)\",\"id\":\"maxvala-b\"},{\"level\":2,\"text\":\"Appendix: Function Quick Reference\",\"id\":\"appendix-function-quick-reference\"}]},\"slugKey\":\"reference/functions\"}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"10:I[6869,[],\"IconMark\"]\nc:[[\"$\",\"title\",\"0\",{\"children\":\"InputLayer - A symbolic reasoning engine for AI agents\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Store facts, define rules, and derive everything that logically follows. Vector search, graph traversal, and incremental computation in one system.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/icon.svg\"}],[\"$\",\"$L10\",\"3\",{}]]\n8:null\n"])</script></body></html>