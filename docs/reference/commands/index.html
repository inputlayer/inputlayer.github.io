<!DOCTYPE html><!--05bjYGyiAumoEMBrfWHih--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/4cf2300e9c8272f7-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/4bd7a24b7976d4e6.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-bd6546b43ab2ecbf.js"/><script src="/_next/static/chunks/4bd1b696-deba172d32c79f82.js" async=""></script><script src="/_next/static/chunks/794-275dc9ebd3a29fbf.js" async=""></script><script src="/_next/static/chunks/main-app-1fa5b694e5d36a75.js" async=""></script><script src="/_next/static/chunks/app/layout-7e9963bf811be36b.js" async=""></script><script src="/_next/static/chunks/758-3cb69ce377cde046.js" async=""></script><script src="/_next/static/chunks/121-aece4f809b101dc1.js" async=""></script><script src="/_next/static/chunks/502-e809071f8789437b.js" async=""></script><script src="/_next/static/chunks/689-4fcf9680fdc90283.js" async=""></script><script src="/_next/static/chunks/app/docs/%5B%5B...slug%5D%5D/page-004ec69e3c86920a.js" async=""></script><meta name="next-size-adjust" content=""/><title>InputLayer - A symbolic reasoning engine for AI agents</title><meta name="description" content="Store facts, define rules, and derive everything that logically follows. Vector search, graph traversal, and incremental computation in one system."/><link rel="icon" href="/icon.svg"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_188709 __variable_9a8899 font-sans antialiased"><div hidden=""><!--$--><!--/$--></div><script>((a,b,c,d,e,f,g,h)=>{let i=document.documentElement,j=["light","dark"];function k(b){var c;(Array.isArray(a)?a:[a]).forEach(a=>{let c="class"===a,d=c&&f?e.map(a=>f[a]||a):e;c?(i.classList.remove(...d),i.classList.add(f&&f[b]?f[b]:b)):i.setAttribute(a,b)}),c=b,h&&j.includes(c)&&(i.style.colorScheme=c)}if(d)k(d);else try{let a=localStorage.getItem(b)||c,d=g&&"system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a;k(d)}catch(a){}})("class","theme","dark",null,["light","dark"],null,true,true)</script><div class="flex flex-col h-dvh"><header class="sticky top-0 z-50 w-full border-b border-border/50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"><div class="flex h-14 items-center px-6"><a class="mr-8" href="/"><span class="inline-flex items-center gap-1.5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0"><path d="M12 2L2 7l10 5 10-5-10-5z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 12l10 5 10-5"></path></svg><span class="font-extrabold tracking-tight text-lg">InputLayer</span></span></a><nav class="hidden md:flex items-center gap-6 text-sm"><a class="text-muted-foreground transition-colors hover:text-foreground" href="/docs/">Docs</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/blog/">Blog</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/use-cases/">Use Cases</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/compare/">Compare</a><a href="https://demo.inputlayer.ai" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1 text-muted-foreground transition-colors hover:text-foreground">Demo<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link h-3 w-3"><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></svg></a></nav><div class="ml-auto flex items-center gap-3"><div class="inline-flex items-center gap-1.5"><a href="https://github.com/inputlayer/inputlayer" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-secondary/50 px-2.5 py-1 text-xs font-medium text-muted-foreground transition-colors hover:text-foreground hover:bg-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star h-3.5 w-3.5"><path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path></svg><span>Star</span></a><a href="https://github.com/inputlayer/inputlayer/fork" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-secondary/50 px-2.5 py-1 text-xs font-medium text-muted-foreground transition-colors hover:text-foreground hover:bg-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-git-fork h-3.5 w-3.5"><circle cx="12" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><circle cx="18" cy="6" r="3"></circle><path d="M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9"></path><path d="M12 12v3"></path></svg><span>Fork</span></a></div><button data-slot="button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-9 h-9 w-9"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-4 w-4"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg></button><div class="md:hidden"><button class="inline-flex items-center justify-center rounded-md p-2 text-muted-foreground hover:text-foreground hover:bg-secondary transition-colors" aria-label="Open menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-5 w-5"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></div></div></header><div class="flex flex-1 overflow-hidden"><div class="w-64 shrink-0 border-r border-border/50 overflow-y-auto"><div class="flex flex-col h-full"><div class="p-3 border-b border-border/50"><div class="relative"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg><input type="text" placeholder="Search docs..." class="w-full h-8 pl-8 pr-3 text-sm rounded-md border border-border bg-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring" value=""/></div></div><nav class="flex-1 overflow-y-auto p-2 space-y-0.5"><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" href="/docs/index/">Overview</a><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_j6av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Guides</button><div data-state="closed" id="radix-_R_j6av5ubtb_" hidden="" data-slot="collapsible-content"></div></div><div data-state="open" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-foreground font-medium" style="padding-left:12px" type="button" aria-controls="radix-_R_r6av5ubtb_" aria-expanded="true" data-state="open" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform rotate-90"><path d="m9 18 6-6-6-6"></path></svg>Reference</button><div data-state="open" id="radix-_R_r6av5ubtb_" data-slot="collapsible-content"><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/reference/index/">Overview</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors bg-primary/10 text-primary font-medium" style="padding-left:24px" href="/docs/reference/commands/">Commands</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/reference/functions/">Functions</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/reference/syntax/">Syntax</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/reference/syntax-cheatsheet/">Syntax Cheatsheet</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/reference/aggregations/">Aggregations</a></div></div><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_136av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Specification</button><div data-state="closed" id="radix-_R_136av5ubtb_" hidden="" data-slot="collapsible-content"></div></div><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_1b6av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Internals</button><div data-state="closed" id="radix-_R_1b6av5ubtb_" hidden="" data-slot="collapsible-content"></div></div></nav></div></div><div class="flex flex-1 flex-col overflow-hidden"><div class="flex flex-1 overflow-hidden"><div class="flex-1 overflow-y-auto px-8 py-6 max-w-4xl mx-auto"><article class="docs-prose"><h1 id="meta-commands-reference" node="[object Object]">Meta Commands Reference</h1>
<p>Meta commands control the InputLayer environment. They start with a <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.</code> prefix.</p>
<h2 id="knowledge-graph-commands" node="[object Object]">Knowledge Graph Commands</h2>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg</code></h3>
<p>Show current knowledge graph.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg
</code></pre>
<p><strong>Output:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Current knowledge graph: mykg
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg list</code></h3>
<p>List all knowledge graphs.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg list
</code></pre>
<p><strong>Output:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Knowledge graphs:
  default (current)
  mykg
  analytics
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg create &lt;name&gt;</code></h3>
<p>Create a new knowledge graph.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg create analytics
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg use &lt;name&gt;</code></h3>
<p>Switch to a knowledge graph.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg use analytics
</code></pre>
<p><strong>Note:</strong> Switching knowledge graphs clears session rules and transient data.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg drop &lt;name&gt;</code></h3>
<p>Delete a knowledge graph and all its data.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg drop old_knowledge_graph
</code></pre>
<p><strong>Warning:</strong> This permanently deletes all relations, rules, and data.</p>
<h2 id="access-control-commands" node="[object Object]">Access Control Commands</h2>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg acl list [kg_name]</code></h3>
<p>List access control entries for a knowledge graph. If no name is given, lists ACLs for the current KG.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg acl list
.kg acl list analytics
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg acl grant &lt;kg&gt; &lt;user&gt; &lt;role&gt;</code></h3>
<p>Grant a user access to a knowledge graph with a specific role.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg acl grant analytics alice viewer
.kg acl grant shared_data bob editor
</code></pre>
<p><strong>KG Roles:</strong> <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">owner</code>, <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">editor</code>, <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">viewer</code></p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg acl revoke &lt;kg&gt; &lt;user&gt;</code></h3>
<p>Revoke a user&#x27;s access to a knowledge graph.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg acl revoke analytics alice
</code></pre>
<h2 id="user-management-commands" node="[object Object]">User Management Commands</h2>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.user list</code></h3>
<p>List all users and their roles.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.user list
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.user create &lt;username&gt; &lt;password&gt; &lt;role&gt;</code></h3>
<p>Create a new user with the given password and role.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.user create alice s3cret viewer
.user create bob hunter2 admin
</code></pre>
<p><strong>Roles:</strong> <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">admin</code>, <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">editor</code>, <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">viewer</code></p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.user drop &lt;username&gt;</code></h3>
<p>Delete a user.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.user drop alice
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.user password &lt;username&gt; &lt;new_password&gt;</code></h3>
<p>Change a user&#x27;s password.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.user password alice new-s3cret
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.user role &lt;username&gt; &lt;new_role&gt;</code></h3>
<p>Change a user&#x27;s role.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.user role alice admin
</code></pre>
<hr/>
<h2 id="relation-commands" node="[object Object]">Relation Commands</h2>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rel</code></h3>
<p>List all relations with row counts.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rel
</code></pre>
<p><strong>Output:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Relations:
  edge (arity: 2, columns: [col0: any, col1: any], tuples: 150)
  person (arity: 3, columns: [id: int, name: string, age: int], tuples: 25)
  department (arity: 2, columns: [col0: any, col1: any], tuples: 5)
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rel drop &lt;name&gt;</code></h3>
<p>Delete a relation and all its data and schema.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rel drop old_events
</code></pre>
<p><strong>Warning:</strong> This permanently deletes the relation&#x27;s tuples, metadata, schema, and persist storage. If a persistent rule exists with the same name as the relation, that rule is also removed. Other rules that reference the dropped relation are <strong>not</strong> automatically deleted — they will fail at query time. A <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">schema_change</code> notification is emitted.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rel &lt;name&gt;</code></h3>
<p>Describe a relation&#x27;s schema and show sample data.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rel person
</code></pre>
<p><strong>Output:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Relation: person
</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">A</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">B</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">C</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">1</td><td class="border px-4 py-2" node="[object Object]">&quot;alice&quot;</td><td class="border px-4 py-2" node="[object Object]">30</td></tr><tr><td class="border px-4 py-2" node="[object Object]">2</td><td class="border px-4 py-2" node="[object Object]">&quot;bob&quot;</td><td class="border px-4 py-2" node="[object Object]">25</td></tr></tbody></table></div>
<p><em>2 of 25 total rows</em></p>
<h2 id="rule-commands" node="[object Object]">Rule Commands</h2>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule</code></h3>
<p>List all persistent rules.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule
</code></pre>
<p><strong>Output:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Rules:
  reachable (2 clause(s))
  can_access (3 clause(s))
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule list</code></h3>
<p>Same as <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule</code> - list all persistent rules.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule list
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule &lt;name&gt;</code></h3>
<p>Query a rule and show computed results.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule reachable
</code></pre>
<p><strong>Output:</strong></p>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">X</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Y</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">1</td><td class="border px-4 py-2" node="[object Object]">2</td></tr><tr><td class="border px-4 py-2" node="[object Object]">1</td><td class="border px-4 py-2" node="[object Object]">3</td></tr><tr><td class="border px-4 py-2" node="[object Object]">1</td><td class="border px-4 py-2" node="[object Object]">4</td></tr></tbody></table></div>
<p><em>3 rows</em></p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule def &lt;name&gt;</code></h3>
<p>Show the definition of a rule.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule def reachable
</code></pre>
<p><strong>Output:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Rule: reachable
Clauses:
  1. reachable(X, Y) &lt;- edge(X, Y)
  2. reachable(X, Z) &lt;- reachable(X, Y), edge(Y, Z)
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule drop &lt;name&gt;</code></h3>
<p>Delete a rule entirely (removes all clauses).</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule drop reachable
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule drop prefix &lt;prefix&gt;</code></h3>
<p>Delete all rules whose names start with the given prefix.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule drop prefix temp_
</code></pre>
<p><strong>Note:</strong> An empty prefix is rejected to prevent accidentally dropping all rules.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule remove &lt;name&gt; &lt;index&gt;</code></h3>
<p>Remove a specific clause from a rule by index (1-based).</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule remove reachable 2
</code></pre>
<p><strong>Output:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Clause 2 removed from rule &#x27;reachable&#x27;
</code></pre>
<p><strong>Note:</strong> If the last clause is removed, the entire rule is deleted:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Clause 1 removed from rule &#x27;simple&#x27;. Rule completely deleted (no clauses remaining)
</code></pre>
<p><strong>Errors:</strong></p>
<ul>
<li>If clause index is out of bounds: <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Clause index 5 out of bounds. Rule &#x27;reachable&#x27; has 2 clause(s)</code></li>
<li>If rule doesn&#x27;t exist: <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Rule &#x27;nonexistent&#x27; does not exist</code></li>
</ul>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule clear &lt;name&gt;</code></h3>
<p>Clear all clauses from a rule for re-registration.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule clear reachable
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule edit &lt;name&gt; &lt;index&gt; &lt;clause&gt;</code></h3>
<p>Edit a specific clause in a rule.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule edit reachable 2 +reachable(X, Z) &lt;- edge(X, Y), reachable(Y, Z)
</code></pre>
<p><strong>Note:</strong> Index is 1-based.</p>
<h2 id="session-commands" node="[object Object]">Session Commands</h2>
<p>Session rules are transient and not persisted.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.session</code></h3>
<p>List current session rules.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.session
</code></pre>
<p><strong>Output:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Session rules (2):
  1. temp(X) &lt;- edge(X, _)
  2. filtered(X, Y) &lt;- temp(X), edge(X, Y)
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.session clear</code></h3>
<p>Clear all session rules.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.session clear
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.session drop &lt;n&gt;</code></h3>
<p>Remove a specific session rule by index.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.session drop 1
</code></pre>
<p><strong>Note:</strong> Index is 1-based.</p>
<h2 id="load-command" node="[object Object]">Load Command</h2>
<p>The <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.load</code> command reads and executes all statements from a <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.idl</code> file sequentially.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.load &lt;file&gt;</code></h3>
<p>Load and execute a file.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.load schema.idl
</code></pre>
<p><strong>Behavior:</strong></p>
<ul>
<li>Reads the file from disk</li>
<li>Parses and executes each statement in order</li>
<li>Continues through non-fatal errors (parse errors, server errors) so that cleanup commands (e.g., <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg drop</code>) always run</li>
<li>Only connection errors abort the script</li>
</ul>
<p><strong>Note:</strong> The parser accepts <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">--replace</code> and <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">--merge</code> flags, but these modes are not yet implemented — all three modes currently execute identically (sequential statement execution).</p>
<h3 id="supported-file-formats" node="[object Object]">Supported File Formats</h3>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Extension</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.idl</code></td><td class="border px-4 py-2" node="[object Object]">InputLayer script (statements)</td></tr></tbody></table></div>
<h2 id="system-commands" node="[object Object]">System Commands</h2>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.status</code></h3>
<p>Show system status.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.status
</code></pre>
<p><strong>Output:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Knowledge graph: mykg
Relations: 5
Rules: 3
Session rules: 2
Data directory: ./data
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.clear prefix &lt;prefix&gt;</code></h3>
<p>Clear all facts from relations whose names start with the given prefix.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.clear prefix temp_
</code></pre>
<p><strong>Note:</strong> An empty prefix is rejected. This clears data only - schemas and rules are preserved.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.explain &lt;query&gt;</code></h3>
<p>Show the query plan for a query without executing it. Displays the logical plan and applied optimizations.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.explain ?edge(X, Y)
.explain ?path(1, X)
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.compact</code></h3>
<p>Compact storage by consolidating WAL and batch files.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.compact
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.help</code></h3>
<p>Show help message.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.help
</code></pre>
<h3 id="object-object-object-object-object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.quit</code> / <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.exit</code> / <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.q</code></h3>
<p>Exit the REPL.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.quit
</code></pre>
<hr/>
<h2 id="index-commands" node="[object Object]">Index Commands</h2>
<p>Commands for managing HNSW (Hierarchical Navigable Small World) indexes for fast vector similarity search.</p>
<h3 id="object-object-object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index</code> / <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index list</code></h3>
<p>List all indexes in the current knowledge graph.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index
.index list
</code></pre>
<p><strong>Output:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Indexes:
  embeddings_idx on embeddings(vector) [hnsw, cosine]
  docs_idx on documents(embedding) [hnsw, euclidean]
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index create</code></h3>
<p>Create a new HNSW index on a vector column.</p>
<p><strong>Syntax:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index create &lt;name&gt; on &lt;relation&gt;(&lt;column&gt;) [type &lt;index_type&gt;] [metric &lt;distance_metric&gt;] [m &lt;max_connections&gt;] [ef_construction &lt;beam_width&gt;] [ef_search &lt;search_beam&gt;]
</code></pre>
<p><strong>Parameters:</strong></p>
<ul>
<li><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">name</code> - Unique name for the index</li>
<li><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">relation</code> - Relation containing the vector column</li>
<li><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">column</code> - Column name containing vectors</li>
<li><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">type</code> - Index type (default: <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">hnsw</code>)</li>
<li><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">metric</code> - Distance metric: <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">cosine</code>, <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">euclidean</code>, <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">dot_product</code>, <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">manhattan</code> (default: <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">cosine</code>)</li>
<li><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">m</code> - Max connections per node (default: 16, higher = better recall, more memory)</li>
<li><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">ef_construction</code> - Beam width during construction (default: 200, higher = better quality, slower build)</li>
<li><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">ef_search</code> - Beam width during search (default: 50, higher = better recall, slower search)</li>
</ul>
<p><strong>Examples:</strong></p>
<p>Basic index with defaults:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index create my_idx on embeddings(vector)
</code></pre>
<p>Index with cosine distance:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index create doc_idx on documents(embedding) metric cosine
</code></pre>
<p>Tuned index for high recall:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index create high_recall_idx on items(vec) metric euclidean m 32 ef_construction 200 ef_search 100
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index drop</code></h3>
<p>Delete an index.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index drop &lt;name&gt;
</code></pre>
<p><strong>Example:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index drop embeddings_idx
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index stats</code></h3>
<p>Show statistics for an index including size, build time, and configuration.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index stats &lt;name&gt;
</code></pre>
<p><strong>Example:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index stats embeddings_idx
</code></pre>
<p><strong>Output:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Index: embeddings_idx
  Relation: embeddings
  Column: vector
  Type: hnsw
  Metric: cosine
  Vectors: 10,000
  Dimensions: 384
  M: 16
  ef_construction: 200
  ef_search: 50
  Memory: 15.2 MB
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index rebuild</code></h3>
<p>Force rebuild an index. Useful after bulk inserts or if index becomes stale.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index rebuild &lt;name&gt;
</code></pre>
<p><strong>Example:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.index rebuild embeddings_idx
</code></pre>
<p><strong>Note:</strong> Rebuilding large indexes may take significant time. The index remains available during rebuild.</p>
<hr/>
<h2 id="error-handling" node="[object Object]">Error Handling</h2>
<h3 id="invalid-command" node="[object Object]">Invalid Command</h3>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.foo
</code></pre>
<p><strong>Output:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Unknown meta command: .foo
</code></pre>
<h3 id="missing-arguments" node="[object Object]">Missing Arguments</h3>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg create
</code></pre>
<p><strong>Output:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Usage: .kg create &lt;name&gt;
</code></pre>
<h3 id="rule-not-found" node="[object Object]">Rule Not Found</h3>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule nonexistent
</code></pre>
<p><strong>Output:</strong></p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Rule &#x27;nonexistent&#x27; not found
</code></pre></article></div><div class="hidden lg:block w-48 shrink-0 border-l border-border/50"><div class="sticky top-0 p-4"><p class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3">On this page</p><nav class="space-y-1"><a href="#knowledge-graph-commands" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Knowledge Graph Commands</a><a href="#kg" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.kg</a><a href="#kg-list" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.kg list</a><a href="#kg-create-name" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.kg create &lt;name&gt;</a><a href="#kg-use-name" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.kg use &lt;name&gt;</a><a href="#kg-drop-name" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.kg drop &lt;name&gt;</a><a href="#access-control-commands" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Access Control Commands</a><a href="#kg-acl-list-kgname" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.kg acl list [kgname]</a><a href="#kg-acl-grant-kg-user-role" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.kg acl grant &lt;kg&gt; &lt;user&gt; &lt;role&gt;</a><a href="#kg-acl-revoke-kg-user" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.kg acl revoke &lt;kg&gt; &lt;user&gt;</a><a href="#user-management-commands" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">User Management Commands</a><a href="#user-list" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.user list</a><a href="#user-create-username-password-role" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.user create &lt;username&gt; &lt;password&gt; &lt;role&gt;</a><a href="#user-drop-username" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.user drop &lt;username&gt;</a><a href="#user-password-username-newpassword" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.user password &lt;username&gt; &lt;newpassword&gt;</a><a href="#user-role-username-newrole" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.user role &lt;username&gt; &lt;newrole&gt;</a><a href="#relation-commands" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Relation Commands</a><a href="#rel" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.rel</a><a href="#rel-drop-name" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.rel drop &lt;name&gt;</a><a href="#rel-name" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.rel &lt;name&gt;</a><a href="#rule-commands" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Rule Commands</a><a href="#rule" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.rule</a><a href="#rule-list" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.rule list</a><a href="#rule-name" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.rule &lt;name&gt;</a><a href="#rule-def-name" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.rule def &lt;name&gt;</a><a href="#rule-drop-name" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.rule drop &lt;name&gt;</a><a href="#rule-drop-prefix-prefix" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.rule drop prefix &lt;prefix&gt;</a><a href="#rule-remove-name-index" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.rule remove &lt;name&gt; &lt;index&gt;</a><a href="#rule-clear-name" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.rule clear &lt;name&gt;</a><a href="#rule-edit-name-index-clause" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.rule edit &lt;name&gt; &lt;index&gt; &lt;clause&gt;</a><a href="#session-commands" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Session Commands</a><a href="#session" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.session</a><a href="#session-clear" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.session clear</a><a href="#session-drop-n" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.session drop &lt;n&gt;</a><a href="#load-command" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Load Command</a><a href="#load-file" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.load &lt;file&gt;</a><a href="#supported-file-formats" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Supported File Formats</a><a href="#system-commands" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">System Commands</a><a href="#status" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.status</a><a href="#clear-prefix-prefix" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.clear prefix &lt;prefix&gt;</a><a href="#explain-query" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.explain &lt;query&gt;</a><a href="#compact" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.compact</a><a href="#help" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.help</a><a href="#quit-exit-q" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.quit / .exit / .q</a><a href="#index-commands" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Index Commands</a><a href="#index-index-list" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.index / .index list</a><a href="#index-create" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.index create</a><a href="#index-drop" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.index drop</a><a href="#index-stats" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.index stats</a><a href="#index-rebuild" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">.index rebuild</a><a href="#error-handling" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Error Handling</a><a href="#invalid-command" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Invalid Command</a><a href="#missing-arguments" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Missing Arguments</a><a href="#rule-not-found" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Rule Not Found</a></nav></div></div></div></div></div></div><!--$--><!--/$--><script src="/_next/static/chunks/webpack-bd6546b43ab2ecbf.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[1942,[\"177\",\"static/chunks/app/layout-7e9963bf811be36b.js\"],\"ThemeProvider\"]\n3:I[7121,[],\"\"]\n4:I[4581,[],\"\"]\n6:I[484,[],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[484,[],\"ViewportBoundary\"]\nb:I[484,[],\"MetadataBoundary\"]\nd:I[7123,[],\"\"]\n:HL[\"/_next/static/media/4cf2300e9c8272f7-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/4bd7a24b7976d4e6.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"05bjYGyiAumoEMBrfWHih\",\"c\":[\"\",\"docs\",\"reference\",\"commands\",\"\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"reference/commands\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/4bd7a24b7976d4e6.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_188709 __variable_9a8899 font-sans antialiased\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"dark\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"e:I[8428,[\"758\",\"static/chunks/758-3cb69ce377cde046.js\",\"121\",\"static/chunks/121-aece4f809b101dc1.js\",\"502\",\"static/chunks/502-e809071f8789437b.js\",\"689\",\"static/chunks/689-4fcf9680fdc90283.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-004ec69e3c86920a.js\"],\"DocsPageClient\"]\nf:T2455,"])</script><script>self.__next_f.push([1,"# Meta Commands Reference\n\nMeta commands control the InputLayer environment. They start with a `.` prefix.\n\n## Knowledge Graph Commands\n\n### `.kg`\n\nShow current knowledge graph.\n\n```\n.kg\n```\n\n**Output:**\n```\nCurrent knowledge graph: mykg\n```\n\n### `.kg list`\n\nList all knowledge graphs.\n\n```\n.kg list\n```\n\n**Output:**\n```\nKnowledge graphs:\n  default (current)\n  mykg\n  analytics\n```\n\n### `.kg create \u003cname\u003e`\n\nCreate a new knowledge graph.\n\n```\n.kg create analytics\n```\n\n### `.kg use \u003cname\u003e`\n\nSwitch to a knowledge graph.\n\n```\n.kg use analytics\n```\n\n**Note:** Switching knowledge graphs clears session rules and transient data.\n\n### `.kg drop \u003cname\u003e`\n\nDelete a knowledge graph and all its data.\n\n```\n.kg drop old_knowledge_graph\n```\n\n**Warning:** This permanently deletes all relations, rules, and data.\n\n## Access Control Commands\n\n### `.kg acl list [kg_name]`\n\nList access control entries for a knowledge graph. If no name is given, lists ACLs for the current KG.\n\n```\n.kg acl list\n.kg acl list analytics\n```\n\n### `.kg acl grant \u003ckg\u003e \u003cuser\u003e \u003crole\u003e`\n\nGrant a user access to a knowledge graph with a specific role.\n\n```\n.kg acl grant analytics alice viewer\n.kg acl grant shared_data bob editor\n```\n\n**KG Roles:** `owner`, `editor`, `viewer`\n\n### `.kg acl revoke \u003ckg\u003e \u003cuser\u003e`\n\nRevoke a user's access to a knowledge graph.\n\n```\n.kg acl revoke analytics alice\n```\n\n## User Management Commands\n\n### `.user list`\n\nList all users and their roles.\n\n```\n.user list\n```\n\n### `.user create \u003cusername\u003e \u003cpassword\u003e \u003crole\u003e`\n\nCreate a new user with the given password and role.\n\n```\n.user create alice s3cret viewer\n.user create bob hunter2 admin\n```\n\n**Roles:** `admin`, `editor`, `viewer`\n\n### `.user drop \u003cusername\u003e`\n\nDelete a user.\n\n```\n.user drop alice\n```\n\n### `.user password \u003cusername\u003e \u003cnew_password\u003e`\n\nChange a user's password.\n\n```\n.user password alice new-s3cret\n```\n\n### `.user role \u003cusername\u003e \u003cnew_role\u003e`\n\nChange a user's role.\n\n```\n.user role alice admin\n```\n\n---\n\n## Relation Commands\n\n### `.rel`\n\nList all relations with row counts.\n\n```\n.rel\n```\n\n**Output:**\n```\nRelations:\n  edge (arity: 2, columns: [col0: any, col1: any], tuples: 150)\n  person (arity: 3, columns: [id: int, name: string, age: int], tuples: 25)\n  department (arity: 2, columns: [col0: any, col1: any], tuples: 5)\n```\n\n### `.rel drop \u003cname\u003e`\n\nDelete a relation and all its data and schema.\n\n```\n.rel drop old_events\n```\n\n**Warning:** This permanently deletes the relation's tuples, metadata, schema, and persist storage. If a persistent rule exists with the same name as the relation, that rule is also removed. Other rules that reference the dropped relation are **not** automatically deleted — they will fail at query time. A `schema_change` notification is emitted.\n\n### `.rel \u003cname\u003e`\n\nDescribe a relation's schema and show sample data.\n\n```\n.rel person\n```\n\n**Output:**\n```\nRelation: person\n```\n\n| A | B | C |\n|---|---|---|\n| 1 | \"alice\" | 30 |\n| 2 | \"bob\" | 25 |\n\n*2 of 25 total rows*\n\n## Rule Commands\n\n### `.rule`\n\nList all persistent rules.\n\n```\n.rule\n```\n\n**Output:**\n```\nRules:\n  reachable (2 clause(s))\n  can_access (3 clause(s))\n```\n\n### `.rule list`\n\nSame as `.rule` - list all persistent rules.\n\n```\n.rule list\n```\n\n### `.rule \u003cname\u003e`\n\nQuery a rule and show computed results.\n\n```\n.rule reachable\n```\n\n**Output:**\n\n| X | Y |\n|---|---|\n| 1 | 2 |\n| 1 | 3 |\n| 1 | 4 |\n\n*3 rows*\n\n### `.rule def \u003cname\u003e`\n\nShow the definition of a rule.\n\n```\n.rule def reachable\n```\n\n**Output:**\n```\nRule: reachable\nClauses:\n  1. reachable(X, Y) \u003c- edge(X, Y)\n  2. reachable(X, Z) \u003c- reachable(X, Y), edge(Y, Z)\n```\n\n### `.rule drop \u003cname\u003e`\n\nDelete a rule entirely (removes all clauses).\n\n```\n.rule drop reachable\n```\n\n### `.rule drop prefix \u003cprefix\u003e`\n\nDelete all rules whose names start with the given prefix.\n\n```\n.rule drop prefix temp_\n```\n\n**Note:** An empty prefix is rejected to prevent accidentally dropping all rules.\n\n### `.rule remove \u003cname\u003e \u003cindex\u003e`\n\nRemove a specific clause from a rule by index (1-based).\n\n```\n.rule remove reachable 2\n```\n\n**Output:**\n```\nClause 2 removed from rule 'reachable'\n```\n\n**Note:** If the last clause is removed, the entire rule is deleted:\n```\nClause 1 removed from rule 'simple'. Rule completely deleted (no clauses remaining)\n```\n\n**Errors:**\n- If clause index is out of bounds: `Clause index 5 out of bounds. Rule 'reachable' has 2 clause(s)`\n- If rule doesn't exist: `Rule 'nonexistent' does not exist`\n\n### `.rule clear \u003cname\u003e`\n\nClear all clauses from a rule for re-registration.\n\n```\n.rule clear reachable\n```\n\n### `.rule edit \u003cname\u003e \u003cindex\u003e \u003cclause\u003e`\n\nEdit a specific clause in a rule.\n\n```\n.rule edit reachable 2 +reachable(X, Z) \u003c- edge(X, Y), reachable(Y, Z)\n```\n\n**Note:** Index is 1-based.\n\n## Session Commands\n\nSession rules are transient and not persisted.\n\n### `.session`\n\nList current session rules.\n\n```\n.session\n```\n\n**Output:**\n```\nSession rules (2):\n  1. temp(X) \u003c- edge(X, _)\n  2. filtered(X, Y) \u003c- temp(X), edge(X, Y)\n```\n\n### `.session clear`\n\nClear all session rules.\n\n```\n.session clear\n```\n\n### `.session drop \u003cn\u003e`\n\nRemove a specific session rule by index.\n\n```\n.session drop 1\n```\n\n**Note:** Index is 1-based.\n\n## Load Command\n\nThe `.load` command reads and executes all statements from a `.idl` file sequentially.\n\n### `.load \u003cfile\u003e`\n\nLoad and execute a file.\n\n```\n.load schema.idl\n```\n\n**Behavior:**\n- Reads the file from disk\n- Parses and executes each statement in order\n- Continues through non-fatal errors (parse errors, server errors) so that cleanup commands (e.g., `.kg drop`) always run\n- Only connection errors abort the script\n\n**Note:** The parser accepts `--replace` and `--merge` flags, but these modes are not yet implemented — all three modes currently execute identically (sequential statement execution).\n\n### Supported File Formats\n\n| Extension | Description |\n|-----------|-------------|\n| `.idl` | InputLayer script (statements) |\n\n## System Commands\n\n### `.status`\n\nShow system status.\n\n```\n.status\n```\n\n**Output:**\n```\nKnowledge graph: mykg\nRelations: 5\nRules: 3\nSession rules: 2\nData directory: ./data\n```\n\n### `.clear prefix \u003cprefix\u003e`\n\nClear all facts from relations whose names start with the given prefix.\n\n```\n.clear prefix temp_\n```\n\n**Note:** An empty prefix is rejected. This clears data only - schemas and rules are preserved.\n\n### `.explain \u003cquery\u003e`\n\nShow the query plan for a query without executing it. Displays the logical plan and applied optimizations.\n\n```\n.explain ?edge(X, Y)\n.explain ?path(1, X)\n```\n\n### `.compact`\n\nCompact storage by consolidating WAL and batch files.\n\n```\n.compact\n```\n\n### `.help`\n\nShow help message.\n\n```\n.help\n```\n\n### `.quit` / `.exit` / `.q`\n\nExit the REPL.\n\n```\n.quit\n```\n\n---\n\n## Index Commands\n\nCommands for managing HNSW (Hierarchical Navigable Small World) indexes for fast vector similarity search.\n\n### `.index` / `.index list`\n\nList all indexes in the current knowledge graph.\n\n```\n.index\n.index list\n```\n\n**Output:**\n```\nIndexes:\n  embeddings_idx on embeddings(vector) [hnsw, cosine]\n  docs_idx on documents(embedding) [hnsw, euclidean]\n```\n\n### `.index create`\n\nCreate a new HNSW index on a vector column.\n\n**Syntax:**\n```\n.index create \u003cname\u003e on \u003crelation\u003e(\u003ccolumn\u003e) [type \u003cindex_type\u003e] [metric \u003cdistance_metric\u003e] [m \u003cmax_connections\u003e] [ef_construction \u003cbeam_width\u003e] [ef_search \u003csearch_beam\u003e]\n```\n\n**Parameters:**\n- `name` - Unique name for the index\n- `relation` - Relation containing the vector column\n- `column` - Column name containing vectors\n- `type` - Index type (default: `hnsw`)\n- `metric` - Distance metric: `cosine`, `euclidean`, `dot_product`, `manhattan` (default: `cosine`)\n- `m` - Max connections per node (default: 16, higher = better recall, more memory)\n- `ef_construction` - Beam width during construction (default: 200, higher = better quality, slower build)\n- `ef_search` - Beam width during search (default: 50, higher = better recall, slower search)\n\n**Examples:**\n\nBasic index with defaults:\n```\n.index create my_idx on embeddings(vector)\n```\n\nIndex with cosine distance:\n```\n.index create doc_idx on documents(embedding) metric cosine\n```\n\nTuned index for high recall:\n```\n.index create high_recall_idx on items(vec) metric euclidean m 32 ef_construction 200 ef_search 100\n```\n\n### `.index drop`\n\nDelete an index.\n\n```\n.index drop \u003cname\u003e\n```\n\n**Example:**\n```\n.index drop embeddings_idx\n```\n\n### `.index stats`\n\nShow statistics for an index including size, build time, and configuration.\n\n```\n.index stats \u003cname\u003e\n```\n\n**Example:**\n```\n.index stats embeddings_idx\n```\n\n**Output:**\n```\nIndex: embeddings_idx\n  Relation: embeddings\n  Column: vector\n  Type: hnsw\n  Metric: cosine\n  Vectors: 10,000\n  Dimensions: 384\n  M: 16\n  ef_construction: 200\n  ef_search: 50\n  Memory: 15.2 MB\n```\n\n### `.index rebuild`\n\nForce rebuild an index. Useful after bulk inserts or if index becomes stale.\n\n```\n.index rebuild \u003cname\u003e\n```\n\n**Example:**\n```\n.index rebuild embeddings_idx\n```\n\n**Note:** Rebuilding large indexes may take significant time. The index remains available during rebuild.\n\n---\n\n## Error Handling\n\n### Invalid Command\n\n```\n.foo\n```\n\n**Output:**\n```\nUnknown meta command: .foo\n```\n\n### Missing Arguments\n\n```\n.kg create\n```\n\n**Output:**\n```\nUsage: .kg create \u003cname\u003e\n```\n\n### Rule Not Found\n\n```\n.rule nonexistent\n```\n\n**Output:**\n```\nRule 'nonexistent' not found\n```"])</script><script>self.__next_f.push([1,"5:[\"$\",\"$Le\",null,{\"page\":{\"title\":\"Meta Commands Reference\",\"content\":\"$f\",\"toc\":[{\"level\":2,\"text\":\"Knowledge Graph Commands\",\"id\":\"knowledge-graph-commands\"},{\"level\":3,\"text\":\".kg\",\"id\":\"kg\"},{\"level\":3,\"text\":\".kg list\",\"id\":\"kg-list\"},{\"level\":3,\"text\":\".kg create \u003cname\u003e\",\"id\":\"kg-create-name\"},{\"level\":3,\"text\":\".kg use \u003cname\u003e\",\"id\":\"kg-use-name\"},{\"level\":3,\"text\":\".kg drop \u003cname\u003e\",\"id\":\"kg-drop-name\"},{\"level\":2,\"text\":\"Access Control Commands\",\"id\":\"access-control-commands\"},{\"level\":3,\"text\":\".kg acl list [kgname]\",\"id\":\"kg-acl-list-kgname\"},{\"level\":3,\"text\":\".kg acl grant \u003ckg\u003e \u003cuser\u003e \u003crole\u003e\",\"id\":\"kg-acl-grant-kg-user-role\"},{\"level\":3,\"text\":\".kg acl revoke \u003ckg\u003e \u003cuser\u003e\",\"id\":\"kg-acl-revoke-kg-user\"},{\"level\":2,\"text\":\"User Management Commands\",\"id\":\"user-management-commands\"},{\"level\":3,\"text\":\".user list\",\"id\":\"user-list\"},{\"level\":3,\"text\":\".user create \u003cusername\u003e \u003cpassword\u003e \u003crole\u003e\",\"id\":\"user-create-username-password-role\"},{\"level\":3,\"text\":\".user drop \u003cusername\u003e\",\"id\":\"user-drop-username\"},{\"level\":3,\"text\":\".user password \u003cusername\u003e \u003cnewpassword\u003e\",\"id\":\"user-password-username-newpassword\"},{\"level\":3,\"text\":\".user role \u003cusername\u003e \u003cnewrole\u003e\",\"id\":\"user-role-username-newrole\"},{\"level\":2,\"text\":\"Relation Commands\",\"id\":\"relation-commands\"},{\"level\":3,\"text\":\".rel\",\"id\":\"rel\"},{\"level\":3,\"text\":\".rel drop \u003cname\u003e\",\"id\":\"rel-drop-name\"},{\"level\":3,\"text\":\".rel \u003cname\u003e\",\"id\":\"rel-name\"},{\"level\":2,\"text\":\"Rule Commands\",\"id\":\"rule-commands\"},{\"level\":3,\"text\":\".rule\",\"id\":\"rule\"},{\"level\":3,\"text\":\".rule list\",\"id\":\"rule-list\"},{\"level\":3,\"text\":\".rule \u003cname\u003e\",\"id\":\"rule-name\"},{\"level\":3,\"text\":\".rule def \u003cname\u003e\",\"id\":\"rule-def-name\"},{\"level\":3,\"text\":\".rule drop \u003cname\u003e\",\"id\":\"rule-drop-name\"},{\"level\":3,\"text\":\".rule drop prefix \u003cprefix\u003e\",\"id\":\"rule-drop-prefix-prefix\"},{\"level\":3,\"text\":\".rule remove \u003cname\u003e \u003cindex\u003e\",\"id\":\"rule-remove-name-index\"},{\"level\":3,\"text\":\".rule clear \u003cname\u003e\",\"id\":\"rule-clear-name\"},{\"level\":3,\"text\":\".rule edit \u003cname\u003e \u003cindex\u003e \u003cclause\u003e\",\"id\":\"rule-edit-name-index-clause\"},{\"level\":2,\"text\":\"Session Commands\",\"id\":\"session-commands\"},{\"level\":3,\"text\":\".session\",\"id\":\"session\"},{\"level\":3,\"text\":\".session clear\",\"id\":\"session-clear\"},{\"level\":3,\"text\":\".session drop \u003cn\u003e\",\"id\":\"session-drop-n\"},{\"level\":2,\"text\":\"Load Command\",\"id\":\"load-command\"},{\"level\":3,\"text\":\".load \u003cfile\u003e\",\"id\":\"load-file\"},{\"level\":3,\"text\":\"Supported File Formats\",\"id\":\"supported-file-formats\"},{\"level\":2,\"text\":\"System Commands\",\"id\":\"system-commands\"},{\"level\":3,\"text\":\".status\",\"id\":\"status\"},{\"level\":3,\"text\":\".clear prefix \u003cprefix\u003e\",\"id\":\"clear-prefix-prefix\"},{\"level\":3,\"text\":\".explain \u003cquery\u003e\",\"id\":\"explain-query\"},{\"level\":3,\"text\":\".compact\",\"id\":\"compact\"},{\"level\":3,\"text\":\".help\",\"id\":\"help\"},{\"level\":3,\"text\":\".quit / .exit / .q\",\"id\":\"quit-exit-q\"},{\"level\":2,\"text\":\"Index Commands\",\"id\":\"index-commands\"},{\"level\":3,\"text\":\".index / .index list\",\"id\":\"index-index-list\"},{\"level\":3,\"text\":\".index create\",\"id\":\"index-create\"},{\"level\":3,\"text\":\".index drop\",\"id\":\"index-drop\"},{\"level\":3,\"text\":\".index stats\",\"id\":\"index-stats\"},{\"level\":3,\"text\":\".index rebuild\",\"id\":\"index-rebuild\"},{\"level\":2,\"text\":\"Error Handling\",\"id\":\"error-handling\"},{\"level\":3,\"text\":\"Invalid Command\",\"id\":\"invalid-command\"},{\"level\":3,\"text\":\"Missing Arguments\",\"id\":\"missing-arguments\"},{\"level\":3,\"text\":\"Rule Not Found\",\"id\":\"rule-not-found\"}]},\"slugKey\":\"reference/commands\"}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"10:I[6869,[],\"IconMark\"]\nc:[[\"$\",\"title\",\"0\",{\"children\":\"InputLayer - A symbolic reasoning engine for AI agents\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Store facts, define rules, and derive everything that logically follows. Vector search, graph traversal, and incremental computation in one system.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/icon.svg\"}],[\"$\",\"$L10\",\"3\",{}]]\n8:null\n"])</script></body></html>