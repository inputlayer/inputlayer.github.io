1:"$Sreact.fragment"
2:I[8428,["758","static/chunks/758-3cb69ce377cde046.js","121","static/chunks/121-aece4f809b101dc1.js","502","static/chunks/502-e809071f8789437b.js","689","static/chunks/689-4fcf9680fdc90283.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-004ec69e3c86920a.js"],"DocsPageClient"]
5:I[484,[],"OutletBoundary"]
6:"$Sreact.suspense"
3:Te69,# Installation

Install and run InputLayer on your system.

## Prerequisites

- **Rust 1.88+** - InputLayer is written in Rust
- **Cargo** - Rust's package manager (comes with Rust)

### Installing Rust

If you don't have Rust installed, use [rustup](https://rustup.rs/):

```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

After installation, restart your terminal or run:
```bash
source $HOME/.cargo/env
```

Verify installation:
```bash
rustc --version  # Should show 1.88.0 or higher
cargo --version
```

## Installation Options

### Option 1: Install from crates.io (Recommended)

```bash
cargo install inputlayer --bin inputlayer-client
```

This installs the `inputlayer-client` binary to `~/.cargo/bin/`.

### Option 2: Build from Source

```bash
# Clone the repository
git clone https://github.com/inputlayer/inputlayer.git
cd inputlayer

# Build in release mode
cargo build --release

# The binaries are in target/release/
./target/release/inputlayer-server   # Start server first
./target/release/inputlayer-client   # Then connect with client
```

### Option 3: Run without Installing

For quick testing without installing:

```bash
cargo run --release --bin inputlayer-server &
cargo run --release --bin inputlayer-client
```

## Verify Installation

Start the server, then connect with the client:

```bash
inputlayer-server &
inputlayer-client
```

You should see:

```
Connecting to server at http://127.0.0.1:8080...
Connected!

Server status: healthy
Authenticated as: admin
Current knowledge graph: default
```

Try a simple command:

```
> .kg list
Knowledge graphs:
  default
```

Type `.quit` to exit.

## Configuration (Optional)

InputLayer works out of the box with sensible defaults. For customization, create a config file:

**Location options:**
1. `./config.toml` (current directory, auto-loaded)
2. `./config.local.toml` (local overrides, git-ignored, auto-loaded)
3. Custom path via `--config <path>` CLI flag

**Example configuration:**

```toml
[storage]
data_dir = "./data"
default_knowledge_graph = "default"

[storage.performance]
num_threads = 4

[storage.persist]
buffer_size = 10000
durability_mode = "batched"
```

## Data Directory

By default, InputLayer stores data in `./data/` (current working directory). Set `data_dir` in the config file to customize.

The data directory contains:
```
./data/
├── default/           # Default knowledge graph
│   └── rules/         # Persistent rule definitions (catalog.json)
├── persist/           # DD-native persist layer
│   ├── shards/        # Shard metadata
│   ├── batches/       # Compacted batch files
│   └── wal/           # Write-ahead log
└── metadata/          # System metadata
```

## Next Steps

Now that you have InputLayer installed:

1. **[Your First Program](first-program)** - Write your first InputLayer program
2. **[Core Concepts](core-concepts)** - Understand facts, rules, and queries
3. **[REPL Guide](repl)** - Master the interactive environment

## Troubleshooting

### Command not found: inputlayer-client

Make sure `~/.cargo/bin` is in your PATH:

```bash
export PATH="$HOME/.cargo/bin:$PATH"
```

Add this line to your `~/.bashrc` or `~/.zshrc` for persistence.

### Build fails with missing dependencies

On some Linux systems, you may need development libraries:

```bash
# Ubuntu/Debian
sudo apt-get install build-essential pkg-config libssl-dev

# Fedora
sudo dnf install gcc pkg-config openssl-devel

# macOS (if needed)
xcode-select --install
```

### Permission denied when writing data

Ensure you have write permissions to the data directory:

```bash
mkdir -p ./data
chmod 755 ./data
```0:{"buildId":"05bjYGyiAumoEMBrfWHih","rsc":["$","$1","c",{"children":[["$","$L2",null,{"page":{"title":"Installation","content":"$3","toc":[{"level":2,"text":"Prerequisites","id":"prerequisites"},{"level":3,"text":"Installing Rust","id":"installing-rust"},{"level":2,"text":"Installation Options","id":"installation-options"},{"level":3,"text":"Option 1: Install from crates.io (Recommended)","id":"option-1-install-from-cratesio-recommended"},{"level":3,"text":"Option 2: Build from Source","id":"option-2-build-from-source"},{"level":3,"text":"Option 3: Run without Installing","id":"option-3-run-without-installing"},{"level":2,"text":"Verify Installation","id":"verify-installation"},{"level":2,"text":"Configuration (Optional)","id":"configuration-optional"},{"level":2,"text":"Data Directory","id":"data-directory"},{"level":2,"text":"Next Steps","id":"next-steps"},{"level":2,"text":"Troubleshooting","id":"troubleshooting"},{"level":3,"text":"Command not found: inputlayer-client","id":"command-not-found-inputlayer-client"},{"level":3,"text":"Build fails with missing dependencies","id":"build-fails-with-missing-dependencies"},{"level":3,"text":"Permission denied when writing data","id":"permission-denied-when-writing-data"}]},"slugKey":"guides/installation"}],null,"$L4"]}],"loading":null,"isPartial":false}
4:["$","$L5",null,{"children":["$","$6",null,{"name":"Next.MetadataOutlet","children":"$@7"}]}]
7:null
