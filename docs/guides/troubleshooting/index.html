<!DOCTYPE html><!--05bjYGyiAumoEMBrfWHih--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/4cf2300e9c8272f7-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/4bd7a24b7976d4e6.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-bd6546b43ab2ecbf.js"/><script src="/_next/static/chunks/4bd1b696-deba172d32c79f82.js" async=""></script><script src="/_next/static/chunks/794-275dc9ebd3a29fbf.js" async=""></script><script src="/_next/static/chunks/main-app-1fa5b694e5d36a75.js" async=""></script><script src="/_next/static/chunks/app/layout-7e9963bf811be36b.js" async=""></script><script src="/_next/static/chunks/758-3cb69ce377cde046.js" async=""></script><script src="/_next/static/chunks/121-aece4f809b101dc1.js" async=""></script><script src="/_next/static/chunks/502-e809071f8789437b.js" async=""></script><script src="/_next/static/chunks/689-4fcf9680fdc90283.js" async=""></script><script src="/_next/static/chunks/app/docs/%5B%5B...slug%5D%5D/page-004ec69e3c86920a.js" async=""></script><meta name="next-size-adjust" content=""/><title>InputLayer - A symbolic reasoning engine for AI agents</title><meta name="description" content="Store facts, define rules, and derive everything that logically follows. Vector search, graph traversal, and incremental computation in one system."/><link rel="icon" href="/icon.svg"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_188709 __variable_9a8899 font-sans antialiased"><div hidden=""><!--$--><!--/$--></div><script>((a,b,c,d,e,f,g,h)=>{let i=document.documentElement,j=["light","dark"];function k(b){var c;(Array.isArray(a)?a:[a]).forEach(a=>{let c="class"===a,d=c&&f?e.map(a=>f[a]||a):e;c?(i.classList.remove(...d),i.classList.add(f&&f[b]?f[b]:b)):i.setAttribute(a,b)}),c=b,h&&j.includes(c)&&(i.style.colorScheme=c)}if(d)k(d);else try{let a=localStorage.getItem(b)||c,d=g&&"system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a;k(d)}catch(a){}})("class","theme","dark",null,["light","dark"],null,true,true)</script><div class="flex flex-col h-dvh"><header class="sticky top-0 z-50 w-full border-b border-border/50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"><div class="flex h-14 items-center px-6"><a class="mr-8" href="/"><span class="inline-flex items-center gap-1.5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0"><path d="M12 2L2 7l10 5 10-5-10-5z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 12l10 5 10-5"></path></svg><span class="font-extrabold tracking-tight text-lg">InputLayer</span></span></a><nav class="hidden md:flex items-center gap-6 text-sm"><a class="text-muted-foreground transition-colors hover:text-foreground" href="/docs/">Docs</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/blog/">Blog</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/use-cases/">Use Cases</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/compare/">Compare</a><a href="https://demo.inputlayer.ai" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1 text-muted-foreground transition-colors hover:text-foreground">Demo<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link h-3 w-3"><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></svg></a></nav><div class="ml-auto flex items-center gap-3"><div class="inline-flex items-center gap-1.5"><a href="https://github.com/inputlayer/inputlayer" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-secondary/50 px-2.5 py-1 text-xs font-medium text-muted-foreground transition-colors hover:text-foreground hover:bg-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star h-3.5 w-3.5"><path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path></svg><span>Star</span></a><a href="https://github.com/inputlayer/inputlayer/fork" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-secondary/50 px-2.5 py-1 text-xs font-medium text-muted-foreground transition-colors hover:text-foreground hover:bg-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-git-fork h-3.5 w-3.5"><circle cx="12" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><circle cx="18" cy="6" r="3"></circle><path d="M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9"></path><path d="M12 12v3"></path></svg><span>Fork</span></a></div><button data-slot="button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-9 h-9 w-9"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-4 w-4"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg></button><div class="md:hidden"><button class="inline-flex items-center justify-center rounded-md p-2 text-muted-foreground hover:text-foreground hover:bg-secondary transition-colors" aria-label="Open menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-5 w-5"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></div></div></header><div class="flex flex-1 overflow-hidden"><div class="w-64 shrink-0 border-r border-border/50 overflow-y-auto"><div class="flex flex-col h-full"><div class="p-3 border-b border-border/50"><div class="relative"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg><input type="text" placeholder="Search docs..." class="w-full h-8 pl-8 pr-3 text-sm rounded-md border border-border bg-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring" value=""/></div></div><nav class="flex-1 overflow-y-auto p-2 space-y-0.5"><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" href="/docs/index/">Overview</a><div data-state="open" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-foreground font-medium" style="padding-left:12px" type="button" aria-controls="radix-_R_j6av5ubtb_" aria-expanded="true" data-state="open" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform rotate-90"><path d="m9 18 6-6-6-6"></path></svg>Guides</button><div data-state="open" id="radix-_R_j6av5ubtb_" data-slot="collapsible-content"><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/quickstart/">Quick Start</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/installation/">Installation</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/first-program/">Your First Program</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/core-concepts/">Data Modeling</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/repl/">REPL Guide</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/recursion/">Recursion</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/vectors/">Vector Search</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/indexing/">Indexing</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/temporal/">Temporal Reasoning</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/persistence/">Persistence</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/configuration/">Configuration</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/rest-api/">REST API</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/python-sdk/">Python SDK</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/deployment/">Deployment</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/authentication/">Authentication</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/websocket-api/">WebSocket API</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/migrations/">Migrations</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors bg-primary/10 text-primary font-medium" style="padding-left:24px" href="/docs/guides/troubleshooting/">Troubleshooting</a></div></div><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_r6av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Reference</button><div data-state="closed" id="radix-_R_r6av5ubtb_" hidden="" data-slot="collapsible-content"></div></div><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_136av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Specification</button><div data-state="closed" id="radix-_R_136av5ubtb_" hidden="" data-slot="collapsible-content"></div></div><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_1b6av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Internals</button><div data-state="closed" id="radix-_R_1b6av5ubtb_" hidden="" data-slot="collapsible-content"></div></div></nav></div></div><div class="flex flex-1 flex-col overflow-hidden"><div class="flex flex-1 overflow-hidden"><div class="flex-1 overflow-y-auto px-8 py-6 max-w-4xl mx-auto"><article class="docs-prose"><h1 id="troubleshooting-common-errors" node="[object Object]">Troubleshooting: Common Errors</h1>
<p>This guide covers common errors and how to resolve them.</p>
<h2 id="parse-errors" node="[object Object]">Parse Errors</h2>
<h3 id="unexpected-token" node="[object Object]">&quot;Unexpected token&quot;</h3>
<p><strong>Cause</strong>: Syntax error in statement.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Wrong</span>
<span class="syn-arith">+</span><span class="syn-identifier">edge</span><span class="syn-punct">(</span><span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-number">2</span>

<span class="syn-comment">// Correct</span>
<span class="syn-arith">+</span><span class="syn-identifier">edge</span><span class="syn-punct">(</span><span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-number">2</span><span class="syn-punct">)</span>
</code></pre>
<h3 id="invalid-relation-name" node="[object Object]">&quot;Invalid relation name&quot;</h3>
<p><strong>Cause</strong>: Relation names must start with lowercase.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Wrong</span>
<span class="syn-arith">+</span><span class="syn-variable">Edge</span><span class="syn-punct">(</span><span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-number">2</span><span class="syn-punct">)</span>

<span class="syn-comment">// Correct</span>
<span class="syn-arith">+</span><span class="syn-identifier">edge</span><span class="syn-punct">(</span><span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-number">2</span><span class="syn-punct">)</span>
</code></pre>
<h3 id="expected-" node="[object Object]">&quot;Expected &#x27;&lt;-&#x27;&quot;</h3>
<p><strong>Cause</strong>: Rule syntax error.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Wrong - missing &lt;-</span>
<span class="syn-arith">+</span><span class="syn-identifier">path</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">,</span> <span class="syn-variable">Y</span><span class="syn-punct">)</span> <span class="syn-identifier">edge</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">,</span> <span class="syn-variable">Y</span><span class="syn-punct">)</span>

<span class="syn-comment">// Correct</span>
<span class="syn-arith">+</span><span class="syn-identifier">path</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">,</span> <span class="syn-variable">Y</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span> <span class="syn-body-id">edge</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">,</span> <span class="syn-variable">Y</span><span class="syn-punct">)</span>
</code></pre>
<h3 id="unclosed-parenthesis" node="[object Object]">&quot;Unclosed parenthesis&quot;</h3>
<p><strong>Cause</strong>: Mismatched parentheses.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Wrong</span>
<span class="syn-arith">+</span><span class="syn-identifier">edge</span><span class="syn-punct">(</span><span class="syn-punct">(</span><span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-number">2</span><span class="syn-punct">)</span>

<span class="syn-comment">// Correct</span>
<span class="syn-arith">+</span><span class="syn-identifier">edge</span><span class="syn-punct">(</span><span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-number">2</span><span class="syn-punct">)</span>
</code></pre>
<h2 id="type-errors" node="[object Object]">Type Errors</h2>
<h3 id="type-mismatch" node="[object Object]">&quot;Type mismatch&quot;</h3>
<p><strong>Cause</strong>: Value doesn&#x27;t match schema.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// If schema is: +person(id: int, name: string)</span>

<span class="syn-comment">// Wrong</span>
<span class="syn-arith">+</span><span class="syn-identifier">person</span><span class="syn-punct">(</span><span class="syn-string">"alice"</span><span class="syn-punct">,</span> <span class="syn-number">1</span><span class="syn-punct">)</span>

<span class="syn-comment">// Correct</span>
<span class="syn-arith">+</span><span class="syn-identifier">person</span><span class="syn-punct">(</span><span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-string">"alice"</span><span class="syn-punct">)</span>
</code></pre>
<h3 id="expected-int-got-float" node="[object Object]">&quot;Expected int, got float&quot;</h3>
<p><strong>Cause</strong>: Using 1.0 where 1 is expected.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Wrong (if relation expects int)</span>
<span class="syn-arith">+</span><span class="syn-identifier">score</span><span class="syn-punct">(</span><span class="syn-number">1.0</span><span class="syn-punct">)</span>

<span class="syn-comment">// Correct</span>
<span class="syn-arith">+</span><span class="syn-identifier">score</span><span class="syn-punct">(</span><span class="syn-number">1</span><span class="syn-punct">)</span>
</code></pre>
<h2 id="query-errors" node="[object Object]">Query Errors</h2>
<h3 id="unknown-relation" node="[object Object]">&quot;Unknown relation&quot;</h3>
<p><strong>Cause</strong>: Querying a relation that doesn&#x27;t exist.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-query">?</span><span class="syn-identifier">nonexistent</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>
<span class="syn-comment">// Error: Unknown relation 'nonexistent'</span>
</code></pre>
<p><strong>Solutions</strong>:</p>
<ol>
<li>Check spelling</li>
<li>Use <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rel</code> to list existing relations</li>
<li>Create the relation first with <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">+relation(...)</code></li>
</ol>
<h3 id="unbound-variable-in-head" node="[object Object]">&quot;Unbound variable in head&quot;</h3>
<p><strong>Cause</strong>: Variable in rule head not used in body.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Wrong - Z is not in the body</span>
<span class="syn-arith">+</span><span class="syn-identifier">path</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">,</span> <span class="syn-variable">Z</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span> <span class="syn-body-id">edge</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">,</span> <span class="syn-variable">Y</span><span class="syn-punct">)</span>

<span class="syn-comment">// Correct</span>
<span class="syn-arith">+</span><span class="syn-identifier">path</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">,</span> <span class="syn-variable">Y</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span> <span class="syn-body-id">edge</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">,</span> <span class="syn-variable">Y</span><span class="syn-punct">)</span>
</code></pre>
<h3 id="unsafe-variable" node="[object Object]">&quot;Unsafe variable&quot;</h3>
<p><strong>Cause</strong>: Variable only appears in negation or constraint.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Wrong - X only appears in negation</span>
<span class="syn-arith">+</span><span class="syn-identifier">orphan</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span> <span class="syn-negation">!</span><span class="syn-body-id">parent</span><span class="syn-punct">(</span><span class="syn-variable">_</span><span class="syn-punct">,</span> <span class="syn-variable">X</span><span class="syn-punct">)</span>

<span class="syn-comment">// Correct - X must appear positively</span>
<span class="syn-arith">+</span><span class="syn-identifier">orphan</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span> <span class="syn-body-id">person</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span><span class="syn-punct">,</span> <span class="syn-negation">!</span><span class="syn-body-id">parent</span><span class="syn-punct">(</span><span class="syn-variable">_</span><span class="syn-punct">,</span> <span class="syn-variable">X</span><span class="syn-punct">)</span>
</code></pre>
<h2 id="recursion-errors" node="[object Object]">Recursion Errors</h2>
<h3 id="non-stratifiable-program" node="[object Object]">&quot;Non-stratifiable program&quot;</h3>
<p><strong>Cause</strong>: Negation through recursion.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Wrong - circular negation</span>
<span class="syn-arith">+</span><span class="syn-identifier">a</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span> <span class="syn-body-id">b</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>
<span class="syn-arith">+</span><span class="syn-identifier">b</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span> <span class="syn-negation">!</span><span class="syn-body-id">a</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span>  <span class="syn-comment">// Error: a depends on not-a</span>
</code></pre>
<p><strong>Solution</strong>: Restructure to avoid negation in recursive cycles.</p>
<h3 id="recursion-timeout" node="[object Object]">&quot;Recursion timeout&quot;</h3>
<p><strong>Cause</strong>: Infinite recursion or very deep recursion.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Potential issue - unbounded generation</span>
<span class="syn-arith">+</span><span class="syn-identifier">nums</span><span class="syn-punct">(</span><span class="syn-number">0</span><span class="syn-punct">)</span>
<span class="syn-arith">+</span><span class="syn-identifier">nums</span><span class="syn-punct">(</span><span class="syn-variable">N</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span> <span class="syn-body-id">nums</span><span class="syn-punct">(</span><span class="syn-variable">M</span><span class="syn-punct">)</span><span class="syn-punct">,</span> <span class="syn-variable">N</span> <span class="syn-comparison">=</span> <span class="syn-variable">M</span> <span class="syn-arith">+</span> <span class="syn-number">1</span>  <span class="syn-comment">// Never terminates!</span>
</code></pre>
<p><strong>Solution</strong>: Add termination conditions.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-arith">+</span><span class="syn-identifier">nums</span><span class="syn-punct">(</span><span class="syn-number">0</span><span class="syn-punct">)</span>
<span class="syn-arith">+</span><span class="syn-identifier">nums</span><span class="syn-punct">(</span><span class="syn-variable">N</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span> <span class="syn-body-id">nums</span><span class="syn-punct">(</span><span class="syn-variable">M</span><span class="syn-punct">)</span><span class="syn-punct">,</span> <span class="syn-variable">N</span> <span class="syn-comparison">=</span> <span class="syn-variable">M</span> <span class="syn-arith">+</span> <span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-variable">N</span> <span class="syn-comparison">&lt;</span> <span class="syn-number">100</span>  <span class="syn-comment">// Bounded</span>
</code></pre>
<h2 id="knowledge-graph-errors" node="[object Object]">Knowledge Graph Errors</h2>
<h3 id="knowledge-graph-not-found" node="[object Object]">&quot;Knowledge graph not found&quot;</h3>
<p><strong>Cause</strong>: Trying to use a non-existent knowledge graph.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-meta">.kg use</span> <span class="syn-identifier">nonexistent</span>
<span class="syn-comment">// Error: Knowledge graph 'nonexistent' not found</span>
</code></pre>
<p><strong>Solution</strong>: Create it first.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-meta">.kg create</span> <span class="syn-identifier">mykg</span>
<span class="syn-meta">.kg use</span> <span class="syn-identifier">mykg</span>
</code></pre>
<h3 id="cannot-drop-current-knowledge-graph" node="[object Object]">&quot;Cannot drop current knowledge graph&quot;</h3>
<p><strong>Cause</strong>: Trying to drop the knowledge graph you&#x27;re in.</p>
<p><strong>Solution</strong>: Switch to another knowledge graph first.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-meta">.kg use</span> <span class="syn-identifier">default</span>
<span class="syn-meta">.kg drop</span> <span class="syn-identifier">mykg</span>
</code></pre>
<h3 id="no-current-knowledge-graph" node="[object Object]">&quot;No current knowledge graph&quot;</h3>
<p><strong>Cause</strong>: Operating without selecting a knowledge graph.</p>
<p><strong>Solution</strong>: Use <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg use &lt;name&gt;</code> first.</p>
<h2 id="rule-errors" node="[object Object]">Rule Errors</h2>
<h3 id="rule-not-found" node="[object Object]">&quot;Rule not found&quot;</h3>
<p><strong>Cause</strong>: Trying to query/drop a rule that doesn&#x27;t exist.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-meta">.rule drop</span> <span class="syn-identifier">nonexistent</span>
<span class="syn-comment">// Error: Rule 'nonexistent' not found</span>
</code></pre>
<p><strong>Solution</strong>: Check <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rule</code> to list existing rules.</p>
<h3 id="duplicate-rule-clause" node="[object Object]">&quot;Duplicate rule clause&quot;</h3>
<p><strong>Cause</strong>: Adding the exact same rule twice.</p>
<p><strong>Note</strong>: This is usually a warning, not an error. The duplicate is ignored.</p>
<h2 id="aggregation-errors" node="[object Object]">Aggregation Errors</h2>
<h3 id="aggregation-variable-must-be-grouped" node="[object Object]">&quot;Aggregation variable must be grouped&quot;</h3>
<p><strong>Cause</strong>: Using a variable in the head without aggregating or grouping.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Wrong - Name appears but isn't grouped</span>
<span class="syn-arith">+</span><span class="syn-identifier">total</span><span class="syn-punct">(</span><span class="syn-variable">Name</span><span class="syn-punct">,</span> <span class="syn-aggregate">sum</span><span class="syn-comparison">&lt;</span><span class="syn-variable">Amount</span><span class="syn-comparison">&gt;</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span> <span class="syn-body-id">purchase</span><span class="syn-punct">(</span><span class="syn-variable">_</span><span class="syn-punct">,</span> <span class="syn-variable">Amount</span><span class="syn-punct">)</span>

<span class="syn-comment">// Correct - Name is in the body</span>
<span class="syn-arith">+</span><span class="syn-identifier">total</span><span class="syn-punct">(</span><span class="syn-variable">Name</span><span class="syn-punct">,</span> <span class="syn-aggregate">sum</span><span class="syn-comparison">&lt;</span><span class="syn-variable">Amount</span><span class="syn-comparison">&gt;</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span> <span class="syn-body-id">purchase</span><span class="syn-punct">(</span><span class="syn-variable">Name</span><span class="syn-punct">,</span> <span class="syn-variable">Amount</span><span class="syn-punct">)</span>
</code></pre>
<h3 id="cannot-aggregate-over-empty-set" node="[object Object]">&quot;Cannot aggregate over empty set&quot;</h3>
<p><strong>Cause</strong>: Aggregating with no matching facts.</p>
<p><strong>Note</strong>: This returns empty results, not an error. Check your filters.</p>
<h2 id="storage-errors" node="[object Object]">Storage Errors</h2>
<h3 id="permission-denied" node="[object Object]">&quot;Permission denied&quot;</h3>
<p><strong>Cause</strong>: Cannot write to data directory.</p>
<p><strong>Solution</strong>:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm"><span class="syn-builtin">mkdir</span> <span class="syn-meta">-p</span> ./data
<span class="syn-builtin">chmod</span> 755 ./data</code></pre>
<h3 id="disk-full" node="[object Object]">&quot;Disk full&quot;</h3>
<p><strong>Cause</strong>: No space for data files.</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li>Free up disk space</li>
<li>Run <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.compact</code> to consolidate storage</li>
<li>Move data directory to larger disk</li>
</ol>
<h3 id="wal-corruption" node="[object Object]">&quot;WAL corruption&quot;</h3>
<p><strong>Cause</strong>: Crash during write operation.</p>
<p><strong>Solution</strong>: InputLayer should recover automatically. If not:</p>
<ol>
<li>Check for <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.wal</code> files in data directory</li>
<li>Remove corrupt WAL files (will lose uncommitted data)</li>
<li>Restart</li>
</ol>
<h2 id="performance-issues" node="[object Object]">Performance Issues</h2>
<h3 id="query-taking-too-long" node="[object Object]">&quot;Query taking too long&quot;</h3>
<p><strong>Possible causes</strong>:</p>
<ol>
<li>Very large datasets</li>
<li>Cartesian product (joining without shared variables)</li>
<li>Deep recursion</li>
</ol>
<p><strong>Solutions</strong>:</p>
<ol>
<li>
<p><strong>Add constraints early</strong>:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Slow - filters after join</span>
<span class="syn-query">?</span><span class="syn-identifier">huge_table1</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">,</span> <span class="syn-variable">Y</span><span class="syn-punct">)</span><span class="syn-punct">,</span> <span class="syn-identifier">huge_table2</span><span class="syn-punct">(</span><span class="syn-variable">Y</span><span class="syn-punct">,</span> <span class="syn-variable">Z</span><span class="syn-punct">)</span><span class="syn-punct">,</span> <span class="syn-variable">X</span> <span class="syn-comparison">&lt;</span> <span class="syn-number">10</span>

<span class="syn-comment">// Fast - filter first</span>
<span class="syn-query">?</span><span class="syn-identifier">huge_table1</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">,</span> <span class="syn-variable">Y</span><span class="syn-punct">)</span><span class="syn-punct">,</span> <span class="syn-variable">X</span> <span class="syn-comparison">&lt;</span> <span class="syn-number">10</span><span class="syn-punct">,</span> <span class="syn-identifier">huge_table2</span><span class="syn-punct">(</span><span class="syn-variable">Y</span><span class="syn-punct">,</span> <span class="syn-variable">Z</span><span class="syn-punct">)</span>
</code></pre>
</li>
<li>
<p><strong>Check for Cartesian products</strong>:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Bad - no shared variables = cross product</span>
<span class="syn-query">?</span><span class="syn-identifier">table1</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">)</span><span class="syn-punct">,</span> <span class="syn-identifier">table2</span><span class="syn-punct">(</span><span class="syn-variable">Y</span><span class="syn-punct">)</span>

<span class="syn-comment">// Good - joined on Y</span>
<span class="syn-query">?</span><span class="syn-identifier">table1</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">,</span> <span class="syn-variable">Y</span><span class="syn-punct">)</span><span class="syn-punct">,</span> <span class="syn-identifier">table2</span><span class="syn-punct">(</span><span class="syn-variable">Y</span><span class="syn-punct">,</span> <span class="syn-variable">Z</span><span class="syn-punct">)</span>
</code></pre>
</li>
<li>
<p><strong>Limit results</strong>:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// For exploration, check small sample first</span>
<span class="syn-query">?</span><span class="syn-identifier">huge_relation</span><span class="syn-punct">(</span><span class="syn-variable">X</span><span class="syn-punct">,</span> <span class="syn-variable">Y</span><span class="syn-punct">)</span><span class="syn-punct">,</span> <span class="syn-variable">X</span> <span class="syn-comparison">&lt;</span> <span class="syn-number">10</span>
</code></pre>
</li>
</ol>
<h3 id="high-memory-usage" node="[object Object]">&quot;High memory usage&quot;</h3>
<p><strong>Solutions</strong>:</p>
<ol>
<li>Run <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.compact</code> to consolidate storage</li>
<li>Reduce intermediate result sizes with filters</li>
<li>Break large operations into smaller chunks</li>
</ol>
<h2 id="getting-more-help" node="[object Object]">Getting More Help</h2>
<h3 id="debug-mode" node="[object Object]">Debug Mode</h3>
<p>Set environment variable for verbose output:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm">IL_TRACE_LEVEL=debug inputlayer<span class="syn-meta">-server</span></code></pre>
<h3 id="check-system-status" node="[object Object]">Check System Status</h3>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-meta">.status</span>
</code></pre>
<p>Shows knowledge graph info and other diagnostics.</p>
<h3 id="file-locations" node="[object Object]">File Locations</h3>
<p>Find data files:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm"><span class="syn-builtin">ls</span> <span class="syn-meta">-la</span> ./data/</code></pre>
<p>Check logs (if file logging configured via <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">IL_TRACE_FILE</code>):</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm">tail <span class="syn-meta">-f</span> /path/to/configured/log/file</code></pre>
<h2 id="error-message-quick-reference" node="[object Object]">Error Message Quick Reference</h2>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Error</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Likely Cause</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Solution</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">&quot;Unexpected token&quot;</td><td class="border px-4 py-2" node="[object Object]">Syntax error</td><td class="border px-4 py-2" node="[object Object]">Check statement syntax</td></tr><tr><td class="border px-4 py-2" node="[object Object]">&quot;Unknown relation&quot;</td><td class="border px-4 py-2" node="[object Object]">Typo or missing data</td><td class="border px-4 py-2" node="[object Object]">Check spelling, <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.rel</code></td></tr><tr><td class="border px-4 py-2" node="[object Object]">&quot;Type mismatch&quot;</td><td class="border px-4 py-2" node="[object Object]">Wrong value type</td><td class="border px-4 py-2" node="[object Object]">Check schema</td></tr><tr><td class="border px-4 py-2" node="[object Object]">&quot;Unbound variable&quot;</td><td class="border px-4 py-2" node="[object Object]">Variable not in body</td><td class="border px-4 py-2" node="[object Object]">Add to body predicate</td></tr><tr><td class="border px-4 py-2" node="[object Object]">&quot;Non-stratifiable&quot;</td><td class="border px-4 py-2" node="[object Object]">Negation cycle</td><td class="border px-4 py-2" node="[object Object]">Restructure rules</td></tr><tr><td class="border px-4 py-2" node="[object Object]">&quot;Knowledge graph not found&quot;</td><td class="border px-4 py-2" node="[object Object]">Wrong name</td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">.kg list</code> to check</td></tr><tr><td class="border px-4 py-2" node="[object Object]">&quot;Permission denied&quot;</td><td class="border px-4 py-2" node="[object Object]">File permissions</td><td class="border px-4 py-2" node="[object Object]">Check data dir</td></tr></tbody></table></div>
<h2 id="still-stuck" node="[object Object]">Still Stuck?</h2>
<ol>
<li>Check the examples for working patterns</li>
<li>Report issues at: <a href="https://github.com/inputlayer/inputlayer/issues" target="_blank" rel="noopener noreferrer" node="[object Object]">https://github.com/inputlayer/inputlayer/issues</a></li>
</ol></article></div><div class="hidden lg:block w-48 shrink-0 border-l border-border/50"><div class="sticky top-0 p-4"><p class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3">On this page</p><nav class="space-y-1"><a href="#parse-errors" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Parse Errors</a><a href="#unexpected-token" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Unexpected token&quot;</a><a href="#invalid-relation-name" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Invalid relation name&quot;</a><a href="#expected-" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Expected &#x27;&lt;-&#x27;&quot;</a><a href="#unclosed-parenthesis" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Unclosed parenthesis&quot;</a><a href="#type-errors" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Type Errors</a><a href="#type-mismatch" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Type mismatch&quot;</a><a href="#expected-int-got-float" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Expected int, got float&quot;</a><a href="#query-errors" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Query Errors</a><a href="#unknown-relation" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Unknown relation&quot;</a><a href="#unbound-variable-in-head" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Unbound variable in head&quot;</a><a href="#unsafe-variable" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Unsafe variable&quot;</a><a href="#recursion-errors" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Recursion Errors</a><a href="#non-stratifiable-program" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Non-stratifiable program&quot;</a><a href="#recursion-timeout" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Recursion timeout&quot;</a><a href="#knowledge-graph-errors" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Knowledge Graph Errors</a><a href="#knowledge-graph-not-found" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Knowledge graph not found&quot;</a><a href="#cannot-drop-current-knowledge-graph" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Cannot drop current knowledge graph&quot;</a><a href="#no-current-knowledge-graph" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;No current knowledge graph&quot;</a><a href="#rule-errors" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Rule Errors</a><a href="#rule-not-found" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Rule not found&quot;</a><a href="#duplicate-rule-clause" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Duplicate rule clause&quot;</a><a href="#aggregation-errors" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Aggregation Errors</a><a href="#aggregation-variable-must-be-grouped" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Aggregation variable must be grouped&quot;</a><a href="#cannot-aggregate-over-empty-set" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Cannot aggregate over empty set&quot;</a><a href="#storage-errors" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Storage Errors</a><a href="#permission-denied" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Permission denied&quot;</a><a href="#disk-full" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Disk full&quot;</a><a href="#wal-corruption" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;WAL corruption&quot;</a><a href="#performance-issues" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Performance Issues</a><a href="#query-taking-too-long" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;Query taking too long&quot;</a><a href="#high-memory-usage" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">&quot;High memory usage&quot;</a><a href="#getting-more-help" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Getting More Help</a><a href="#debug-mode" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Debug Mode</a><a href="#check-system-status" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Check System Status</a><a href="#file-locations" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">File Locations</a><a href="#error-message-quick-reference" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Error Message Quick Reference</a><a href="#still-stuck" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Still Stuck?</a></nav></div></div></div></div></div></div><!--$--><!--/$--><script src="/_next/static/chunks/webpack-bd6546b43ab2ecbf.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[1942,[\"177\",\"static/chunks/app/layout-7e9963bf811be36b.js\"],\"ThemeProvider\"]\n3:I[7121,[],\"\"]\n4:I[4581,[],\"\"]\n6:I[484,[],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[484,[],\"ViewportBoundary\"]\nb:I[484,[],\"MetadataBoundary\"]\nd:I[7123,[],\"\"]\n:HL[\"/_next/static/media/4cf2300e9c8272f7-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/4bd7a24b7976d4e6.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"05bjYGyiAumoEMBrfWHih\",\"c\":[\"\",\"docs\",\"guides\",\"troubleshooting\",\"\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"guides/troubleshooting\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/4bd7a24b7976d4e6.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_188709 __variable_9a8899 font-sans antialiased\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"dark\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"e:I[8428,[\"758\",\"static/chunks/758-3cb69ce377cde046.js\",\"121\",\"static/chunks/121-aece4f809b101dc1.js\",\"502\",\"static/chunks/502-e809071f8789437b.js\",\"689\",\"static/chunks/689-4fcf9680fdc90283.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-004ec69e3c86920a.js\"],\"DocsPageClient\"]\nf:T18da,"])</script><script>self.__next_f.push([1,"# Troubleshooting: Common Errors\n\nThis guide covers common errors and how to resolve them.\n\n## Parse Errors\n\n### \"Unexpected token\"\n\n**Cause**: Syntax error in statement.\n\n```datalog\n// Wrong\n+edge(1, 2\n\n// Correct\n+edge(1, 2)\n```\n\n### \"Invalid relation name\"\n\n**Cause**: Relation names must start with lowercase.\n\n```datalog\n// Wrong\n+Edge(1, 2)\n\n// Correct\n+edge(1, 2)\n```\n\n### \"Expected '\u003c-'\"\n\n**Cause**: Rule syntax error.\n\n```datalog\n// Wrong - missing \u003c-\n+path(X, Y) edge(X, Y)\n\n// Correct\n+path(X, Y) \u003c- edge(X, Y)\n```\n\n### \"Unclosed parenthesis\"\n\n**Cause**: Mismatched parentheses.\n\n```datalog\n// Wrong\n+edge((1, 2)\n\n// Correct\n+edge(1, 2)\n```\n\n## Type Errors\n\n### \"Type mismatch\"\n\n**Cause**: Value doesn't match schema.\n\n```datalog\n// If schema is: +person(id: int, name: string)\n\n// Wrong\n+person(\"alice\", 1)\n\n// Correct\n+person(1, \"alice\")\n```\n\n### \"Expected int, got float\"\n\n**Cause**: Using 1.0 where 1 is expected.\n\n```datalog\n// Wrong (if relation expects int)\n+score(1.0)\n\n// Correct\n+score(1)\n```\n\n## Query Errors\n\n### \"Unknown relation\"\n\n**Cause**: Querying a relation that doesn't exist.\n\n```datalog\n?nonexistent(X)\n// Error: Unknown relation 'nonexistent'\n```\n\n**Solutions**:\n1. Check spelling\n2. Use `.rel` to list existing relations\n3. Create the relation first with `+relation(...)`\n\n### \"Unbound variable in head\"\n\n**Cause**: Variable in rule head not used in body.\n\n```datalog\n// Wrong - Z is not in the body\n+path(X, Z) \u003c- edge(X, Y)\n\n// Correct\n+path(X, Y) \u003c- edge(X, Y)\n```\n\n### \"Unsafe variable\"\n\n**Cause**: Variable only appears in negation or constraint.\n\n```datalog\n// Wrong - X only appears in negation\n+orphan(X) \u003c- !parent(_, X)\n\n// Correct - X must appear positively\n+orphan(X) \u003c- person(X), !parent(_, X)\n```\n\n## Recursion Errors\n\n### \"Non-stratifiable program\"\n\n**Cause**: Negation through recursion.\n\n```datalog\n// Wrong - circular negation\n+a(X) \u003c- b(X)\n+b(X) \u003c- !a(X)  // Error: a depends on not-a\n```\n\n**Solution**: Restructure to avoid negation in recursive cycles.\n\n### \"Recursion timeout\"\n\n**Cause**: Infinite recursion or very deep recursion.\n\n```datalog\n// Potential issue - unbounded generation\n+nums(0)\n+nums(N) \u003c- nums(M), N = M + 1  // Never terminates!\n```\n\n**Solution**: Add termination conditions.\n\n```datalog\n+nums(0)\n+nums(N) \u003c- nums(M), N = M + 1, N \u003c 100  // Bounded\n```\n\n## Knowledge Graph Errors\n\n### \"Knowledge graph not found\"\n\n**Cause**: Trying to use a non-existent knowledge graph.\n\n```datalog\n.kg use nonexistent\n// Error: Knowledge graph 'nonexistent' not found\n```\n\n**Solution**: Create it first.\n\n```datalog\n.kg create mykg\n.kg use mykg\n```\n\n### \"Cannot drop current knowledge graph\"\n\n**Cause**: Trying to drop the knowledge graph you're in.\n\n**Solution**: Switch to another knowledge graph first.\n\n```datalog\n.kg use default\n.kg drop mykg\n```\n\n### \"No current knowledge graph\"\n\n**Cause**: Operating without selecting a knowledge graph.\n\n**Solution**: Use `.kg use \u003cname\u003e` first.\n\n## Rule Errors\n\n### \"Rule not found\"\n\n**Cause**: Trying to query/drop a rule that doesn't exist.\n\n```datalog\n.rule drop nonexistent\n// Error: Rule 'nonexistent' not found\n```\n\n**Solution**: Check `.rule` to list existing rules.\n\n### \"Duplicate rule clause\"\n\n**Cause**: Adding the exact same rule twice.\n\n**Note**: This is usually a warning, not an error. The duplicate is ignored.\n\n## Aggregation Errors\n\n### \"Aggregation variable must be grouped\"\n\n**Cause**: Using a variable in the head without aggregating or grouping.\n\n```datalog\n// Wrong - Name appears but isn't grouped\n+total(Name, sum\u003cAmount\u003e) \u003c- purchase(_, Amount)\n\n// Correct - Name is in the body\n+total(Name, sum\u003cAmount\u003e) \u003c- purchase(Name, Amount)\n```\n\n### \"Cannot aggregate over empty set\"\n\n**Cause**: Aggregating with no matching facts.\n\n**Note**: This returns empty results, not an error. Check your filters.\n\n## Storage Errors\n\n### \"Permission denied\"\n\n**Cause**: Cannot write to data directory.\n\n**Solution**:\n```bash\nmkdir -p ./data\nchmod 755 ./data\n```\n\n### \"Disk full\"\n\n**Cause**: No space for data files.\n\n**Solutions**:\n1. Free up disk space\n2. Run `.compact` to consolidate storage\n3. Move data directory to larger disk\n\n### \"WAL corruption\"\n\n**Cause**: Crash during write operation.\n\n**Solution**: InputLayer should recover automatically. If not:\n1. Check for `.wal` files in data directory\n2. Remove corrupt WAL files (will lose uncommitted data)\n3. Restart\n\n## Performance Issues\n\n### \"Query taking too long\"\n\n**Possible causes**:\n1. Very large datasets\n2. Cartesian product (joining without shared variables)\n3. Deep recursion\n\n**Solutions**:\n\n1. **Add constraints early**:\n   ```datalog\n   // Slow - filters after join\n   ?huge_table1(X, Y), huge_table2(Y, Z), X \u003c 10\n\n   // Fast - filter first\n   ?huge_table1(X, Y), X \u003c 10, huge_table2(Y, Z)\n   ```\n\n2. **Check for Cartesian products**:\n   ```datalog\n   // Bad - no shared variables = cross product\n   ?table1(X), table2(Y)\n\n   // Good - joined on Y\n   ?table1(X, Y), table2(Y, Z)\n   ```\n\n3. **Limit results**:\n   ```datalog\n   // For exploration, check small sample first\n   ?huge_relation(X, Y), X \u003c 10\n   ```\n\n### \"High memory usage\"\n\n**Solutions**:\n1. Run `.compact` to consolidate storage\n2. Reduce intermediate result sizes with filters\n3. Break large operations into smaller chunks\n\n## Getting More Help\n\n### Debug Mode\n\nSet environment variable for verbose output:\n```bash\nIL_TRACE_LEVEL=debug inputlayer-server\n```\n\n### Check System Status\n\n```datalog\n.status\n```\n\nShows knowledge graph info and other diagnostics.\n\n### File Locations\n\nFind data files:\n```bash\nls -la ./data/\n```\n\nCheck logs (if file logging configured via `IL_TRACE_FILE`):\n```bash\ntail -f /path/to/configured/log/file\n```\n\n## Error Message Quick Reference\n\n| Error | Likely Cause | Solution |\n|-------|--------------|----------|\n| \"Unexpected token\" | Syntax error | Check statement syntax |\n| \"Unknown relation\" | Typo or missing data | Check spelling, `.rel` |\n| \"Type mismatch\" | Wrong value type | Check schema |\n| \"Unbound variable\" | Variable not in body | Add to body predicate |\n| \"Non-stratifiable\" | Negation cycle | Restructure rules |\n| \"Knowledge graph not found\" | Wrong name | `.kg list` to check |\n| \"Permission denied\" | File permissions | Check data dir |\n\n## Still Stuck?\n\n1. Check the examples for working patterns\n2. Report issues at: https://github.com/inputlayer/inputlayer/issues"])</script><script>self.__next_f.push([1,"5:[\"$\",\"$Le\",null,{\"page\":{\"title\":\"Troubleshooting: Common Errors\",\"content\":\"$f\",\"toc\":[{\"level\":2,\"text\":\"Parse Errors\",\"id\":\"parse-errors\"},{\"level\":3,\"text\":\"\\\"Unexpected token\\\"\",\"id\":\"unexpected-token\"},{\"level\":3,\"text\":\"\\\"Invalid relation name\\\"\",\"id\":\"invalid-relation-name\"},{\"level\":3,\"text\":\"\\\"Expected '\u003c-'\\\"\",\"id\":\"expected-\"},{\"level\":3,\"text\":\"\\\"Unclosed parenthesis\\\"\",\"id\":\"unclosed-parenthesis\"},{\"level\":2,\"text\":\"Type Errors\",\"id\":\"type-errors\"},{\"level\":3,\"text\":\"\\\"Type mismatch\\\"\",\"id\":\"type-mismatch\"},{\"level\":3,\"text\":\"\\\"Expected int, got float\\\"\",\"id\":\"expected-int-got-float\"},{\"level\":2,\"text\":\"Query Errors\",\"id\":\"query-errors\"},{\"level\":3,\"text\":\"\\\"Unknown relation\\\"\",\"id\":\"unknown-relation\"},{\"level\":3,\"text\":\"\\\"Unbound variable in head\\\"\",\"id\":\"unbound-variable-in-head\"},{\"level\":3,\"text\":\"\\\"Unsafe variable\\\"\",\"id\":\"unsafe-variable\"},{\"level\":2,\"text\":\"Recursion Errors\",\"id\":\"recursion-errors\"},{\"level\":3,\"text\":\"\\\"Non-stratifiable program\\\"\",\"id\":\"non-stratifiable-program\"},{\"level\":3,\"text\":\"\\\"Recursion timeout\\\"\",\"id\":\"recursion-timeout\"},{\"level\":2,\"text\":\"Knowledge Graph Errors\",\"id\":\"knowledge-graph-errors\"},{\"level\":3,\"text\":\"\\\"Knowledge graph not found\\\"\",\"id\":\"knowledge-graph-not-found\"},{\"level\":3,\"text\":\"\\\"Cannot drop current knowledge graph\\\"\",\"id\":\"cannot-drop-current-knowledge-graph\"},{\"level\":3,\"text\":\"\\\"No current knowledge graph\\\"\",\"id\":\"no-current-knowledge-graph\"},{\"level\":2,\"text\":\"Rule Errors\",\"id\":\"rule-errors\"},{\"level\":3,\"text\":\"\\\"Rule not found\\\"\",\"id\":\"rule-not-found\"},{\"level\":3,\"text\":\"\\\"Duplicate rule clause\\\"\",\"id\":\"duplicate-rule-clause\"},{\"level\":2,\"text\":\"Aggregation Errors\",\"id\":\"aggregation-errors\"},{\"level\":3,\"text\":\"\\\"Aggregation variable must be grouped\\\"\",\"id\":\"aggregation-variable-must-be-grouped\"},{\"level\":3,\"text\":\"\\\"Cannot aggregate over empty set\\\"\",\"id\":\"cannot-aggregate-over-empty-set\"},{\"level\":2,\"text\":\"Storage Errors\",\"id\":\"storage-errors\"},{\"level\":3,\"text\":\"\\\"Permission denied\\\"\",\"id\":\"permission-denied\"},{\"level\":3,\"text\":\"\\\"Disk full\\\"\",\"id\":\"disk-full\"},{\"level\":3,\"text\":\"\\\"WAL corruption\\\"\",\"id\":\"wal-corruption\"},{\"level\":2,\"text\":\"Performance Issues\",\"id\":\"performance-issues\"},{\"level\":3,\"text\":\"\\\"Query taking too long\\\"\",\"id\":\"query-taking-too-long\"},{\"level\":3,\"text\":\"\\\"High memory usage\\\"\",\"id\":\"high-memory-usage\"},{\"level\":2,\"text\":\"Getting More Help\",\"id\":\"getting-more-help\"},{\"level\":3,\"text\":\"Debug Mode\",\"id\":\"debug-mode\"},{\"level\":3,\"text\":\"Check System Status\",\"id\":\"check-system-status\"},{\"level\":3,\"text\":\"File Locations\",\"id\":\"file-locations\"},{\"level\":2,\"text\":\"Error Message Quick Reference\",\"id\":\"error-message-quick-reference\"},{\"level\":2,\"text\":\"Still Stuck?\",\"id\":\"still-stuck\"}]},\"slugKey\":\"guides/troubleshooting\"}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"10:I[6869,[],\"IconMark\"]\nc:[[\"$\",\"title\",\"0\",{\"children\":\"InputLayer - A symbolic reasoning engine for AI agents\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Store facts, define rules, and derive everything that logically follows. Vector search, graph traversal, and incremental computation in one system.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/icon.svg\"}],[\"$\",\"$L10\",\"3\",{}]]\n8:null\n"])</script></body></html>