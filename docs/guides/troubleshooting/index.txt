1:"$Sreact.fragment"
2:I[1942,["177","static/chunks/app/layout-7e9963bf811be36b.js"],"ThemeProvider"]
3:I[7121,[],""]
4:I[4581,[],""]
6:I[484,[],"OutletBoundary"]
7:"$Sreact.suspense"
9:I[484,[],"ViewportBoundary"]
b:I[484,[],"MetadataBoundary"]
d:I[7123,[],""]
:HL["/_next/static/media/4cf2300e9c8272f7-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/93f479601ee12b01-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/4bd7a24b7976d4e6.css","style"]
0:{"P":null,"b":"05bjYGyiAumoEMBrfWHih","c":["","docs","guides","troubleshooting",""],"q":"","i":false,"f":[[["",{"children":["docs",{"children":[["slug","guides/troubleshooting","oc"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],[["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/4bd7a24b7976d4e6.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":["$","body",null,{"className":"__variable_188709 __variable_9a8899 font-sans antialiased","children":["$","$L2",null,{"attribute":"class","defaultTheme":"dark","enableSystem":true,"disableTransitionOnChange":true,"children":["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":["$L5",null,["$","$L6",null,{"children":["$","$7",null,{"name":"Next.MetadataOutlet","children":"$@8"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],["$","$1","h",{"children":[null,["$","$L9",null,{"children":"$@a"}],["$","div",null,{"hidden":true,"children":["$","$Lb",null,{"children":["$","$7",null,{"name":"Next.Metadata","children":"$@c"}]}]}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],false]],"m":"$undefined","G":["$d",[]],"S":true}
e:I[8428,["758","static/chunks/758-3cb69ce377cde046.js","121","static/chunks/121-aece4f809b101dc1.js","502","static/chunks/502-e809071f8789437b.js","689","static/chunks/689-4fcf9680fdc90283.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-004ec69e3c86920a.js"],"DocsPageClient"]
f:T18da,# Troubleshooting: Common Errors

This guide covers common errors and how to resolve them.

## Parse Errors

### "Unexpected token"

**Cause**: Syntax error in statement.

```datalog
// Wrong
+edge(1, 2

// Correct
+edge(1, 2)
```

### "Invalid relation name"

**Cause**: Relation names must start with lowercase.

```datalog
// Wrong
+Edge(1, 2)

// Correct
+edge(1, 2)
```

### "Expected '<-'"

**Cause**: Rule syntax error.

```datalog
// Wrong - missing <-
+path(X, Y) edge(X, Y)

// Correct
+path(X, Y) <- edge(X, Y)
```

### "Unclosed parenthesis"

**Cause**: Mismatched parentheses.

```datalog
// Wrong
+edge((1, 2)

// Correct
+edge(1, 2)
```

## Type Errors

### "Type mismatch"

**Cause**: Value doesn't match schema.

```datalog
// If schema is: +person(id: int, name: string)

// Wrong
+person("alice", 1)

// Correct
+person(1, "alice")
```

### "Expected int, got float"

**Cause**: Using 1.0 where 1 is expected.

```datalog
// Wrong (if relation expects int)
+score(1.0)

// Correct
+score(1)
```

## Query Errors

### "Unknown relation"

**Cause**: Querying a relation that doesn't exist.

```datalog
?nonexistent(X)
// Error: Unknown relation 'nonexistent'
```

**Solutions**:
1. Check spelling
2. Use `.rel` to list existing relations
3. Create the relation first with `+relation(...)`

### "Unbound variable in head"

**Cause**: Variable in rule head not used in body.

```datalog
// Wrong - Z is not in the body
+path(X, Z) <- edge(X, Y)

// Correct
+path(X, Y) <- edge(X, Y)
```

### "Unsafe variable"

**Cause**: Variable only appears in negation or constraint.

```datalog
// Wrong - X only appears in negation
+orphan(X) <- !parent(_, X)

// Correct - X must appear positively
+orphan(X) <- person(X), !parent(_, X)
```

## Recursion Errors

### "Non-stratifiable program"

**Cause**: Negation through recursion.

```datalog
// Wrong - circular negation
+a(X) <- b(X)
+b(X) <- !a(X)  // Error: a depends on not-a
```

**Solution**: Restructure to avoid negation in recursive cycles.

### "Recursion timeout"

**Cause**: Infinite recursion or very deep recursion.

```datalog
// Potential issue - unbounded generation
+nums(0)
+nums(N) <- nums(M), N = M + 1  // Never terminates!
```

**Solution**: Add termination conditions.

```datalog
+nums(0)
+nums(N) <- nums(M), N = M + 1, N < 100  // Bounded
```

## Knowledge Graph Errors

### "Knowledge graph not found"

**Cause**: Trying to use a non-existent knowledge graph.

```datalog
.kg use nonexistent
// Error: Knowledge graph 'nonexistent' not found
```

**Solution**: Create it first.

```datalog
.kg create mykg
.kg use mykg
```

### "Cannot drop current knowledge graph"

**Cause**: Trying to drop the knowledge graph you're in.

**Solution**: Switch to another knowledge graph first.

```datalog
.kg use default
.kg drop mykg
```

### "No current knowledge graph"

**Cause**: Operating without selecting a knowledge graph.

**Solution**: Use `.kg use <name>` first.

## Rule Errors

### "Rule not found"

**Cause**: Trying to query/drop a rule that doesn't exist.

```datalog
.rule drop nonexistent
// Error: Rule 'nonexistent' not found
```

**Solution**: Check `.rule` to list existing rules.

### "Duplicate rule clause"

**Cause**: Adding the exact same rule twice.

**Note**: This is usually a warning, not an error. The duplicate is ignored.

## Aggregation Errors

### "Aggregation variable must be grouped"

**Cause**: Using a variable in the head without aggregating or grouping.

```datalog
// Wrong - Name appears but isn't grouped
+total(Name, sum<Amount>) <- purchase(_, Amount)

// Correct - Name is in the body
+total(Name, sum<Amount>) <- purchase(Name, Amount)
```

### "Cannot aggregate over empty set"

**Cause**: Aggregating with no matching facts.

**Note**: This returns empty results, not an error. Check your filters.

## Storage Errors

### "Permission denied"

**Cause**: Cannot write to data directory.

**Solution**:
```bash
mkdir -p ./data
chmod 755 ./data
```

### "Disk full"

**Cause**: No space for data files.

**Solutions**:
1. Free up disk space
2. Run `.compact` to consolidate storage
3. Move data directory to larger disk

### "WAL corruption"

**Cause**: Crash during write operation.

**Solution**: InputLayer should recover automatically. If not:
1. Check for `.wal` files in data directory
2. Remove corrupt WAL files (will lose uncommitted data)
3. Restart

## Performance Issues

### "Query taking too long"

**Possible causes**:
1. Very large datasets
2. Cartesian product (joining without shared variables)
3. Deep recursion

**Solutions**:

1. **Add constraints early**:
   ```datalog
   // Slow - filters after join
   ?huge_table1(X, Y), huge_table2(Y, Z), X < 10

   // Fast - filter first
   ?huge_table1(X, Y), X < 10, huge_table2(Y, Z)
   ```

2. **Check for Cartesian products**:
   ```datalog
   // Bad - no shared variables = cross product
   ?table1(X), table2(Y)

   // Good - joined on Y
   ?table1(X, Y), table2(Y, Z)
   ```

3. **Limit results**:
   ```datalog
   // For exploration, check small sample first
   ?huge_relation(X, Y), X < 10
   ```

### "High memory usage"

**Solutions**:
1. Run `.compact` to consolidate storage
2. Reduce intermediate result sizes with filters
3. Break large operations into smaller chunks

## Getting More Help

### Debug Mode

Set environment variable for verbose output:
```bash
IL_TRACE_LEVEL=debug inputlayer-server
```

### Check System Status

```datalog
.status
```

Shows knowledge graph info and other diagnostics.

### File Locations

Find data files:
```bash
ls -la ./data/
```

Check logs (if file logging configured via `IL_TRACE_FILE`):
```bash
tail -f /path/to/configured/log/file
```

## Error Message Quick Reference

| Error | Likely Cause | Solution |
|-------|--------------|----------|
| "Unexpected token" | Syntax error | Check statement syntax |
| "Unknown relation" | Typo or missing data | Check spelling, `.rel` |
| "Type mismatch" | Wrong value type | Check schema |
| "Unbound variable" | Variable not in body | Add to body predicate |
| "Non-stratifiable" | Negation cycle | Restructure rules |
| "Knowledge graph not found" | Wrong name | `.kg list` to check |
| "Permission denied" | File permissions | Check data dir |

## Still Stuck?

1. Check the examples for working patterns
2. Report issues at: https://github.com/inputlayer/inputlayer/issues5:["$","$Le",null,{"page":{"title":"Troubleshooting: Common Errors","content":"$f","toc":[{"level":2,"text":"Parse Errors","id":"parse-errors"},{"level":3,"text":"\"Unexpected token\"","id":"unexpected-token"},{"level":3,"text":"\"Invalid relation name\"","id":"invalid-relation-name"},{"level":3,"text":"\"Expected '<-'\"","id":"expected-"},{"level":3,"text":"\"Unclosed parenthesis\"","id":"unclosed-parenthesis"},{"level":2,"text":"Type Errors","id":"type-errors"},{"level":3,"text":"\"Type mismatch\"","id":"type-mismatch"},{"level":3,"text":"\"Expected int, got float\"","id":"expected-int-got-float"},{"level":2,"text":"Query Errors","id":"query-errors"},{"level":3,"text":"\"Unknown relation\"","id":"unknown-relation"},{"level":3,"text":"\"Unbound variable in head\"","id":"unbound-variable-in-head"},{"level":3,"text":"\"Unsafe variable\"","id":"unsafe-variable"},{"level":2,"text":"Recursion Errors","id":"recursion-errors"},{"level":3,"text":"\"Non-stratifiable program\"","id":"non-stratifiable-program"},{"level":3,"text":"\"Recursion timeout\"","id":"recursion-timeout"},{"level":2,"text":"Knowledge Graph Errors","id":"knowledge-graph-errors"},{"level":3,"text":"\"Knowledge graph not found\"","id":"knowledge-graph-not-found"},{"level":3,"text":"\"Cannot drop current knowledge graph\"","id":"cannot-drop-current-knowledge-graph"},{"level":3,"text":"\"No current knowledge graph\"","id":"no-current-knowledge-graph"},{"level":2,"text":"Rule Errors","id":"rule-errors"},{"level":3,"text":"\"Rule not found\"","id":"rule-not-found"},{"level":3,"text":"\"Duplicate rule clause\"","id":"duplicate-rule-clause"},{"level":2,"text":"Aggregation Errors","id":"aggregation-errors"},{"level":3,"text":"\"Aggregation variable must be grouped\"","id":"aggregation-variable-must-be-grouped"},{"level":3,"text":"\"Cannot aggregate over empty set\"","id":"cannot-aggregate-over-empty-set"},{"level":2,"text":"Storage Errors","id":"storage-errors"},{"level":3,"text":"\"Permission denied\"","id":"permission-denied"},{"level":3,"text":"\"Disk full\"","id":"disk-full"},{"level":3,"text":"\"WAL corruption\"","id":"wal-corruption"},{"level":2,"text":"Performance Issues","id":"performance-issues"},{"level":3,"text":"\"Query taking too long\"","id":"query-taking-too-long"},{"level":3,"text":"\"High memory usage\"","id":"high-memory-usage"},{"level":2,"text":"Getting More Help","id":"getting-more-help"},{"level":3,"text":"Debug Mode","id":"debug-mode"},{"level":3,"text":"Check System Status","id":"check-system-status"},{"level":3,"text":"File Locations","id":"file-locations"},{"level":2,"text":"Error Message Quick Reference","id":"error-message-quick-reference"},{"level":2,"text":"Still Stuck?","id":"still-stuck"}]},"slugKey":"guides/troubleshooting"}]
a:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
10:I[6869,[],"IconMark"]
c:[["$","title","0",{"children":"InputLayer - A symbolic reasoning engine for AI agents"}],["$","meta","1",{"name":"description","content":"Store facts, define rules, and derive everything that logically follows. Vector search, graph traversal, and incremental computation in one system."}],["$","link","2",{"rel":"icon","href":"/icon.svg"}],["$","$L10","3",{}]]
8:null
