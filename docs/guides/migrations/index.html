<!DOCTYPE html><!--05bjYGyiAumoEMBrfWHih--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/4cf2300e9c8272f7-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/4bd7a24b7976d4e6.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-bd6546b43ab2ecbf.js"/><script src="/_next/static/chunks/4bd1b696-deba172d32c79f82.js" async=""></script><script src="/_next/static/chunks/794-275dc9ebd3a29fbf.js" async=""></script><script src="/_next/static/chunks/main-app-1fa5b694e5d36a75.js" async=""></script><script src="/_next/static/chunks/app/layout-7e9963bf811be36b.js" async=""></script><script src="/_next/static/chunks/758-3cb69ce377cde046.js" async=""></script><script src="/_next/static/chunks/121-aece4f809b101dc1.js" async=""></script><script src="/_next/static/chunks/502-e809071f8789437b.js" async=""></script><script src="/_next/static/chunks/689-4fcf9680fdc90283.js" async=""></script><script src="/_next/static/chunks/app/docs/%5B%5B...slug%5D%5D/page-004ec69e3c86920a.js" async=""></script><meta name="next-size-adjust" content=""/><title>InputLayer - A symbolic reasoning engine for AI agents</title><meta name="description" content="Store facts, define rules, and derive everything that logically follows. Vector search, graph traversal, and incremental computation in one system."/><link rel="icon" href="/icon.svg"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_188709 __variable_9a8899 font-sans antialiased"><div hidden=""><!--$--><!--/$--></div><script>((a,b,c,d,e,f,g,h)=>{let i=document.documentElement,j=["light","dark"];function k(b){var c;(Array.isArray(a)?a:[a]).forEach(a=>{let c="class"===a,d=c&&f?e.map(a=>f[a]||a):e;c?(i.classList.remove(...d),i.classList.add(f&&f[b]?f[b]:b)):i.setAttribute(a,b)}),c=b,h&&j.includes(c)&&(i.style.colorScheme=c)}if(d)k(d);else try{let a=localStorage.getItem(b)||c,d=g&&"system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a;k(d)}catch(a){}})("class","theme","dark",null,["light","dark"],null,true,true)</script><div class="flex flex-col h-dvh"><header class="sticky top-0 z-50 w-full border-b border-border/50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"><div class="flex h-14 items-center px-6"><a class="mr-8" href="/"><span class="inline-flex items-center gap-1.5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0"><path d="M12 2L2 7l10 5 10-5-10-5z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 12l10 5 10-5"></path></svg><span class="font-extrabold tracking-tight text-lg">InputLayer</span></span></a><nav class="hidden md:flex items-center gap-6 text-sm"><a class="text-muted-foreground transition-colors hover:text-foreground" href="/docs/">Docs</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/blog/">Blog</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/use-cases/">Use Cases</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/compare/">Compare</a><a href="https://demo.inputlayer.ai" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1 text-muted-foreground transition-colors hover:text-foreground">Demo<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link h-3 w-3"><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></svg></a></nav><div class="ml-auto flex items-center gap-3"><div class="inline-flex items-center gap-1.5"><a href="https://github.com/inputlayer/inputlayer" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-secondary/50 px-2.5 py-1 text-xs font-medium text-muted-foreground transition-colors hover:text-foreground hover:bg-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star h-3.5 w-3.5"><path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path></svg><span>Star</span></a><a href="https://github.com/inputlayer/inputlayer/fork" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-secondary/50 px-2.5 py-1 text-xs font-medium text-muted-foreground transition-colors hover:text-foreground hover:bg-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-git-fork h-3.5 w-3.5"><circle cx="12" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><circle cx="18" cy="6" r="3"></circle><path d="M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9"></path><path d="M12 12v3"></path></svg><span>Fork</span></a></div><button data-slot="button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-9 h-9 w-9"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-4 w-4"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg></button><div class="md:hidden"><button class="inline-flex items-center justify-center rounded-md p-2 text-muted-foreground hover:text-foreground hover:bg-secondary transition-colors" aria-label="Open menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-5 w-5"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></div></div></header><div class="flex flex-1 overflow-hidden"><div class="w-64 shrink-0 border-r border-border/50 overflow-y-auto"><div class="flex flex-col h-full"><div class="p-3 border-b border-border/50"><div class="relative"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg><input type="text" placeholder="Search docs..." class="w-full h-8 pl-8 pr-3 text-sm rounded-md border border-border bg-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring" value=""/></div></div><nav class="flex-1 overflow-y-auto p-2 space-y-0.5"><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" href="/docs/index/">Overview</a><div data-state="open" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-foreground font-medium" style="padding-left:12px" type="button" aria-controls="radix-_R_j6av5ubtb_" aria-expanded="true" data-state="open" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform rotate-90"><path d="m9 18 6-6-6-6"></path></svg>Guides</button><div data-state="open" id="radix-_R_j6av5ubtb_" data-slot="collapsible-content"><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/quickstart/">Quick Start</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/installation/">Installation</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/first-program/">Your First Program</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/core-concepts/">Data Modeling</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/repl/">REPL Guide</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/recursion/">Recursion</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/vectors/">Vector Search</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/indexing/">Indexing</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/temporal/">Temporal Reasoning</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/persistence/">Persistence</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/configuration/">Configuration</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/rest-api/">REST API</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/python-sdk/">Python SDK</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/deployment/">Deployment</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/authentication/">Authentication</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/websocket-api/">WebSocket API</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors bg-primary/10 text-primary font-medium" style="padding-left:24px" href="/docs/guides/migrations/">Migrations</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/troubleshooting/">Troubleshooting</a></div></div><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_r6av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Reference</button><div data-state="closed" id="radix-_R_r6av5ubtb_" hidden="" data-slot="collapsible-content"></div></div><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_136av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Specification</button><div data-state="closed" id="radix-_R_136av5ubtb_" hidden="" data-slot="collapsible-content"></div></div><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_1b6av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Internals</button><div data-state="closed" id="radix-_R_1b6av5ubtb_" hidden="" data-slot="collapsible-content"></div></div></nav></div></div><div class="flex flex-1 flex-col overflow-hidden"><div class="flex flex-1 overflow-hidden"><div class="flex-1 overflow-y-auto px-8 py-6 max-w-4xl mx-auto"><article class="docs-prose"><h1 id="migrations" node="[object Object]">Migrations</h1>
<p>When you&#x27;re prototyping, calling <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">define()</code> and <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">define_rules()</code> directly works fine. But once you&#x27;re running in production with a team, you need more control - versioned schema changes, rollback capability, and a clear record of what&#x27;s deployed where.</p>
<p>The migration system solves this. It works like Django migrations: you define your models in Python, run a command to detect changes, and it generates a numbered migration file with the exact operations needed. Apply them to any server, revert if something goes wrong, and track what&#x27;s been deployed.</p>
<h2 id="installation" node="[object Object]">Installation</h2>
<p>The <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">il</code> CLI is installed automatically when you install the Python SDK:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm"><span class="syn-builtin">pip</span> install inputlayer<span class="syn-meta">-client-dev</span></code></pre>
<p>Verify it&#x27;s available:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm">il <span class="syn-meta">--help</span></code></pre>
<h2 id="quick-start" node="[object Object]">Quick Start</h2>
<p>Here&#x27;s the full workflow from zero to deployed schema.</p>
<h3 id="1-define-your-models" node="[object Object]">1. Define Your Models</h3>
<p>Start with your Python models in a module (e.g., <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">myapp/models.py</code>):</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-python text-sm"><span class="syn-keyword">from</span> inputlayer <span class="syn-keyword">import</span> Relation, Derived, Vector, From, HnswIndex

<span class="syn-keyword">class</span> Employee(Relation):
    id: <span class="syn-builtin">int</span>
    name: <span class="syn-builtin">str</span>
    department: <span class="syn-builtin">str</span>
    salary: <span class="syn-builtin">float</span>

<span class="syn-keyword">class</span> Document(Relation):
    id: <span class="syn-builtin">int</span>
    title: <span class="syn-builtin">str</span>
    embedding: Vector[<span class="syn-number">384</span>]

<span class="syn-keyword">class</span> Senior(Derived):
    name: <span class="syn-builtin">str</span>
    rules = [
        From(Employee)
            .where(<span class="syn-keyword">lambda</span> e: e.salary &gt; <span class="syn-number">100000</span>)
            .select(name=Employee.name),
    ]

doc_search = HnswIndex(
    name=<span class="syn-string">"doc_search"</span>,
    relation=Document,
    column=<span class="syn-string">"embedding"</span>,
    metric=<span class="syn-string">"cosine"</span>,
)</code></pre>
<h3 id="2-generate-the-initial-migration" node="[object Object]">2. Generate the Initial Migration</h3>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm">il makemigrations <span class="syn-meta">--models</span> myapp.models</code></pre>
<p>Output:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Created migrations/0001_initial.py
  - CreateRelation: employee
  - CreateRelation: document
  - CreateRule: senior
  - CreateIndex: doc_search
</code></pre>
<p>The autodetector inspects your model classes, compares them against the previous migration&#x27;s state (or an empty state for the first run), and generates the minimal set of operations.</p>
<h3 id="3-apply-the-migration" node="[object Object]">3. Apply the Migration</h3>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm">il migrate <span class="syn-meta">--url</span> ws://localhost:8080/ws <span class="syn-meta">--kg</span> production</code></pre>
<p>Output:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Applying 0001_initial... OK
1 migration(s) applied.
</code></pre>
<h3 id="4-make-changes-and-iterate" node="[object Object]">4. Make Changes and Iterate</h3>
<p>Now say you add a new field and a new rule. Update your models, then generate again:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm">il makemigrations <span class="syn-meta">--models</span> myapp.models</code></pre>
<p>Output:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Created migrations/0002_auto.py
  - DropRelation: employee
  - CreateRelation: employee
  - ReplaceRule: senior
</code></pre>
<p>The autodetector noticed that <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">employee</code> has new columns (which requires a drop and recreate since InputLayer doesn&#x27;t support ALTER) and that the rule definition changed.</p>
<p>Apply it:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm">il migrate <span class="syn-meta">--url</span> ws://localhost:8080/ws <span class="syn-meta">--kg</span> production</code></pre>
<h3 id="5-check-status" node="[object Object]">5. Check Status</h3>
<p>See which migrations are applied on a given server:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm">il showmigrations <span class="syn-meta">--url</span> ws://localhost:8080/ws <span class="syn-meta">--kg</span> production</code></pre>
<p>Output:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">[X] 0001_initial
[X] 0002_auto
</code></pre>
<h3 id="6-rollback" node="[object Object]">6. Rollback</h3>
<p>If something goes wrong, revert to a previous migration:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm">il revert <span class="syn-meta">--url</span> ws://localhost:8080/ws <span class="syn-meta">--kg</span> production 0001_initial</code></pre>
<p>This runs the backward operations for every migration after <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">0001_initial</code>, in reverse order. The server state will match what it looked like right after <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">0001_initial</code> was applied.</p>
<h2 id="cli-reference" node="[object Object]">CLI Reference</h2>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">il makemigrations</code></h3>
<p>Generate a migration file by diffing your current models against the last migration&#x27;s state.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm">il makemigrations <span class="syn-meta">--models</span> myapp.models [<span class="syn-meta">--name</span> descriptive_suffix] [<span class="syn-meta">--migrations-dir</span> ./migrations]</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Option</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Default</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">--models</code></td><td class="border px-4 py-2" node="[object Object]">Python module path containing your Relation, Derived, and HnswIndex definitions</td><td class="border px-4 py-2" node="[object Object]">Required</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">--name</code></td><td class="border px-4 py-2" node="[object Object]">Custom suffix for the migration filename (e.g., <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">add_users</code>)</td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">initial</code> for first, <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">auto</code> for subsequent</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">--migrations-dir</code></td><td class="border px-4 py-2" node="[object Object]">Directory to store migration files</td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">./migrations</code></td></tr></tbody></table></div>
<p>The command discovers all <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Relation</code> subclasses, <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Derived</code> subclasses, and <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">HnswIndex</code> instances in the given module.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">il migrate</code></h3>
<p>Apply all pending migrations to a server.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm">il migrate <span class="syn-meta">--url</span> ws://host:port/ws <span class="syn-meta">--kg</span> my_graph [options]</code></pre>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Option</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Description</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">--url</code></td><td class="border px-4 py-2" node="[object Object]">WebSocket URL of the InputLayer server</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">--kg</code></td><td class="border px-4 py-2" node="[object Object]">Target knowledge graph</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">--username</code></td><td class="border px-4 py-2" node="[object Object]">Username for authentication</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">--password</code></td><td class="border px-4 py-2" node="[object Object]">Password for authentication</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">--api-key</code></td><td class="border px-4 py-2" node="[object Object]">API key for authentication</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">--migrations-dir</code></td><td class="border px-4 py-2" node="[object Object]">Directory containing migration files (default: <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">./migrations</code>)</td></tr></tbody></table></div>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">il revert</code></h3>
<p>Revert all migrations applied after the specified target.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm">il revert <span class="syn-meta">--url</span> ws://host:port/ws <span class="syn-meta">--kg</span> my_graph 0001_initial [options]</code></pre>
<p>The target migration itself stays applied - everything after it gets reverted in reverse order.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">il showmigrations</code></h3>
<p>Display the applied/pending status of all migrations.</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm">il showmigrations <span class="syn-meta">--url</span> ws://host:port/ws <span class="syn-meta">--kg</span> my_graph [options]</code></pre>
<h2 id="migration-file-anatomy" node="[object Object]">Migration File Anatomy</h2>
<p>Each generated migration is a self-contained Python file. Here&#x27;s what one looks like:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-python text-sm"><span class="syn-comment"># migrations/0001_initial.py</span>
<span class="syn-comment"># Auto-generated by il</span>

<span class="syn-keyword">from</span> inputlayer.migrations <span class="syn-keyword">import</span> Migration
<span class="syn-keyword">from</span> inputlayer.migrations <span class="syn-keyword">import</span> operations <span class="syn-keyword">as</span> ops

<span class="syn-keyword">class</span> M(Migration):
    dependencies = []

    operations = [
        ops.CreateRelation(
            name=<span class="syn-string">"employee"</span>,
            columns=[(<span class="syn-string">"id"</span>, <span class="syn-string">"int"</span>), (<span class="syn-string">"name"</span>, <span class="syn-string">"string"</span>), (<span class="syn-string">"department"</span>, <span class="syn-string">"string"</span>), (<span class="syn-string">"salary"</span>, <span class="syn-string">"float"</span>)],
        ),
        ops.CreateRule(
            name=<span class="syn-string">"senior"</span>,
            clauses=[<span class="syn-string">"+senior(Name) &lt;- employee(_, Name, _, Salary), Salary &gt; 100000"</span>],
        ),
        ops.CreateIndex(
            name=<span class="syn-string">"doc_search"</span>,
            relation=<span class="syn-string">"document"</span>,
            column=<span class="syn-string">"embedding"</span>,
            metric=<span class="syn-string">"cosine"</span>,
            m=<span class="syn-number">16</span>,
            ef_construction=<span class="syn-number">100</span>,
            ef_search=<span class="syn-number">50</span>,
        ),
    ]

    state = {
        <span class="syn-string">"relations"</span>: {
            <span class="syn-string">"employee"</span>: [(<span class="syn-string">"id"</span>, <span class="syn-string">"int"</span>), (<span class="syn-string">"name"</span>, <span class="syn-string">"string"</span>), (<span class="syn-string">"department"</span>, <span class="syn-string">"string"</span>), (<span class="syn-string">"salary"</span>, <span class="syn-string">"float"</span>)],
        },
        <span class="syn-string">"rules"</span>: {
            <span class="syn-string">"senior"</span>: [<span class="syn-string">"+senior(Name) &lt;- employee(_, Name, _, Salary), Salary &gt; 100000"</span>],
        },
        <span class="syn-string">"indexes"</span>: {
            <span class="syn-string">"doc_search"</span>: {<span class="syn-string">"relation"</span>: <span class="syn-string">"document"</span>, <span class="syn-string">"column"</span>: <span class="syn-string">"embedding"</span>, <span class="syn-string">"metric"</span>: <span class="syn-string">"cosine"</span>, <span class="syn-string">"m"</span>: <span class="syn-number">16</span>, <span class="syn-string">"ef_construction"</span>: <span class="syn-number">100</span>, <span class="syn-string">"ef_search"</span>: <span class="syn-number">50</span>},
        },
    }</code></pre>
<p>Three key fields:</p>
<ul>
<li><strong><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">dependencies</code></strong> - list of migration names that must be applied first. The autodetector sets this to the previous migration.</li>
<li><strong><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">operations</code></strong> - ordered list of forward operations. Each operation also knows how to run backward for reverts.</li>
<li><strong><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">state</code></strong> - full snapshot of the model state after this migration. This is what the autodetector diffs against when generating the next migration.</li>
</ul>
<h2 id="operations-reference" node="[object Object]">Operations Reference</h2>
<p>Every operation knows how to go forward and backward, making all migrations fully reversible.</p>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Operation</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Forward</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Backward</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">CreateRelation(name, columns)</code></td><td class="border px-4 py-2" node="[object Object]">Defines the relation schema</td><td class="border px-4 py-2" node="[object Object]">Drops the relation</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">DropRelation(name, columns)</code></td><td class="border px-4 py-2" node="[object Object]">Drops the relation</td><td class="border px-4 py-2" node="[object Object]">Recreates with stored columns</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">CreateRule(name, clauses)</code></td><td class="border px-4 py-2" node="[object Object]">Registers rule clauses</td><td class="border px-4 py-2" node="[object Object]">Drops the rule</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">DropRule(name, clauses)</code></td><td class="border px-4 py-2" node="[object Object]">Drops the rule</td><td class="border px-4 py-2" node="[object Object]">Recreates with stored clauses</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">ReplaceRule(name, old, new)</code></td><td class="border px-4 py-2" node="[object Object]">Drops old clauses, adds new</td><td class="border px-4 py-2" node="[object Object]">Drops new clauses, adds old</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">CreateIndex(name, ...)</code></td><td class="border px-4 py-2" node="[object Object]">Creates HNSW index</td><td class="border px-4 py-2" node="[object Object]">Drops the index</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">DropIndex(name, ...)</code></td><td class="border px-4 py-2" node="[object Object]">Drops the index</td><td class="border px-4 py-2" node="[object Object]">Recreates with stored params</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">RunDatalog(forward, backward)</code></td><td class="border px-4 py-2" node="[object Object]">Runs custom forward commands</td><td class="border px-4 py-2" node="[object Object]">Runs custom backward commands</td></tr></tbody></table></div>
<h3 id="custom-operations" node="[object Object]">Custom Operations</h3>
<p>For anything not covered by the built-in operations, use <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">RunDatalog</code> to run arbitrary Datalog commands:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-python text-sm">ops.RunDatalog(
    forward=[<span class="syn-string">"+edge[(1,2), (2,3), (3,4)]"</span>],
    backward=[<span class="syn-string">"-edge(X, Y) &lt;- edge(X, Y)"</span>],
)</code></pre>
<p>This is useful for seeding data, running one-off transformations, or anything the autodetector can&#x27;t generate automatically.</p>
<h2 id="how-the-autodetector-works" node="[object Object]">How the Autodetector Works</h2>
<p>When you run <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">il makemigrations</code>, here&#x27;s what happens:</p>
<ol>
<li><strong>Discovery</strong> - the tool imports your models module and finds all <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Relation</code> subclasses, <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">Derived</code> subclasses, and <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">HnswIndex</code> instances</li>
<li><strong>Current state</strong> - it builds a <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">ModelState</code> snapshot from your Python classes, converting types and compiling rules to Datalog</li>
<li><strong>Previous state</strong> - it loads the <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">state</code> dict from your latest migration file (or starts from empty)</li>
<li><strong>Diff</strong> - it compares the two states and generates the minimal set of operations</li>
<li><strong>Ordering</strong> - operations are ordered to respect dependencies: new relations first (so rules can reference them), then rules, then dropped relations, then indexes</li>
</ol>
<p>The ordering matters because InputLayer needs relations to exist before rules can reference them. The autodetector handles this automatically.</p>
<h2 id="applied-migration-tracking" node="[object Object]">Applied Migration Tracking</h2>
<p>The migration system tracks which migrations have been applied using an internal relation called <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">__inputlayer_migrations__</code> in your knowledge graph. Each row stores the migration name and the timestamp it was applied.</p>
<p>This means:</p>
<ul>
<li>Different knowledge graphs can be at different migration versions</li>
<li>You can see exactly what&#x27;s deployed on any server with <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">il showmigrations</code></li>
<li>The system never re-applies an already-applied migration</li>
</ul>
<h2 id="development-workflow" node="[object Object]">Development Workflow</h2>
<h3 id="local-development" node="[object Object]">Local Development</h3>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm"><span class="syn-comment"># Start your local InputLayer server</span>
inputlayer<span class="syn-meta">-server</span>

<span class="syn-comment"># Generate and apply migrations as you develop</span>
il makemigrations <span class="syn-meta">--models</span> myapp.models
il migrate <span class="syn-meta">--url</span> ws://localhost:8080/ws <span class="syn-meta">--kg</span> dev</code></pre>
<h3 id="team-workflow" node="[object Object]">Team Workflow</h3>
<ol>
<li>Commit migration files alongside the model changes that generated them</li>
<li>Each developer runs <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">il migrate</code> against their local server to sync up</li>
<li>During code review, verify that migration operations match the model diff</li>
<li>Never edit or delete a migration that&#x27;s already been applied - always create new ones</li>
</ol>
<h3 id="naming-migrations" node="[object Object]">Naming Migrations</h3>
<p>By default, migrations are named <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">0001_initial</code>, <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">0002_auto</code>, etc. Use <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">--name</code> for clarity:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-bash text-sm">il makemigrations <span class="syn-meta">--models</span> myapp.models <span class="syn-meta">--name</span> add_user_roles
<span class="syn-comment"># â†’ creates migrations/0003_add_user_roles.py</span></code></pre>
<h2 id="cicd-integration" node="[object Object]">CI/CD Integration</h2>
<h3 id="github-actions" node="[object Object]">GitHub Actions</h3>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-yaml text-sm">- name: Apply migrations
  run: |
    il migrate \
      --url ${{ secrets.IL_WS_URL }} \
      --kg production \
      --api-key ${{ secrets.IL_API_KEY }}</code></pre>
<h3 id="staging-validation" node="[object Object]">Staging Validation</h3>
<p>Apply to staging first, verify, then promote to production:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-yaml text-sm"><span class="syn-identifier">jobs</span>:
  migrate-staging:
    steps:
      - uses: actions/checkout@v4
      - run: pip install inputlayer-client-dev
      - run: |
          il migrate \
            --url ${{ secrets.STAGING_WS_URL }} \
            --kg staging \
            --api-key ${{ secrets.STAGING_API_KEY }}

  migrate-production:
    needs: migrate-staging
    steps:
      - uses: actions/checkout@v4
      - run: pip install inputlayer-client-dev
      - run: |
          il migrate \
            --url ${{ secrets.PROD_WS_URL }} \
            --kg production \
            --api-key ${{ secrets.PROD_API_KEY }}</code></pre>
<h2 id="programmatic-usage" node="[object Object]">Programmatic Usage</h2>
<p>You can also use the migration internals directly from Python. This is useful for testing, scripting, or building custom tooling:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-python text-sm"><span class="syn-keyword">from</span> inputlayer.migrations.autodetector <span class="syn-keyword">import</span> detect_changes
<span class="syn-keyword">from</span> inputlayer.migrations.state <span class="syn-keyword">import</span> ModelState
<span class="syn-keyword">from</span> inputlayer.migrations.writer <span class="syn-keyword">import</span> generate_migration

<span class="syn-comment"># Build state from your current models</span>
state = ModelState.from_models(
    relations=[Employee, Department],
    derived=[Senior],
    indexes=[doc_search],
)

<span class="syn-comment"># Diff against empty state (for initial migration)</span>
ops = detect_changes(ModelState(), state)

<span class="syn-comment"># Generate the migration file content</span>
filename, content = generate_migration(
    number=<span class="syn-number">1</span>,
    operations=ops,
    state=state.to_dict(),
    dependencies=[],
    name_suffix=<span class="syn-string">"initial"</span>,
)
<span class="syn-builtin">print</span>(<span class="syn-string">f"Generated: {filename}"</span>)</code></pre>
<h2 id="best-practices" node="[object Object]">Best Practices</h2>
<p><strong>One change per migration.</strong> Don&#x27;t mix unrelated schema changes in a single migration. If you&#x27;re adding a new relation and modifying a rule, that&#x27;s fine - but adding users and changing the indexing strategy should probably be separate.</p>
<p><strong>Never edit applied migrations.</strong> Once a migration has been applied to any server, treat it as immutable. If you need to fix something, create a new migration. Editing an applied migration will cause state drift between your files and the server.</p>
<p><strong>Test on staging first.</strong> Always apply migrations to a staging environment before production. Schema changes like dropping and recreating relations are destructive - the migration system makes them reversible, but it&#x27;s still better to catch issues early.</p>
<p><strong>Commit migrations with your code.</strong> Migration files should live in version control right next to the model changes that generated them. This makes code review straightforward - reviewers can verify that the generated operations match the model diff.</p>
<p><strong>Use descriptive names.</strong> <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">0003_add_user_roles.py</code> is much easier to understand at a glance than <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">0003_auto.py</code>. Use <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">--name</code> when generating migrations.</p></article></div><div class="hidden lg:block w-48 shrink-0 border-l border-border/50"><div class="sticky top-0 p-4"><p class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3">On this page</p><nav class="space-y-1"><a href="#installation" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Installation</a><a href="#quick-start" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Quick Start</a><a href="#1-define-your-models" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">1. Define Your Models</a><a href="#2-generate-the-initial-migration" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">2. Generate the Initial Migration</a><a href="#3-apply-the-migration" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">3. Apply the Migration</a><a href="#4-make-changes-and-iterate" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">4. Make Changes and Iterate</a><a href="#5-check-status" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">5. Check Status</a><a href="#6-rollback" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">6. Rollback</a><a href="#cli-reference" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">CLI Reference</a><a href="#il-makemigrations" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">il makemigrations</a><a href="#il-migrate" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">il migrate</a><a href="#il-revert" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">il revert</a><a href="#il-showmigrations" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">il showmigrations</a><a href="#migration-file-anatomy" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Migration File Anatomy</a><a href="#operations-reference" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Operations Reference</a><a href="#custom-operations" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Custom Operations</a><a href="#how-the-autodetector-works" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">How the Autodetector Works</a><a href="#applied-migration-tracking" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Applied Migration Tracking</a><a href="#development-workflow" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Development Workflow</a><a href="#local-development" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Local Development</a><a href="#team-workflow" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Team Workflow</a><a href="#naming-migrations" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Naming Migrations</a><a href="#cicd-integration" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">CI/CD Integration</a><a href="#github-actions" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">GitHub Actions</a><a href="#staging-validation" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Staging Validation</a><a href="#programmatic-usage" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Programmatic Usage</a><a href="#best-practices" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Best Practices</a></nav></div></div></div></div></div></div><!--$--><!--/$--><script src="/_next/static/chunks/webpack-bd6546b43ab2ecbf.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[1942,[\"177\",\"static/chunks/app/layout-7e9963bf811be36b.js\"],\"ThemeProvider\"]\n3:I[7121,[],\"\"]\n4:I[4581,[],\"\"]\n6:I[484,[],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[484,[],\"ViewportBoundary\"]\nb:I[484,[],\"MetadataBoundary\"]\nd:I[7123,[],\"\"]\n:HL[\"/_next/static/media/4cf2300e9c8272f7-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/4bd7a24b7976d4e6.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"05bjYGyiAumoEMBrfWHih\",\"c\":[\"\",\"docs\",\"guides\",\"migrations\",\"\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"guides/migrations\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/4bd7a24b7976d4e6.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_188709 __variable_9a8899 font-sans antialiased\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"dark\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"e:I[8428,[\"758\",\"static/chunks/758-3cb69ce377cde046.js\",\"121\",\"static/chunks/121-aece4f809b101dc1.js\",\"502\",\"static/chunks/502-e809071f8789437b.js\",\"689\",\"static/chunks/689-4fcf9680fdc90283.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-004ec69e3c86920a.js\"],\"DocsPageClient\"]\nf:T3252,"])</script><script>self.__next_f.push([1,"# Migrations\n\nWhen you're prototyping, calling `define()` and `define_rules()` directly works fine. But once you're running in production with a team, you need more control - versioned schema changes, rollback capability, and a clear record of what's deployed where.\n\nThe migration system solves this. It works like Django migrations: you define your models in Python, run a command to detect changes, and it generates a numbered migration file with the exact operations needed. Apply them to any server, revert if something goes wrong, and track what's been deployed.\n\n## Installation\n\nThe `il` CLI is installed automatically when you install the Python SDK:\n\n```bash\npip install inputlayer-client-dev\n```\n\nVerify it's available:\n\n```bash\nil --help\n```\n\n## Quick Start\n\nHere's the full workflow from zero to deployed schema.\n\n### 1. Define Your Models\n\nStart with your Python models in a module (e.g., `myapp/models.py`):\n\n```python\nfrom inputlayer import Relation, Derived, Vector, From, HnswIndex\n\nclass Employee(Relation):\n    id: int\n    name: str\n    department: str\n    salary: float\n\nclass Document(Relation):\n    id: int\n    title: str\n    embedding: Vector[384]\n\nclass Senior(Derived):\n    name: str\n    rules = [\n        From(Employee)\n            .where(lambda e: e.salary \u003e 100000)\n            .select(name=Employee.name),\n    ]\n\ndoc_search = HnswIndex(\n    name=\"doc_search\",\n    relation=Document,\n    column=\"embedding\",\n    metric=\"cosine\",\n)\n```\n\n### 2. Generate the Initial Migration\n\n```bash\nil makemigrations --models myapp.models\n```\n\nOutput:\n\n```\nCreated migrations/0001_initial.py\n  - CreateRelation: employee\n  - CreateRelation: document\n  - CreateRule: senior\n  - CreateIndex: doc_search\n```\n\nThe autodetector inspects your model classes, compares them against the previous migration's state (or an empty state for the first run), and generates the minimal set of operations.\n\n### 3. Apply the Migration\n\n```bash\nil migrate --url ws://localhost:8080/ws --kg production\n```\n\nOutput:\n\n```\nApplying 0001_initial... OK\n1 migration(s) applied.\n```\n\n### 4. Make Changes and Iterate\n\nNow say you add a new field and a new rule. Update your models, then generate again:\n\n```bash\nil makemigrations --models myapp.models\n```\n\nOutput:\n\n```\nCreated migrations/0002_auto.py\n  - DropRelation: employee\n  - CreateRelation: employee\n  - ReplaceRule: senior\n```\n\nThe autodetector noticed that `employee` has new columns (which requires a drop and recreate since InputLayer doesn't support ALTER) and that the rule definition changed.\n\nApply it:\n\n```bash\nil migrate --url ws://localhost:8080/ws --kg production\n```\n\n### 5. Check Status\n\nSee which migrations are applied on a given server:\n\n```bash\nil showmigrations --url ws://localhost:8080/ws --kg production\n```\n\nOutput:\n\n```\n[X] 0001_initial\n[X] 0002_auto\n```\n\n### 6. Rollback\n\nIf something goes wrong, revert to a previous migration:\n\n```bash\nil revert --url ws://localhost:8080/ws --kg production 0001_initial\n```\n\nThis runs the backward operations for every migration after `0001_initial`, in reverse order. The server state will match what it looked like right after `0001_initial` was applied.\n\n## CLI Reference\n\n### `il makemigrations`\n\nGenerate a migration file by diffing your current models against the last migration's state.\n\n```bash\nil makemigrations --models myapp.models [--name descriptive_suffix] [--migrations-dir ./migrations]\n```\n\n| Option | Description | Default |\n|--------|-------------|---------|\n| `--models` | Python module path containing your Relation, Derived, and HnswIndex definitions | Required |\n| `--name` | Custom suffix for the migration filename (e.g., `add_users`) | `initial` for first, `auto` for subsequent |\n| `--migrations-dir` | Directory to store migration files | `./migrations` |\n\nThe command discovers all `Relation` subclasses, `Derived` subclasses, and `HnswIndex` instances in the given module.\n\n### `il migrate`\n\nApply all pending migrations to a server.\n\n```bash\nil migrate --url ws://host:port/ws --kg my_graph [options]\n```\n\n| Option | Description |\n|--------|-------------|\n| `--url` | WebSocket URL of the InputLayer server |\n| `--kg` | Target knowledge graph |\n| `--username` | Username for authentication |\n| `--password` | Password for authentication |\n| `--api-key` | API key for authentication |\n| `--migrations-dir` | Directory containing migration files (default: `./migrations`) |\n\n### `il revert`\n\nRevert all migrations applied after the specified target.\n\n```bash\nil revert --url ws://host:port/ws --kg my_graph 0001_initial [options]\n```\n\nThe target migration itself stays applied - everything after it gets reverted in reverse order.\n\n### `il showmigrations`\n\nDisplay the applied/pending status of all migrations.\n\n```bash\nil showmigrations --url ws://host:port/ws --kg my_graph [options]\n```\n\n## Migration File Anatomy\n\nEach generated migration is a self-contained Python file. Here's what one looks like:\n\n```python\n# migrations/0001_initial.py\n# Auto-generated by il\n\nfrom inputlayer.migrations import Migration\nfrom inputlayer.migrations import operations as ops\n\nclass M(Migration):\n    dependencies = []\n\n    operations = [\n        ops.CreateRelation(\n            name=\"employee\",\n            columns=[(\"id\", \"int\"), (\"name\", \"string\"), (\"department\", \"string\"), (\"salary\", \"float\")],\n        ),\n        ops.CreateRule(\n            name=\"senior\",\n            clauses=[\"+senior(Name) \u003c- employee(_, Name, _, Salary), Salary \u003e 100000\"],\n        ),\n        ops.CreateIndex(\n            name=\"doc_search\",\n            relation=\"document\",\n            column=\"embedding\",\n            metric=\"cosine\",\n            m=16,\n            ef_construction=100,\n            ef_search=50,\n        ),\n    ]\n\n    state = {\n        \"relations\": {\n            \"employee\": [(\"id\", \"int\"), (\"name\", \"string\"), (\"department\", \"string\"), (\"salary\", \"float\")],\n        },\n        \"rules\": {\n            \"senior\": [\"+senior(Name) \u003c- employee(_, Name, _, Salary), Salary \u003e 100000\"],\n        },\n        \"indexes\": {\n            \"doc_search\": {\"relation\": \"document\", \"column\": \"embedding\", \"metric\": \"cosine\", \"m\": 16, \"ef_construction\": 100, \"ef_search\": 50},\n        },\n    }\n```\n\nThree key fields:\n\n- **`dependencies`** - list of migration names that must be applied first. The autodetector sets this to the previous migration.\n- **`operations`** - ordered list of forward operations. Each operation also knows how to run backward for reverts.\n- **`state`** - full snapshot of the model state after this migration. This is what the autodetector diffs against when generating the next migration.\n\n## Operations Reference\n\nEvery operation knows how to go forward and backward, making all migrations fully reversible.\n\n| Operation | Forward | Backward |\n|-----------|---------|----------|\n| `CreateRelation(name, columns)` | Defines the relation schema | Drops the relation |\n| `DropRelation(name, columns)` | Drops the relation | Recreates with stored columns |\n| `CreateRule(name, clauses)` | Registers rule clauses | Drops the rule |\n| `DropRule(name, clauses)` | Drops the rule | Recreates with stored clauses |\n| `ReplaceRule(name, old, new)` | Drops old clauses, adds new | Drops new clauses, adds old |\n| `CreateIndex(name, ...)` | Creates HNSW index | Drops the index |\n| `DropIndex(name, ...)` | Drops the index | Recreates with stored params |\n| `RunDatalog(forward, backward)` | Runs custom forward commands | Runs custom backward commands |\n\n### Custom Operations\n\nFor anything not covered by the built-in operations, use `RunDatalog` to run arbitrary Datalog commands:\n\n```python\nops.RunDatalog(\n    forward=[\"+edge[(1,2), (2,3), (3,4)]\"],\n    backward=[\"-edge(X, Y) \u003c- edge(X, Y)\"],\n)\n```\n\nThis is useful for seeding data, running one-off transformations, or anything the autodetector can't generate automatically.\n\n## How the Autodetector Works\n\nWhen you run `il makemigrations`, here's what happens:\n\n1. **Discovery** - the tool imports your models module and finds all `Relation` subclasses, `Derived` subclasses, and `HnswIndex` instances\n2. **Current state** - it builds a `ModelState` snapshot from your Python classes, converting types and compiling rules to Datalog\n3. **Previous state** - it loads the `state` dict from your latest migration file (or starts from empty)\n4. **Diff** - it compares the two states and generates the minimal set of operations\n5. **Ordering** - operations are ordered to respect dependencies: new relations first (so rules can reference them), then rules, then dropped relations, then indexes\n\nThe ordering matters because InputLayer needs relations to exist before rules can reference them. The autodetector handles this automatically.\n\n## Applied Migration Tracking\n\nThe migration system tracks which migrations have been applied using an internal relation called `__inputlayer_migrations__` in your knowledge graph. Each row stores the migration name and the timestamp it was applied.\n\nThis means:\n\n- Different knowledge graphs can be at different migration versions\n- You can see exactly what's deployed on any server with `il showmigrations`\n- The system never re-applies an already-applied migration\n\n## Development Workflow\n\n### Local Development\n\n```bash\n# Start your local InputLayer server\ninputlayer-server\n\n# Generate and apply migrations as you develop\nil makemigrations --models myapp.models\nil migrate --url ws://localhost:8080/ws --kg dev\n```\n\n### Team Workflow\n\n1. Commit migration files alongside the model changes that generated them\n2. Each developer runs `il migrate` against their local server to sync up\n3. During code review, verify that migration operations match the model diff\n4. Never edit or delete a migration that's already been applied - always create new ones\n\n### Naming Migrations\n\nBy default, migrations are named `0001_initial`, `0002_auto`, etc. Use `--name` for clarity:\n\n```bash\nil makemigrations --models myapp.models --name add_user_roles\n# â†’ creates migrations/0003_add_user_roles.py\n```\n\n## CI/CD Integration\n\n### GitHub Actions\n\n```yaml\n- name: Apply migrations\n  run: |\n    il migrate \\\n      --url ${{ secrets.IL_WS_URL }} \\\n      --kg production \\\n      --api-key ${{ secrets.IL_API_KEY }}\n```\n\n### Staging Validation\n\nApply to staging first, verify, then promote to production:\n\n```yaml\njobs:\n  migrate-staging:\n    steps:\n      - uses: actions/checkout@v4\n      - run: pip install inputlayer-client-dev\n      - run: |\n          il migrate \\\n            --url ${{ secrets.STAGING_WS_URL }} \\\n            --kg staging \\\n            --api-key ${{ secrets.STAGING_API_KEY }}\n\n  migrate-production:\n    needs: migrate-staging\n    steps:\n      - uses: actions/checkout@v4\n      - run: pip install inputlayer-client-dev\n      - run: |\n          il migrate \\\n            --url ${{ secrets.PROD_WS_URL }} \\\n            --kg production \\\n            --api-key ${{ secrets.PROD_API_KEY }}\n```\n\n## Programmatic Usage\n\nYou can also use the migration internals directly from Python. This is useful for testing, scripting, or building custom tooling:\n\n```python\nfrom inputlayer.migrations.autodetector import detect_changes\nfrom inputlayer.migrations.state import ModelState\nfrom inputlayer.migrations.writer import generate_migration\n\n# Build state from your current models\nstate = ModelState.from_models(\n    relations=[Employee, Department],\n    derived=[Senior],\n    indexes=[doc_search],\n)\n\n# Diff against empty state (for initial migration)\nops = detect_changes(ModelState(), state)\n\n# Generate the migration file content\nfilename, content = generate_migration(\n    number=1,\n    operations=ops,\n    state=state.to_dict(),\n    dependencies=[],\n    name_suffix=\"initial\",\n)\nprint(f\"Generated: {filename}\")\n```\n\n## Best Practices\n\n**One change per migration.** Don't mix unrelated schema changes in a single migration. If you're adding a new relation and modifying a rule, that's fine - but adding users and changing the indexing strategy should probably be separate.\n\n**Never edit applied migrations.** Once a migration has been applied to any server, treat it as immutable. If you need to fix something, create a new migration. Editing an applied migration will cause state drift between your files and the server.\n\n**Test on staging first.** Always apply migrations to a staging environment before production. Schema changes like dropping and recreating relations are destructive - the migration system makes them reversible, but it's still better to catch issues early.\n\n**Commit migrations with your code.** Migration files should live in version control right next to the model changes that generated them. This makes code review straightforward - reviewers can verify that the generated operations match the model diff.\n\n**Use descriptive names.** `0003_add_user_roles.py` is much easier to understand at a glance than `0003_auto.py`. Use `--name` when generating migrations."])</script><script>self.__next_f.push([1,"5:[\"$\",\"$Le\",null,{\"page\":{\"title\":\"Migrations\",\"content\":\"$f\",\"toc\":[{\"level\":2,\"text\":\"Installation\",\"id\":\"installation\"},{\"level\":2,\"text\":\"Quick Start\",\"id\":\"quick-start\"},{\"level\":3,\"text\":\"1. Define Your Models\",\"id\":\"1-define-your-models\"},{\"level\":3,\"text\":\"2. Generate the Initial Migration\",\"id\":\"2-generate-the-initial-migration\"},{\"level\":3,\"text\":\"3. Apply the Migration\",\"id\":\"3-apply-the-migration\"},{\"level\":3,\"text\":\"4. Make Changes and Iterate\",\"id\":\"4-make-changes-and-iterate\"},{\"level\":3,\"text\":\"5. Check Status\",\"id\":\"5-check-status\"},{\"level\":3,\"text\":\"6. Rollback\",\"id\":\"6-rollback\"},{\"level\":2,\"text\":\"CLI Reference\",\"id\":\"cli-reference\"},{\"level\":3,\"text\":\"il makemigrations\",\"id\":\"il-makemigrations\"},{\"level\":3,\"text\":\"il migrate\",\"id\":\"il-migrate\"},{\"level\":3,\"text\":\"il revert\",\"id\":\"il-revert\"},{\"level\":3,\"text\":\"il showmigrations\",\"id\":\"il-showmigrations\"},{\"level\":2,\"text\":\"Migration File Anatomy\",\"id\":\"migration-file-anatomy\"},{\"level\":2,\"text\":\"Operations Reference\",\"id\":\"operations-reference\"},{\"level\":3,\"text\":\"Custom Operations\",\"id\":\"custom-operations\"},{\"level\":2,\"text\":\"How the Autodetector Works\",\"id\":\"how-the-autodetector-works\"},{\"level\":2,\"text\":\"Applied Migration Tracking\",\"id\":\"applied-migration-tracking\"},{\"level\":2,\"text\":\"Development Workflow\",\"id\":\"development-workflow\"},{\"level\":3,\"text\":\"Local Development\",\"id\":\"local-development\"},{\"level\":3,\"text\":\"Team Workflow\",\"id\":\"team-workflow\"},{\"level\":3,\"text\":\"Naming Migrations\",\"id\":\"naming-migrations\"},{\"level\":2,\"text\":\"CI/CD Integration\",\"id\":\"cicd-integration\"},{\"level\":3,\"text\":\"GitHub Actions\",\"id\":\"github-actions\"},{\"level\":3,\"text\":\"Staging Validation\",\"id\":\"staging-validation\"},{\"level\":2,\"text\":\"Programmatic Usage\",\"id\":\"programmatic-usage\"},{\"level\":2,\"text\":\"Best Practices\",\"id\":\"best-practices\"}]},\"slugKey\":\"guides/migrations\"}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"10:I[6869,[],\"IconMark\"]\nc:[[\"$\",\"title\",\"0\",{\"children\":\"InputLayer - A symbolic reasoning engine for AI agents\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Store facts, define rules, and derive everything that logically follows. Vector search, graph traversal, and incremental computation in one system.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/icon.svg\"}],[\"$\",\"$L10\",\"3\",{}]]\n8:null\n"])</script></body></html>