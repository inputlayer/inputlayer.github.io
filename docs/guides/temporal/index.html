<!DOCTYPE html><!--05bjYGyiAumoEMBrfWHih--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/4cf2300e9c8272f7-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/4bd7a24b7976d4e6.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-bd6546b43ab2ecbf.js"/><script src="/_next/static/chunks/4bd1b696-deba172d32c79f82.js" async=""></script><script src="/_next/static/chunks/794-275dc9ebd3a29fbf.js" async=""></script><script src="/_next/static/chunks/main-app-1fa5b694e5d36a75.js" async=""></script><script src="/_next/static/chunks/app/layout-7e9963bf811be36b.js" async=""></script><script src="/_next/static/chunks/758-3cb69ce377cde046.js" async=""></script><script src="/_next/static/chunks/121-aece4f809b101dc1.js" async=""></script><script src="/_next/static/chunks/502-e809071f8789437b.js" async=""></script><script src="/_next/static/chunks/689-4fcf9680fdc90283.js" async=""></script><script src="/_next/static/chunks/app/docs/%5B%5B...slug%5D%5D/page-004ec69e3c86920a.js" async=""></script><meta name="next-size-adjust" content=""/><title>InputLayer - A symbolic reasoning engine for AI agents</title><meta name="description" content="Store facts, define rules, and derive everything that logically follows. Vector search, graph traversal, and incremental computation in one system."/><link rel="icon" href="/icon.svg"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_188709 __variable_9a8899 font-sans antialiased"><div hidden=""><!--$--><!--/$--></div><script>((a,b,c,d,e,f,g,h)=>{let i=document.documentElement,j=["light","dark"];function k(b){var c;(Array.isArray(a)?a:[a]).forEach(a=>{let c="class"===a,d=c&&f?e.map(a=>f[a]||a):e;c?(i.classList.remove(...d),i.classList.add(f&&f[b]?f[b]:b)):i.setAttribute(a,b)}),c=b,h&&j.includes(c)&&(i.style.colorScheme=c)}if(d)k(d);else try{let a=localStorage.getItem(b)||c,d=g&&"system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a;k(d)}catch(a){}})("class","theme","dark",null,["light","dark"],null,true,true)</script><div class="flex flex-col h-dvh"><header class="sticky top-0 z-50 w-full border-b border-border/50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"><div class="flex h-14 items-center px-6"><a class="mr-8" href="/"><span class="inline-flex items-center gap-1.5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0"><path d="M12 2L2 7l10 5 10-5-10-5z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 12l10 5 10-5"></path></svg><span class="font-extrabold tracking-tight text-lg">InputLayer</span></span></a><nav class="hidden md:flex items-center gap-6 text-sm"><a class="text-muted-foreground transition-colors hover:text-foreground" href="/docs/">Docs</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/blog/">Blog</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/use-cases/">Use Cases</a><a class="text-muted-foreground transition-colors hover:text-foreground" href="/compare/">Compare</a><a href="https://demo.inputlayer.ai" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1 text-muted-foreground transition-colors hover:text-foreground">Demo<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link h-3 w-3"><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></svg></a></nav><div class="ml-auto flex items-center gap-3"><div class="inline-flex items-center gap-1.5"><a href="https://github.com/inputlayer/inputlayer" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-secondary/50 px-2.5 py-1 text-xs font-medium text-muted-foreground transition-colors hover:text-foreground hover:bg-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star h-3.5 w-3.5"><path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path></svg><span>Star</span></a><a href="https://github.com/inputlayer/inputlayer/fork" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-secondary/50 px-2.5 py-1 text-xs font-medium text-muted-foreground transition-colors hover:text-foreground hover:bg-secondary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-git-fork h-3.5 w-3.5"><circle cx="12" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><circle cx="18" cy="6" r="3"></circle><path d="M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9"></path><path d="M12 12v3"></path></svg><span>Fork</span></a></div><button data-slot="button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-9 h-9 w-9"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-4 w-4"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg></button><div class="md:hidden"><button class="inline-flex items-center justify-center rounded-md p-2 text-muted-foreground hover:text-foreground hover:bg-secondary transition-colors" aria-label="Open menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-5 w-5"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></div></div></header><div class="flex flex-1 overflow-hidden"><div class="w-64 shrink-0 border-r border-border/50 overflow-y-auto"><div class="flex flex-col h-full"><div class="p-3 border-b border-border/50"><div class="relative"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg><input type="text" placeholder="Search docs..." class="w-full h-8 pl-8 pr-3 text-sm rounded-md border border-border bg-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring" value=""/></div></div><nav class="flex-1 overflow-y-auto p-2 space-y-0.5"><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" href="/docs/index/">Overview</a><div data-state="open" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-foreground font-medium" style="padding-left:12px" type="button" aria-controls="radix-_R_j6av5ubtb_" aria-expanded="true" data-state="open" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform rotate-90"><path d="m9 18 6-6-6-6"></path></svg>Guides</button><div data-state="open" id="radix-_R_j6av5ubtb_" data-slot="collapsible-content"><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/quickstart/">Quick Start</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/installation/">Installation</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/first-program/">Your First Program</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/core-concepts/">Data Modeling</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/repl/">REPL Guide</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/recursion/">Recursion</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/vectors/">Vector Search</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/indexing/">Indexing</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors bg-primary/10 text-primary font-medium" style="padding-left:24px" href="/docs/guides/temporal/">Temporal Reasoning</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/persistence/">Persistence</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/configuration/">Configuration</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/rest-api/">REST API</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/python-sdk/">Python SDK</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/deployment/">Deployment</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/authentication/">Authentication</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/websocket-api/">WebSocket API</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/migrations/">Migrations</a><a class="block py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:24px" href="/docs/guides/troubleshooting/">Troubleshooting</a></div></div><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_r6av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Reference</button><div data-state="closed" id="radix-_R_r6av5ubtb_" hidden="" data-slot="collapsible-content"></div></div><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_136av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Specification</button><div data-state="closed" id="radix-_R_136av5ubtb_" hidden="" data-slot="collapsible-content"></div></div><div data-state="closed" data-slot="collapsible"><button class="w-full flex items-center w-full py-1.5 px-3 text-sm rounded-md transition-colors text-muted-foreground hover:bg-muted hover:text-foreground" style="padding-left:12px" type="button" aria-controls="radix-_R_1b6av5ubtb_" aria-expanded="false" data-state="closed" data-slot="collapsible-trigger"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-3.5 w-3.5 mr-1 shrink-0 transition-transform"><path d="m9 18 6-6-6-6"></path></svg>Internals</button><div data-state="closed" id="radix-_R_1b6av5ubtb_" hidden="" data-slot="collapsible-content"></div></div></nav></div></div><div class="flex flex-1 flex-col overflow-hidden"><div class="flex flex-1 overflow-hidden"><div class="flex-1 overflow-y-auto px-8 py-6 max-w-4xl mx-auto"><article class="docs-prose"><h1 id="temporal-reasoning-tutorial" node="[object Object]">Temporal Reasoning Tutorial</h1>
<p>14 built-in temporal functions: event processing, time-decay scoring, and interval analysis.</p>
<h2 id="timestamp-basics" node="[object Object]">Timestamp Basics</h2>
<p>Timestamps in InputLayer are Unix milliseconds (64-bit integers):</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Store events with timestamps</span>
<span class="syn-arith">+</span><span class="syn-identifier">events</span><span class="syn-punct">(</span><span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-string">"login"</span><span class="syn-punct">,</span> <span class="syn-number">1704067200000</span><span class="syn-punct">)</span>      <span class="syn-comment">// 2024-01-01 00:00:00 UTC</span>
<span class="syn-arith">+</span><span class="syn-identifier">events</span><span class="syn-punct">(</span><span class="syn-number">2</span><span class="syn-punct">,</span> <span class="syn-string">"purchase"</span><span class="syn-punct">,</span> <span class="syn-number">1704153600000</span><span class="syn-punct">)</span>   <span class="syn-comment">// 2024-01-02 00:00:00 UTC</span>
<span class="syn-arith">+</span><span class="syn-identifier">events</span><span class="syn-punct">(</span><span class="syn-number">3</span><span class="syn-punct">,</span> <span class="syn-string">"logout"</span><span class="syn-punct">,</span> <span class="syn-number">1704240000000</span><span class="syn-punct">)</span>     <span class="syn-comment">// 2024-01-03 00:00:00 UTC</span>
</code></pre>
<h3 id="common-time-constants" node="[object Object]">Common Time Constants</h3>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Duration</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Milliseconds</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">1 second</td><td class="border px-4 py-2" node="[object Object]">1000</td></tr><tr><td class="border px-4 py-2" node="[object Object]">1 minute</td><td class="border px-4 py-2" node="[object Object]">60000</td></tr><tr><td class="border px-4 py-2" node="[object Object]">1 hour</td><td class="border px-4 py-2" node="[object Object]">3600000</td></tr><tr><td class="border px-4 py-2" node="[object Object]">1 day</td><td class="border px-4 py-2" node="[object Object]">86400000</td></tr><tr><td class="border px-4 py-2" node="[object Object]">1 week</td><td class="border px-4 py-2" node="[object Object]">604800000</td></tr></tbody></table></div>
<hr/>
<h2 id="core-time-functions" node="[object Object]">Core Time Functions</h2>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_now()</code></h3>
<p>Get the current timestamp:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-query">?</span> <span class="syn-variable">Now</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_now</span><span class="syn-punct">(</span><span class="syn-punct">)</span>
</code></pre>
<p><strong>Returns:</strong> Current Unix timestamp in milliseconds.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_diff(t1, t2)</code></h3>
<p>Calculate the difference between two timestamps:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-query">?</span> <span class="syn-identifier">events</span><span class="syn-punct">(</span><span class="syn-variable">Id1</span><span class="syn-punct">,</span> <span class="syn-variable">_</span><span class="syn-punct">,</span> <span class="syn-variable">T1</span><span class="syn-punct">)</span><span class="syn-punct">,</span> <span class="syn-identifier">events</span><span class="syn-punct">(</span><span class="syn-variable">Id2</span><span class="syn-punct">,</span> <span class="syn-variable">_</span><span class="syn-punct">,</span> <span class="syn-variable">T2</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
   <span class="syn-variable">Id1</span> <span class="syn-comparison">&lt;</span> <span class="syn-variable">Id2</span><span class="syn-punct">,</span>
   <span class="syn-variable">Diff</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_diff</span><span class="syn-punct">(</span><span class="syn-variable">T1</span><span class="syn-punct">,</span> <span class="syn-variable">T2</span><span class="syn-punct">)</span>
</code></pre>
<p><strong>Returns:</strong> <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">t1 - t2</code> in milliseconds (can be negative).</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_add(ts, duration_ms)</code></h3>
<p>Add duration to a timestamp:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Calculate when session expires (24 hours after login)</span>
<span class="syn-arith">+</span><span class="syn-identifier">session_expires</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-builtin">time_add</span><span class="syn-punct">(</span><span class="syn-variable">LoginTime</span><span class="syn-punct">,</span> <span class="syn-number">86400000</span><span class="syn-punct">)</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">login_events</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">LoginTime</span><span class="syn-punct">)</span>

<span class="syn-query">?</span> <span class="syn-identifier">session_expires</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">ExpiresAt</span><span class="syn-punct">)</span>
</code></pre>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_sub(ts, duration_ms)</code></h3>
<p>Subtract duration from a timestamp:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Find the timestamp 1 hour ago</span>
<span class="syn-query">?</span> <span class="syn-variable">Now</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_now</span><span class="syn-punct">(</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
   <span class="syn-variable">OneHourAgo</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_sub</span><span class="syn-punct">(</span><span class="syn-variable">Now</span><span class="syn-punct">,</span> <span class="syn-number">3600000</span><span class="syn-punct">)</span>
</code></pre>
<hr/>
<h2 id="time-comparisons" node="[object Object]">Time Comparisons</h2>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_before(t1, t2)</code></h3>
<p>Check if t1 is before t2:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Find events that happened before a cutoff</span>
<span class="syn-arith">+</span><span class="syn-identifier">old_events</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">events</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">,</span> <span class="syn-variable">Ts</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">cutoff</span><span class="syn-punct">(</span><span class="syn-variable">Cutoff</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-builtin">time_before</span><span class="syn-punct">(</span><span class="syn-variable">Ts</span><span class="syn-punct">,</span> <span class="syn-variable">Cutoff</span><span class="syn-punct">)</span>
</code></pre>
<p><strong>Returns:</strong> Boolean <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">true</code> if t1 &lt; t2.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_after(t1, t2)</code></h3>
<p>Check if t1 is after t2:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Find events after a specific date</span>
<span class="syn-arith">+</span><span class="syn-identifier">recent_events</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">events</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">,</span> <span class="syn-variable">Ts</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">start_date</span><span class="syn-punct">(</span><span class="syn-variable">Start</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-builtin">time_after</span><span class="syn-punct">(</span><span class="syn-variable">Ts</span><span class="syn-punct">,</span> <span class="syn-variable">Start</span><span class="syn-punct">)</span>
</code></pre>
<p><strong>Returns:</strong> Boolean <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">true</code> if t1 &gt; t2.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_between(ts, start, end)</code></h3>
<p>Check if a timestamp falls within a range:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Find events within a time window</span>
<span class="syn-arith">+</span><span class="syn-identifier">in_window</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">events</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">,</span> <span class="syn-variable">Ts</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">window_start</span><span class="syn-punct">(</span><span class="syn-variable">Start</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">window_end</span><span class="syn-punct">(</span><span class="syn-variable">End</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-builtin">time_between</span><span class="syn-punct">(</span><span class="syn-variable">Ts</span><span class="syn-punct">,</span> <span class="syn-variable">Start</span><span class="syn-punct">,</span> <span class="syn-variable">End</span><span class="syn-punct">)</span>
</code></pre>
<p><strong>Returns:</strong> Boolean <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">true</code> if start &lt;= ts &lt;= end.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">within_last(ts, now, duration_ms)</code></h3>
<p>Check if a timestamp is within a duration of a reference time:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Find events from the last 24 hours</span>
<span class="syn-arith">+</span><span class="syn-identifier">recent</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">events</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">,</span> <span class="syn-variable">Ts</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Now</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_now</span><span class="syn-punct">(</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-builtin">within_last</span><span class="syn-punct">(</span><span class="syn-variable">Ts</span><span class="syn-punct">,</span> <span class="syn-variable">Now</span><span class="syn-punct">,</span> <span class="syn-number">86400000</span><span class="syn-punct">)</span>

<span class="syn-query">?</span> <span class="syn-identifier">recent</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">)</span>
</code></pre>
<p><strong>Returns:</strong> Boolean <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">true</code> if <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">now - duration_ms &lt;= ts &lt;= now</code>.</p>
<hr/>
<h2 id="time-decay-functions" node="[object Object]">Time Decay Functions</h2>
<p>Time decay functions weight recent events more heavily than older ones.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_decay(ts, now, half_life_ms)</code></h3>
<p>Exponential decay based on half-life:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Score events with exponential decay (half-life = 7 days)</span>
<span class="syn-arith">+</span><span class="syn-identifier">event_score</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">,</span> <span class="syn-builtin">time_decay</span><span class="syn-punct">(</span><span class="syn-variable">Ts</span><span class="syn-punct">,</span> <span class="syn-variable">Now</span><span class="syn-punct">,</span> <span class="syn-number">604800000</span><span class="syn-punct">)</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">events</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">,</span> <span class="syn-variable">Ts</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Now</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_now</span><span class="syn-punct">(</span><span class="syn-punct">)</span>

<span class="syn-query">?</span> <span class="syn-identifier">event_score</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">,</span> <span class="syn-variable">Score</span><span class="syn-punct">)</span>
</code></pre>
<p><strong>Returns:</strong> Float in range [0, 1]. Score = 0.5 when age equals half-life.</p>
<p><strong>Formula:</strong> <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">score = 2^(-age / half_life)</code></p>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Age</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Score</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">0</td><td class="border px-4 py-2" node="[object Object]">1.0</td></tr><tr><td class="border px-4 py-2" node="[object Object]">half_life</td><td class="border px-4 py-2" node="[object Object]">0.5</td></tr><tr><td class="border px-4 py-2" node="[object Object]">2 * half_life</td><td class="border px-4 py-2" node="[object Object]">0.25</td></tr><tr><td class="border px-4 py-2" node="[object Object]">3 * half_life</td><td class="border px-4 py-2" node="[object Object]">0.125</td></tr></tbody></table></div>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_decay_linear(ts, now, max_age_ms)</code></h3>
<p>Linear decay that reaches zero at max_age:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Score events with linear decay (max age = 30 days)</span>
<span class="syn-arith">+</span><span class="syn-identifier">event_score</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">,</span> <span class="syn-builtin">time_decay_linear</span><span class="syn-punct">(</span><span class="syn-variable">Ts</span><span class="syn-punct">,</span> <span class="syn-variable">Now</span><span class="syn-punct">,</span> <span class="syn-number">2592000000</span><span class="syn-punct">)</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">events</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">,</span> <span class="syn-variable">Ts</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Now</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_now</span><span class="syn-punct">(</span><span class="syn-punct">)</span>

<span class="syn-query">?</span> <span class="syn-identifier">event_score</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Type</span><span class="syn-punct">,</span> <span class="syn-variable">Score</span><span class="syn-punct">)</span>
</code></pre>
<p><strong>Returns:</strong> Float in range [0, 1]. Score = 0 when age &gt;= max_age.</p>
<p><strong>Formula:</strong> <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">score = max(0, 1 - age / max_age)</code></p>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Age</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Score</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]">0</td><td class="border px-4 py-2" node="[object Object]">1.0</td></tr><tr><td class="border px-4 py-2" node="[object Object]">max_age / 2</td><td class="border px-4 py-2" node="[object Object]">0.5</td></tr><tr><td class="border px-4 py-2" node="[object Object]">max_age</td><td class="border px-4 py-2" node="[object Object]">0.0</td></tr><tr><td class="border px-4 py-2" node="[object Object]">&gt; max_age</td><td class="border px-4 py-2" node="[object Object]">0.0</td></tr></tbody></table></div>
<hr/>
<h2 id="interval-functions" node="[object Object]">Interval Functions</h2>
<p>Interval functions help with scheduling, calendar analysis, and time-range queries.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">interval_duration(start, end)</code></h3>
<p>Calculate the duration of an interval:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-arith">+</span><span class="syn-identifier">meeting</span><span class="syn-punct">(</span><span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-string">"Standup"</span><span class="syn-punct">,</span> <span class="syn-number">1704114000000</span><span class="syn-punct">,</span> <span class="syn-number">1704115800000</span><span class="syn-punct">)</span>  <span class="syn-comment">// 30 min meeting</span>

<span class="syn-query">?</span> <span class="syn-identifier">meeting</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">Name</span><span class="syn-punct">,</span> <span class="syn-variable">Start</span><span class="syn-punct">,</span> <span class="syn-variable">End</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
   <span class="syn-variable">Duration</span> <span class="syn-comparison">=</span> <span class="syn-builtin">interval_duration</span><span class="syn-punct">(</span><span class="syn-variable">Start</span><span class="syn-punct">,</span> <span class="syn-variable">End</span><span class="syn-punct">)</span>
</code></pre>
<p><strong>Returns:</strong> <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">end - start</code> in milliseconds.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">point_in_interval(ts, start, end)</code></h3>
<p>Check if a timestamp falls within an interval:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Check if current time is during business hours</span>
<span class="syn-arith">+</span><span class="syn-identifier">during_business_hours</span><span class="syn-punct">(</span><span class="syn-keyword">true</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-variable">Now</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_now</span><span class="syn-punct">(</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">business_start</span><span class="syn-punct">(</span><span class="syn-variable">Start</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">business_end</span><span class="syn-punct">(</span><span class="syn-variable">End</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-builtin">point_in_interval</span><span class="syn-punct">(</span><span class="syn-variable">Now</span><span class="syn-punct">,</span> <span class="syn-variable">Start</span><span class="syn-punct">,</span> <span class="syn-variable">End</span><span class="syn-punct">)</span>
</code></pre>
<p><strong>Returns:</strong> Boolean <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">true</code> if start &lt;= ts &lt;= end.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">intervals_overlap(s1, e1, s2, e2)</code></h3>
<p>Check if two intervals overlap:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Find conflicting meetings</span>
<span class="syn-arith">+</span><span class="syn-identifier">conflict</span><span class="syn-punct">(</span><span class="syn-variable">M1</span><span class="syn-punct">,</span> <span class="syn-variable">M2</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">meeting</span><span class="syn-punct">(</span><span class="syn-variable">M1</span><span class="syn-punct">,</span> <span class="syn-variable">_</span><span class="syn-punct">,</span> <span class="syn-variable">S1</span><span class="syn-punct">,</span> <span class="syn-variable">E1</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">meeting</span><span class="syn-punct">(</span><span class="syn-variable">M2</span><span class="syn-punct">,</span> <span class="syn-variable">_</span><span class="syn-punct">,</span> <span class="syn-variable">S2</span><span class="syn-punct">,</span> <span class="syn-variable">E2</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">M1</span> <span class="syn-comparison">&lt;</span> <span class="syn-variable">M2</span><span class="syn-punct">,</span>
    <span class="syn-builtin">intervals_overlap</span><span class="syn-punct">(</span><span class="syn-variable">S1</span><span class="syn-punct">,</span> <span class="syn-variable">E1</span><span class="syn-punct">,</span> <span class="syn-variable">S2</span><span class="syn-punct">,</span> <span class="syn-variable">E2</span><span class="syn-punct">)</span>

<span class="syn-query">?</span> <span class="syn-identifier">conflict</span><span class="syn-punct">(</span><span class="syn-variable">M1</span><span class="syn-punct">,</span> <span class="syn-variable">M2</span><span class="syn-punct">)</span>
</code></pre>
<p><strong>Returns:</strong> Boolean <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">true</code> if the intervals share any time.</p>
<h3 id="object-object" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">interval_contains(s1, e1, s2, e2)</code></h3>
<p>Check if interval 1 fully contains interval 2:</p>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Find meetings that fit entirely within a time block</span>
<span class="syn-arith">+</span><span class="syn-identifier">fits_in_block</span><span class="syn-punct">(</span><span class="syn-variable">MeetingId</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">meeting</span><span class="syn-punct">(</span><span class="syn-variable">MeetingId</span><span class="syn-punct">,</span> <span class="syn-variable">_</span><span class="syn-punct">,</span> <span class="syn-variable">MStart</span><span class="syn-punct">,</span> <span class="syn-variable">MEnd</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">time_block</span><span class="syn-punct">(</span><span class="syn-variable">BlockStart</span><span class="syn-punct">,</span> <span class="syn-variable">BlockEnd</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-builtin">interval_contains</span><span class="syn-punct">(</span><span class="syn-variable">BlockStart</span><span class="syn-punct">,</span> <span class="syn-variable">BlockEnd</span><span class="syn-punct">,</span> <span class="syn-variable">MStart</span><span class="syn-punct">,</span> <span class="syn-variable">MEnd</span><span class="syn-punct">)</span>
</code></pre>
<p><strong>Returns:</strong> Boolean <code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">true</code> if [s2, e2] is entirely within [s1, e1].</p>
<hr/>
<h2 id="practical-examples" node="[object Object]">Practical Examples</h2>
<h3 id="event-stream-analysis" node="[object Object]">Event Stream Analysis</h3>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Store user activity events</span>
<span class="syn-arith">+</span><span class="syn-identifier">activity</span><span class="syn-punct">[</span><span class="syn-punct">(</span><span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-string">"alice"</span><span class="syn-punct">,</span> <span class="syn-string">"view"</span><span class="syn-punct">,</span> <span class="syn-number">1704067200000</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
          <span class="syn-punct">(</span><span class="syn-number">2</span><span class="syn-punct">,</span> <span class="syn-string">"bob"</span><span class="syn-punct">,</span> <span class="syn-string">"click"</span><span class="syn-punct">,</span> <span class="syn-number">1704070800000</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
          <span class="syn-punct">(</span><span class="syn-number">3</span><span class="syn-punct">,</span> <span class="syn-string">"alice"</span><span class="syn-punct">,</span> <span class="syn-string">"purchase"</span><span class="syn-punct">,</span> <span class="syn-number">1704074400000</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
          <span class="syn-punct">(</span><span class="syn-number">4</span><span class="syn-punct">,</span> <span class="syn-string">"alice"</span><span class="syn-punct">,</span> <span class="syn-string">"view"</span><span class="syn-punct">,</span> <span class="syn-number">1704078000000</span><span class="syn-punct">)</span><span class="syn-punct">]</span>

<span class="syn-comment">// Count events per user in last hour</span>
<span class="syn-arith">+</span><span class="syn-identifier">hourly_activity</span><span class="syn-punct">(</span><span class="syn-variable">User</span><span class="syn-punct">,</span> <span class="syn-aggregate">count</span><span class="syn-comparison">&lt;</span><span class="syn-variable">Id</span><span class="syn-comparison">&gt;</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">activity</span><span class="syn-punct">(</span><span class="syn-variable">Id</span><span class="syn-punct">,</span> <span class="syn-variable">User</span><span class="syn-punct">,</span> <span class="syn-variable">_</span><span class="syn-punct">,</span> <span class="syn-variable">Ts</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Now</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_now</span><span class="syn-punct">(</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-builtin">within_last</span><span class="syn-punct">(</span><span class="syn-variable">Ts</span><span class="syn-punct">,</span> <span class="syn-variable">Now</span><span class="syn-punct">,</span> <span class="syn-number">3600000</span><span class="syn-punct">)</span>

<span class="syn-query">?</span> <span class="syn-identifier">hourly_activity</span><span class="syn-punct">(</span><span class="syn-variable">User</span><span class="syn-punct">,</span> <span class="syn-variable">Count</span><span class="syn-punct">)</span>
</code></pre>
<h3 id="time-decayed-recommendations" node="[object Object]">Time-Decayed Recommendations</h3>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// User interactions with items</span>
<span class="syn-arith">+</span><span class="syn-identifier">interactions</span><span class="syn-punct">[</span><span class="syn-punct">(</span><span class="syn-number">101</span><span class="syn-punct">,</span> <span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-string">"view"</span><span class="syn-punct">,</span> <span class="syn-number">1704067200000</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
              <span class="syn-punct">(</span><span class="syn-number">101</span><span class="syn-punct">,</span> <span class="syn-number">2</span><span class="syn-punct">,</span> <span class="syn-string">"purchase"</span><span class="syn-punct">,</span> <span class="syn-number">1704153600000</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
              <span class="syn-punct">(</span><span class="syn-number">101</span><span class="syn-punct">,</span> <span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-string">"view"</span><span class="syn-punct">,</span> <span class="syn-number">1704240000000</span><span class="syn-punct">)</span><span class="syn-punct">]</span>

<span class="syn-comment">// Weight purchases higher than views</span>
<span class="syn-arith">+</span><span class="syn-identifier">purchase_score</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">ItemId</span><span class="syn-punct">,</span> <span class="syn-aggregate">sum</span><span class="syn-comparison">&lt;</span><span class="syn-variable">Score</span><span class="syn-comparison">&gt;</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">interactions</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">ItemId</span><span class="syn-punct">,</span> <span class="syn-string">"purchase"</span><span class="syn-punct">,</span> <span class="syn-variable">Ts</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Now</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_now</span><span class="syn-punct">(</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Decay</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_decay</span><span class="syn-punct">(</span><span class="syn-variable">Ts</span><span class="syn-punct">,</span> <span class="syn-variable">Now</span><span class="syn-punct">,</span> <span class="syn-number">604800000</span><span class="syn-punct">)</span><span class="syn-punct">,</span>  <span class="syn-comment">// 7-day half-life</span>
    <span class="syn-variable">Score</span> <span class="syn-comparison">=</span> <span class="syn-number">10.0</span> <span class="syn-arith">*</span> <span class="syn-variable">Decay</span>

<span class="syn-arith">+</span><span class="syn-identifier">view_score</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">ItemId</span><span class="syn-punct">,</span> <span class="syn-aggregate">sum</span><span class="syn-comparison">&lt;</span><span class="syn-variable">Score</span><span class="syn-comparison">&gt;</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">interactions</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">ItemId</span><span class="syn-punct">,</span> <span class="syn-string">"view"</span><span class="syn-punct">,</span> <span class="syn-variable">Ts</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Now</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_now</span><span class="syn-punct">(</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Decay</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_decay</span><span class="syn-punct">(</span><span class="syn-variable">Ts</span><span class="syn-punct">,</span> <span class="syn-variable">Now</span><span class="syn-punct">,</span> <span class="syn-number">604800000</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Score</span> <span class="syn-comparison">=</span> <span class="syn-number">1.0</span> <span class="syn-arith">*</span> <span class="syn-variable">Decay</span>

<span class="syn-arith">+</span><span class="syn-identifier">item_score</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">ItemId</span><span class="syn-punct">,</span> <span class="syn-aggregate">sum</span><span class="syn-comparison">&lt;</span><span class="syn-variable">S</span><span class="syn-comparison">&gt;</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">purchase_score</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">ItemId</span><span class="syn-punct">,</span> <span class="syn-variable">S</span><span class="syn-punct">)</span>
<span class="syn-arith">+</span><span class="syn-identifier">item_score</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">ItemId</span><span class="syn-punct">,</span> <span class="syn-aggregate">sum</span><span class="syn-comparison">&lt;</span><span class="syn-variable">S</span><span class="syn-comparison">&gt;</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">view_score</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">ItemId</span><span class="syn-punct">,</span> <span class="syn-variable">S</span><span class="syn-punct">)</span>

<span class="syn-comment">// Get top items for user</span>
<span class="syn-arith">+</span><span class="syn-identifier">recommendations</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">ItemId</span><span class="syn-punct">,</span> <span class="syn-aggregate">top_k</span><span class="syn-comparison">&lt;</span><span class="syn-number">5</span><span class="syn-punct">,</span> <span class="syn-variable">Score</span><span class="syn-punct">,</span> <span class="syn-identifier">desc</span><span class="syn-comparison">&gt;</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">item_score</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">ItemId</span><span class="syn-punct">,</span> <span class="syn-variable">Score</span><span class="syn-punct">)</span>

<span class="syn-query">?</span> <span class="syn-identifier">recommendations</span><span class="syn-punct">(</span><span class="syn-number">101</span><span class="syn-punct">,</span> <span class="syn-variable">ItemId</span><span class="syn-punct">,</span> <span class="syn-variable">Score</span><span class="syn-punct">)</span>
</code></pre>
<h3 id="session-detection" node="[object Object]">Session Detection</h3>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Detect sessions (gaps &gt; 30 minutes = new session)</span>
<span class="syn-arith">+</span><span class="syn-identifier">page_views</span><span class="syn-punct">[</span><span class="syn-punct">(</span><span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-string">"alice"</span><span class="syn-punct">,</span> <span class="syn-string">"/home"</span><span class="syn-punct">,</span> <span class="syn-number">1704067200000</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
            <span class="syn-punct">(</span><span class="syn-number">2</span><span class="syn-punct">,</span> <span class="syn-string">"alice"</span><span class="syn-punct">,</span> <span class="syn-string">"/products"</span><span class="syn-punct">,</span> <span class="syn-number">1704067500000</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
            <span class="syn-punct">(</span><span class="syn-number">3</span><span class="syn-punct">,</span> <span class="syn-string">"alice"</span><span class="syn-punct">,</span> <span class="syn-string">"/cart"</span><span class="syn-punct">,</span> <span class="syn-number">1704069000000</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
            <span class="syn-punct">(</span><span class="syn-number">4</span><span class="syn-punct">,</span> <span class="syn-string">"alice"</span><span class="syn-punct">,</span> <span class="syn-string">"/checkout"</span><span class="syn-punct">,</span> <span class="syn-number">1704072600000</span><span class="syn-punct">)</span><span class="syn-punct">]</span>  <span class="syn-comment">// 1 hour later</span>

<span class="syn-arith">+</span><span class="syn-identifier">session_boundary</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">ViewId</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">page_views</span><span class="syn-punct">(</span><span class="syn-variable">ViewId</span><span class="syn-punct">,</span> <span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">_</span><span class="syn-punct">,</span> <span class="syn-variable">Ts</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">page_views</span><span class="syn-punct">(</span><span class="syn-variable">PrevId</span><span class="syn-punct">,</span> <span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">_</span><span class="syn-punct">,</span> <span class="syn-variable">PrevTs</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">PrevId</span> <span class="syn-comparison">&lt;</span> <span class="syn-variable">ViewId</span><span class="syn-punct">,</span>
    <span class="syn-variable">Diff</span> <span class="syn-comparison">=</span> <span class="syn-builtin">time_diff</span><span class="syn-punct">(</span><span class="syn-variable">PrevTs</span><span class="syn-punct">,</span> <span class="syn-variable">Ts</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-variable">Diff</span> <span class="syn-comparison">&gt;</span> <span class="syn-number">1800000</span>  <span class="syn-comment">// 30 minute gap</span>

<span class="syn-query">?</span> <span class="syn-identifier">session_boundary</span><span class="syn-punct">(</span><span class="syn-variable">UserId</span><span class="syn-punct">,</span> <span class="syn-variable">ViewId</span><span class="syn-punct">)</span>
</code></pre>
<h3 id="meeting-scheduler" node="[object Object]">Meeting Scheduler</h3>
<pre class="rounded-lg bg-[var(--code-bg)] p-4 overflow-x-auto mb-4 text-sm font-mono" node="[object Object]"><code class="language-datalog text-sm"><span class="syn-comment">// Existing meetings</span>
<span class="syn-arith">+</span><span class="syn-identifier">meetings</span><span class="syn-punct">[</span><span class="syn-punct">(</span><span class="syn-number">1</span><span class="syn-punct">,</span> <span class="syn-string">"Team Sync"</span><span class="syn-punct">,</span> <span class="syn-number">1704114000000</span><span class="syn-punct">,</span> <span class="syn-number">1704117600000</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
          <span class="syn-punct">(</span><span class="syn-number">2</span><span class="syn-punct">,</span> <span class="syn-string">"1:1"</span><span class="syn-punct">,</span> <span class="syn-number">1704121200000</span><span class="syn-punct">,</span> <span class="syn-number">1704123000000</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
          <span class="syn-punct">(</span><span class="syn-number">3</span><span class="syn-punct">,</span> <span class="syn-string">"Planning"</span><span class="syn-punct">,</span> <span class="syn-number">1704128400000</span><span class="syn-punct">,</span> <span class="syn-number">1704135600000</span><span class="syn-punct">)</span><span class="syn-punct">]</span>

<span class="syn-comment">// Available time slots (potential meetings)</span>
<span class="syn-arith">+</span><span class="syn-identifier">slots</span><span class="syn-punct">[</span><span class="syn-punct">(</span><span class="syn-number">100</span><span class="syn-punct">,</span> <span class="syn-number">1704106800000</span><span class="syn-punct">,</span> <span class="syn-number">1704114000000</span><span class="syn-punct">)</span><span class="syn-punct">,</span>   <span class="syn-comment">// 9am-11am</span>
       <span class="syn-punct">(</span><span class="syn-number">101</span><span class="syn-punct">,</span> <span class="syn-number">1704117600000</span><span class="syn-punct">,</span> <span class="syn-number">1704121200000</span><span class="syn-punct">)</span><span class="syn-punct">,</span>   <span class="syn-comment">// 12pm-1pm</span>
       <span class="syn-punct">(</span><span class="syn-number">102</span><span class="syn-punct">,</span> <span class="syn-number">1704123000000</span><span class="syn-punct">,</span> <span class="syn-number">1704128400000</span><span class="syn-punct">)</span><span class="syn-punct">]</span>   <span class="syn-comment">// 1:30pm-3pm</span>

<span class="syn-comment">// Find free slots (no overlap with existing meetings)</span>
<span class="syn-arith">+</span><span class="syn-identifier">free_slots</span><span class="syn-punct">(</span><span class="syn-variable">SlotId</span><span class="syn-punct">,</span> <span class="syn-variable">Start</span><span class="syn-punct">,</span> <span class="syn-variable">End</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">slots</span><span class="syn-punct">(</span><span class="syn-variable">SlotId</span><span class="syn-punct">,</span> <span class="syn-variable">Start</span><span class="syn-punct">,</span> <span class="syn-variable">End</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-negation">!</span><span class="syn-body-id">has_conflict</span><span class="syn-punct">(</span><span class="syn-variable">SlotId</span><span class="syn-punct">)</span>

<span class="syn-arith">+</span><span class="syn-identifier">has_conflict</span><span class="syn-punct">(</span><span class="syn-variable">SlotId</span><span class="syn-punct">)</span> <span class="syn-arrow">&lt;-</span>
    <span class="syn-body-id">slots</span><span class="syn-punct">(</span><span class="syn-variable">SlotId</span><span class="syn-punct">,</span> <span class="syn-variable">S1</span><span class="syn-punct">,</span> <span class="syn-variable">E1</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-body-id">meetings</span><span class="syn-punct">(</span><span class="syn-variable">_</span><span class="syn-punct">,</span> <span class="syn-variable">_</span><span class="syn-punct">,</span> <span class="syn-variable">S2</span><span class="syn-punct">,</span> <span class="syn-variable">E2</span><span class="syn-punct">)</span><span class="syn-punct">,</span>
    <span class="syn-builtin">intervals_overlap</span><span class="syn-punct">(</span><span class="syn-variable">S1</span><span class="syn-punct">,</span> <span class="syn-variable">E1</span><span class="syn-punct">,</span> <span class="syn-variable">S2</span><span class="syn-punct">,</span> <span class="syn-variable">E2</span><span class="syn-punct">)</span>

<span class="syn-query">?</span> <span class="syn-identifier">free_slots</span><span class="syn-punct">(</span><span class="syn-variable">SlotId</span><span class="syn-punct">,</span> <span class="syn-variable">Start</span><span class="syn-punct">,</span> <span class="syn-variable">End</span><span class="syn-punct">)</span>
</code></pre>
<hr/>
<h2 id="function-reference" node="[object Object]">Function Reference</h2>
<div class="my-4 overflow-x-auto"><table class="w-full border-collapse" node="[object Object]"><thead><tr><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Function</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Signature</th><th class="border px-4 py-2 text-left font-semibold bg-muted/50" node="[object Object]">Returns</th></tr></thead><tbody><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_now</code></td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_now()</code></td><td class="border px-4 py-2" node="[object Object]">Current timestamp (ms)</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_diff</code></td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_diff(t1, t2)</code></td><td class="border px-4 py-2" node="[object Object]">t1 - t2 (ms)</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_add</code></td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_add(ts, duration)</code></td><td class="border px-4 py-2" node="[object Object]">ts + duration</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_sub</code></td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_sub(ts, duration)</code></td><td class="border px-4 py-2" node="[object Object]">ts - duration</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_before</code></td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_before(t1, t2)</code></td><td class="border px-4 py-2" node="[object Object]">t1 &lt; t2</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_after</code></td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_after(t1, t2)</code></td><td class="border px-4 py-2" node="[object Object]">t1 &gt; t2</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_between</code></td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_between(ts, start, end)</code></td><td class="border px-4 py-2" node="[object Object]">start &lt;= ts &lt;= end</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">within_last</code></td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">within_last(ts, now, duration)</code></td><td class="border px-4 py-2" node="[object Object]">ts within duration of now</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_decay</code></td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_decay(ts, now, half_life)</code></td><td class="border px-4 py-2" node="[object Object]">Exponential decay [0,1]</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_decay_linear</code></td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">time_decay_linear(ts, now, max_age)</code></td><td class="border px-4 py-2" node="[object Object]">Linear decay [0,1]</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">interval_duration</code></td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">interval_duration(start, end)</code></td><td class="border px-4 py-2" node="[object Object]">end - start (ms)</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">point_in_interval</code></td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">point_in_interval(ts, start, end)</code></td><td class="border px-4 py-2" node="[object Object]">ts in [start, end]</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">intervals_overlap</code></td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">intervals_overlap(s1, e1, s2, e2)</code></td><td class="border px-4 py-2" node="[object Object]">Intervals share time</td></tr><tr><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">interval_contains</code></td><td class="border px-4 py-2" node="[object Object]"><code class="bg-muted rounded px-1.5 py-0.5 font-mono text-sm" node="[object Object]">interval_contains(s1, e1, s2, e2)</code></td><td class="border px-4 py-2" node="[object Object]">[s1,e1] contains [s2,e2]</td></tr></tbody></table></div>
<hr/>
<h2 id="next-steps" node="[object Object]">Next Steps</h2>
<ul>
<li><a href="vectors" target="_blank" rel="noopener noreferrer" node="[object Object]">Vector Search</a> - Combine temporal decay with similarity</li>
<li><a href="configuration" target="_blank" rel="noopener noreferrer" node="[object Object]">Configuration</a> - Persistence settings for event data</li>
</ul></article></div><div class="hidden lg:block w-48 shrink-0 border-l border-border/50"><div class="sticky top-0 p-4"><p class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3">On this page</p><nav class="space-y-1"><a href="#timestamp-basics" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Timestamp Basics</a><a href="#common-time-constants" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Common Time Constants</a><a href="#core-time-functions" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Core Time Functions</a><a href="#timenow" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timenow()</a><a href="#timedifft1-t2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timediff(t1, t2)</a><a href="#timeaddts-durationms" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timeadd(ts, durationms)</a><a href="#timesubts-durationms" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timesub(ts, durationms)</a><a href="#time-comparisons" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Time Comparisons</a><a href="#timebeforet1-t2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timebefore(t1, t2)</a><a href="#timeaftert1-t2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timeafter(t1, t2)</a><a href="#timebetweents-start-end" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timebetween(ts, start, end)</a><a href="#withinlastts-now-durationms" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">withinlast(ts, now, durationms)</a><a href="#time-decay-functions" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Time Decay Functions</a><a href="#timedecayts-now-halflifems" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timedecay(ts, now, halflifems)</a><a href="#timedecaylinearts-now-maxagems" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">timedecaylinear(ts, now, maxagems)</a><a href="#interval-functions" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Interval Functions</a><a href="#intervaldurationstart-end" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">intervalduration(start, end)</a><a href="#pointinintervalts-start-end" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">pointininterval(ts, start, end)</a><a href="#intervalsoverlaps1-e1-s2-e2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">intervalsoverlap(s1, e1, s2, e2)</a><a href="#intervalcontainss1-e1-s2-e2" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">intervalcontains(s1, e1, s2, e2)</a><a href="#practical-examples" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Practical Examples</a><a href="#event-stream-analysis" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Event Stream Analysis</a><a href="#time-decayed-recommendations" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Time-Decayed Recommendations</a><a href="#session-detection" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Session Detection</a><a href="#meeting-scheduler" class="block text-xs py-0.5 transition-colors hover:text-foreground pl-3 text-muted-foreground">Meeting Scheduler</a><a href="#function-reference" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Function Reference</a><a href="#next-steps" class="block text-xs py-0.5 transition-colors hover:text-foreground text-muted-foreground">Next Steps</a></nav></div></div></div></div></div></div><!--$--><!--/$--><script src="/_next/static/chunks/webpack-bd6546b43ab2ecbf.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[1942,[\"177\",\"static/chunks/app/layout-7e9963bf811be36b.js\"],\"ThemeProvider\"]\n3:I[7121,[],\"\"]\n4:I[4581,[],\"\"]\n6:I[484,[],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[484,[],\"ViewportBoundary\"]\nb:I[484,[],\"MetadataBoundary\"]\nd:I[7123,[],\"\"]\n:HL[\"/_next/static/media/4cf2300e9c8272f7-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/4bd7a24b7976d4e6.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"05bjYGyiAumoEMBrfWHih\",\"c\":[\"\",\"docs\",\"guides\",\"temporal\",\"\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"guides/temporal\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/4bd7a24b7976d4e6.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_188709 __variable_9a8899 font-sans antialiased\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"dark\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"e:I[8428,[\"758\",\"static/chunks/758-3cb69ce377cde046.js\",\"121\",\"static/chunks/121-aece4f809b101dc1.js\",\"502\",\"static/chunks/502-e809071f8789437b.js\",\"689\",\"static/chunks/689-4fcf9680fdc90283.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-004ec69e3c86920a.js\"],\"DocsPageClient\"]\nf:T2471,"])</script><script>self.__next_f.push([1,"# Temporal Reasoning Tutorial\n\n14 built-in temporal functions: event processing, time-decay scoring, and interval analysis.\n\n## Timestamp Basics\n\nTimestamps in InputLayer are Unix milliseconds (64-bit integers):\n\n```datalog\n// Store events with timestamps\n+events(1, \"login\", 1704067200000)      // 2024-01-01 00:00:00 UTC\n+events(2, \"purchase\", 1704153600000)   // 2024-01-02 00:00:00 UTC\n+events(3, \"logout\", 1704240000000)     // 2024-01-03 00:00:00 UTC\n```\n\n### Common Time Constants\n\n| Duration | Milliseconds |\n|----------|-------------|\n| 1 second | 1000 |\n| 1 minute | 60000 |\n| 1 hour | 3600000 |\n| 1 day | 86400000 |\n| 1 week | 604800000 |\n\n---\n\n## Core Time Functions\n\n### `time_now()`\n\nGet the current timestamp:\n\n```datalog\n? Now = time_now()\n```\n\n**Returns:** Current Unix timestamp in milliseconds.\n\n### `time_diff(t1, t2)`\n\nCalculate the difference between two timestamps:\n\n```datalog\n? events(Id1, _, T1), events(Id2, _, T2),\n   Id1 \u003c Id2,\n   Diff = time_diff(T1, T2)\n```\n\n**Returns:** `t1 - t2` in milliseconds (can be negative).\n\n### `time_add(ts, duration_ms)`\n\nAdd duration to a timestamp:\n\n```datalog\n// Calculate when session expires (24 hours after login)\n+session_expires(UserId, time_add(LoginTime, 86400000)) \u003c-\n    login_events(UserId, LoginTime)\n\n? session_expires(UserId, ExpiresAt)\n```\n\n### `time_sub(ts, duration_ms)`\n\nSubtract duration from a timestamp:\n\n```datalog\n// Find the timestamp 1 hour ago\n? Now = time_now(),\n   OneHourAgo = time_sub(Now, 3600000)\n```\n\n---\n\n## Time Comparisons\n\n### `time_before(t1, t2)`\n\nCheck if t1 is before t2:\n\n```datalog\n// Find events that happened before a cutoff\n+old_events(Id, Type) \u003c-\n    events(Id, Type, Ts),\n    cutoff(Cutoff),\n    time_before(Ts, Cutoff)\n```\n\n**Returns:** Boolean `true` if t1 \u003c t2.\n\n### `time_after(t1, t2)`\n\nCheck if t1 is after t2:\n\n```datalog\n// Find events after a specific date\n+recent_events(Id, Type) \u003c-\n    events(Id, Type, Ts),\n    start_date(Start),\n    time_after(Ts, Start)\n```\n\n**Returns:** Boolean `true` if t1 \u003e t2.\n\n### `time_between(ts, start, end)`\n\nCheck if a timestamp falls within a range:\n\n```datalog\n// Find events within a time window\n+in_window(Id, Type) \u003c-\n    events(Id, Type, Ts),\n    window_start(Start),\n    window_end(End),\n    time_between(Ts, Start, End)\n```\n\n**Returns:** Boolean `true` if start \u003c= ts \u003c= end.\n\n### `within_last(ts, now, duration_ms)`\n\nCheck if a timestamp is within a duration of a reference time:\n\n```datalog\n// Find events from the last 24 hours\n+recent(Id, Type) \u003c-\n    events(Id, Type, Ts),\n    Now = time_now(),\n    within_last(Ts, Now, 86400000)\n\n? recent(Id, Type)\n```\n\n**Returns:** Boolean `true` if `now - duration_ms \u003c= ts \u003c= now`.\n\n---\n\n## Time Decay Functions\n\nTime decay functions weight recent events more heavily than older ones.\n\n### `time_decay(ts, now, half_life_ms)`\n\nExponential decay based on half-life:\n\n```datalog\n// Score events with exponential decay (half-life = 7 days)\n+event_score(Id, Type, time_decay(Ts, Now, 604800000)) \u003c-\n    events(Id, Type, Ts),\n    Now = time_now()\n\n? event_score(Id, Type, Score)\n```\n\n**Returns:** Float in range [0, 1]. Score = 0.5 when age equals half-life.\n\n**Formula:** `score = 2^(-age / half_life)`\n\n| Age | Score |\n|-----|-------|\n| 0 | 1.0 |\n| half_life | 0.5 |\n| 2 * half_life | 0.25 |\n| 3 * half_life | 0.125 |\n\n### `time_decay_linear(ts, now, max_age_ms)`\n\nLinear decay that reaches zero at max_age:\n\n```datalog\n// Score events with linear decay (max age = 30 days)\n+event_score(Id, Type, time_decay_linear(Ts, Now, 2592000000)) \u003c-\n    events(Id, Type, Ts),\n    Now = time_now()\n\n? event_score(Id, Type, Score)\n```\n\n**Returns:** Float in range [0, 1]. Score = 0 when age \u003e= max_age.\n\n**Formula:** `score = max(0, 1 - age / max_age)`\n\n| Age | Score |\n|-----|-------|\n| 0 | 1.0 |\n| max_age / 2 | 0.5 |\n| max_age | 0.0 |\n| \u003e max_age | 0.0 |\n\n---\n\n## Interval Functions\n\nInterval functions help with scheduling, calendar analysis, and time-range queries.\n\n### `interval_duration(start, end)`\n\nCalculate the duration of an interval:\n\n```datalog\n+meeting(1, \"Standup\", 1704114000000, 1704115800000)  // 30 min meeting\n\n? meeting(Id, Name, Start, End),\n   Duration = interval_duration(Start, End)\n```\n\n**Returns:** `end - start` in milliseconds.\n\n### `point_in_interval(ts, start, end)`\n\nCheck if a timestamp falls within an interval:\n\n```datalog\n// Check if current time is during business hours\n+during_business_hours(true) \u003c-\n    Now = time_now(),\n    business_start(Start),\n    business_end(End),\n    point_in_interval(Now, Start, End)\n```\n\n**Returns:** Boolean `true` if start \u003c= ts \u003c= end.\n\n### `intervals_overlap(s1, e1, s2, e2)`\n\nCheck if two intervals overlap:\n\n```datalog\n// Find conflicting meetings\n+conflict(M1, M2) \u003c-\n    meeting(M1, _, S1, E1),\n    meeting(M2, _, S2, E2),\n    M1 \u003c M2,\n    intervals_overlap(S1, E1, S2, E2)\n\n? conflict(M1, M2)\n```\n\n**Returns:** Boolean `true` if the intervals share any time.\n\n### `interval_contains(s1, e1, s2, e2)`\n\nCheck if interval 1 fully contains interval 2:\n\n```datalog\n// Find meetings that fit entirely within a time block\n+fits_in_block(MeetingId) \u003c-\n    meeting(MeetingId, _, MStart, MEnd),\n    time_block(BlockStart, BlockEnd),\n    interval_contains(BlockStart, BlockEnd, MStart, MEnd)\n```\n\n**Returns:** Boolean `true` if [s2, e2] is entirely within [s1, e1].\n\n---\n\n## Practical Examples\n\n### Event Stream Analysis\n\n```datalog\n// Store user activity events\n+activity[(1, \"alice\", \"view\", 1704067200000),\n          (2, \"bob\", \"click\", 1704070800000),\n          (3, \"alice\", \"purchase\", 1704074400000),\n          (4, \"alice\", \"view\", 1704078000000)]\n\n// Count events per user in last hour\n+hourly_activity(User, count\u003cId\u003e) \u003c-\n    activity(Id, User, _, Ts),\n    Now = time_now(),\n    within_last(Ts, Now, 3600000)\n\n? hourly_activity(User, Count)\n```\n\n### Time-Decayed Recommendations\n\n```datalog\n// User interactions with items\n+interactions[(101, 1, \"view\", 1704067200000),\n              (101, 2, \"purchase\", 1704153600000),\n              (101, 1, \"view\", 1704240000000)]\n\n// Weight purchases higher than views\n+purchase_score(UserId, ItemId, sum\u003cScore\u003e) \u003c-\n    interactions(UserId, ItemId, \"purchase\", Ts),\n    Now = time_now(),\n    Decay = time_decay(Ts, Now, 604800000),  // 7-day half-life\n    Score = 10.0 * Decay\n\n+view_score(UserId, ItemId, sum\u003cScore\u003e) \u003c-\n    interactions(UserId, ItemId, \"view\", Ts),\n    Now = time_now(),\n    Decay = time_decay(Ts, Now, 604800000),\n    Score = 1.0 * Decay\n\n+item_score(UserId, ItemId, sum\u003cS\u003e) \u003c-\n    purchase_score(UserId, ItemId, S)\n+item_score(UserId, ItemId, sum\u003cS\u003e) \u003c-\n    view_score(UserId, ItemId, S)\n\n// Get top items for user\n+recommendations(UserId, ItemId, top_k\u003c5, Score, desc\u003e) \u003c-\n    item_score(UserId, ItemId, Score)\n\n? recommendations(101, ItemId, Score)\n```\n\n### Session Detection\n\n```datalog\n// Detect sessions (gaps \u003e 30 minutes = new session)\n+page_views[(1, \"alice\", \"/home\", 1704067200000),\n            (2, \"alice\", \"/products\", 1704067500000),\n            (3, \"alice\", \"/cart\", 1704069000000),\n            (4, \"alice\", \"/checkout\", 1704072600000)]  // 1 hour later\n\n+session_boundary(UserId, ViewId) \u003c-\n    page_views(ViewId, UserId, _, Ts),\n    page_views(PrevId, UserId, _, PrevTs),\n    PrevId \u003c ViewId,\n    Diff = time_diff(PrevTs, Ts),\n    Diff \u003e 1800000  // 30 minute gap\n\n? session_boundary(UserId, ViewId)\n```\n\n### Meeting Scheduler\n\n```datalog\n// Existing meetings\n+meetings[(1, \"Team Sync\", 1704114000000, 1704117600000),\n          (2, \"1:1\", 1704121200000, 1704123000000),\n          (3, \"Planning\", 1704128400000, 1704135600000)]\n\n// Available time slots (potential meetings)\n+slots[(100, 1704106800000, 1704114000000),   // 9am-11am\n       (101, 1704117600000, 1704121200000),   // 12pm-1pm\n       (102, 1704123000000, 1704128400000)]   // 1:30pm-3pm\n\n// Find free slots (no overlap with existing meetings)\n+free_slots(SlotId, Start, End) \u003c-\n    slots(SlotId, Start, End),\n    !has_conflict(SlotId)\n\n+has_conflict(SlotId) \u003c-\n    slots(SlotId, S1, E1),\n    meetings(_, _, S2, E2),\n    intervals_overlap(S1, E1, S2, E2)\n\n? free_slots(SlotId, Start, End)\n```\n\n---\n\n## Function Reference\n\n| Function | Signature | Returns |\n|----------|-----------|---------|\n| `time_now` | `time_now()` | Current timestamp (ms) |\n| `time_diff` | `time_diff(t1, t2)` | t1 - t2 (ms) |\n| `time_add` | `time_add(ts, duration)` | ts + duration |\n| `time_sub` | `time_sub(ts, duration)` | ts - duration |\n| `time_before` | `time_before(t1, t2)` | t1 \u003c t2 |\n| `time_after` | `time_after(t1, t2)` | t1 \u003e t2 |\n| `time_between` | `time_between(ts, start, end)` | start \u003c= ts \u003c= end |\n| `within_last` | `within_last(ts, now, duration)` | ts within duration of now |\n| `time_decay` | `time_decay(ts, now, half_life)` | Exponential decay [0,1] |\n| `time_decay_linear` | `time_decay_linear(ts, now, max_age)` | Linear decay [0,1] |\n| `interval_duration` | `interval_duration(start, end)` | end - start (ms) |\n| `point_in_interval` | `point_in_interval(ts, start, end)` | ts in [start, end] |\n| `intervals_overlap` | `intervals_overlap(s1, e1, s2, e2)` | Intervals share time |\n| `interval_contains` | `interval_contains(s1, e1, s2, e2)` | [s1,e1] contains [s2,e2] |\n\n---\n\n## Next Steps\n\n- [Vector Search](vectors) - Combine temporal decay with similarity\n- [Configuration](configuration) - Persistence settings for event data"])</script><script>self.__next_f.push([1,"5:[\"$\",\"$Le\",null,{\"page\":{\"title\":\"Temporal Reasoning Tutorial\",\"content\":\"$f\",\"toc\":[{\"level\":2,\"text\":\"Timestamp Basics\",\"id\":\"timestamp-basics\"},{\"level\":3,\"text\":\"Common Time Constants\",\"id\":\"common-time-constants\"},{\"level\":2,\"text\":\"Core Time Functions\",\"id\":\"core-time-functions\"},{\"level\":3,\"text\":\"timenow()\",\"id\":\"timenow\"},{\"level\":3,\"text\":\"timediff(t1, t2)\",\"id\":\"timedifft1-t2\"},{\"level\":3,\"text\":\"timeadd(ts, durationms)\",\"id\":\"timeaddts-durationms\"},{\"level\":3,\"text\":\"timesub(ts, durationms)\",\"id\":\"timesubts-durationms\"},{\"level\":2,\"text\":\"Time Comparisons\",\"id\":\"time-comparisons\"},{\"level\":3,\"text\":\"timebefore(t1, t2)\",\"id\":\"timebeforet1-t2\"},{\"level\":3,\"text\":\"timeafter(t1, t2)\",\"id\":\"timeaftert1-t2\"},{\"level\":3,\"text\":\"timebetween(ts, start, end)\",\"id\":\"timebetweents-start-end\"},{\"level\":3,\"text\":\"withinlast(ts, now, durationms)\",\"id\":\"withinlastts-now-durationms\"},{\"level\":2,\"text\":\"Time Decay Functions\",\"id\":\"time-decay-functions\"},{\"level\":3,\"text\":\"timedecay(ts, now, halflifems)\",\"id\":\"timedecayts-now-halflifems\"},{\"level\":3,\"text\":\"timedecaylinear(ts, now, maxagems)\",\"id\":\"timedecaylinearts-now-maxagems\"},{\"level\":2,\"text\":\"Interval Functions\",\"id\":\"interval-functions\"},{\"level\":3,\"text\":\"intervalduration(start, end)\",\"id\":\"intervaldurationstart-end\"},{\"level\":3,\"text\":\"pointininterval(ts, start, end)\",\"id\":\"pointinintervalts-start-end\"},{\"level\":3,\"text\":\"intervalsoverlap(s1, e1, s2, e2)\",\"id\":\"intervalsoverlaps1-e1-s2-e2\"},{\"level\":3,\"text\":\"intervalcontains(s1, e1, s2, e2)\",\"id\":\"intervalcontainss1-e1-s2-e2\"},{\"level\":2,\"text\":\"Practical Examples\",\"id\":\"practical-examples\"},{\"level\":3,\"text\":\"Event Stream Analysis\",\"id\":\"event-stream-analysis\"},{\"level\":3,\"text\":\"Time-Decayed Recommendations\",\"id\":\"time-decayed-recommendations\"},{\"level\":3,\"text\":\"Session Detection\",\"id\":\"session-detection\"},{\"level\":3,\"text\":\"Meeting Scheduler\",\"id\":\"meeting-scheduler\"},{\"level\":2,\"text\":\"Function Reference\",\"id\":\"function-reference\"},{\"level\":2,\"text\":\"Next Steps\",\"id\":\"next-steps\"}]},\"slugKey\":\"guides/temporal\"}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"10:I[6869,[],\"IconMark\"]\nc:[[\"$\",\"title\",\"0\",{\"children\":\"InputLayer - A symbolic reasoning engine for AI agents\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Store facts, define rules, and derive everything that logically follows. Vector search, graph traversal, and incremental computation in one system.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/icon.svg\"}],[\"$\",\"$L10\",\"3\",{}]]\n8:null\n"])</script></body></html>