1:"$Sreact.fragment"
2:I[1942,["177","static/chunks/app/layout-7e9963bf811be36b.js"],"ThemeProvider"]
3:I[7121,[],""]
4:I[4581,[],""]
6:I[484,[],"OutletBoundary"]
7:"$Sreact.suspense"
9:I[484,[],"ViewportBoundary"]
b:I[484,[],"MetadataBoundary"]
d:I[7123,[],""]
:HL["/_next/static/media/4cf2300e9c8272f7-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/93f479601ee12b01-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/4bd7a24b7976d4e6.css","style"]
0:{"P":null,"b":"05bjYGyiAumoEMBrfWHih","c":["","docs","spec","grammar",""],"q":"","i":false,"f":[[["",{"children":["docs",{"children":[["slug","spec/grammar","oc"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],[["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/4bd7a24b7976d4e6.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":["$","body",null,{"className":"__variable_188709 __variable_9a8899 font-sans antialiased","children":["$","$L2",null,{"attribute":"class","defaultTheme":"dark","enableSystem":true,"disableTransitionOnChange":true,"children":["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":["$L5",null,["$","$L6",null,{"children":["$","$7",null,{"name":"Next.MetadataOutlet","children":"$@8"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],["$","$1","h",{"children":[null,["$","$L9",null,{"children":"$@a"}],["$","div",null,{"hidden":true,"children":["$","$Lb",null,{"children":["$","$7",null,{"name":"Next.Metadata","children":"$@c"}]}]}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],false]],"m":"$undefined","G":["$d",[]],"S":true}
e:I[8428,["758","static/chunks/758-3cb69ce377cde046.js","121","static/chunks/121-aece4f809b101dc1.js","502","static/chunks/502-e809071f8789437b.js","689","static/chunks/689-4fcf9680fdc90283.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-004ec69e3c86920a.js"],"DocsPageClient"]
f:Tcea,# Grammar Reference

This section describes the complete syntax of InputLayer's query language.

## Character Encoding

InputLayer programs are UTF-8 encoded text. You can use Unicode characters in string literals.

## Whitespace

Spaces, tabs, and newlines separate tokens. Extra whitespace is ignored:

```datalog
+edge(1, 2)           // Fine
+edge( 1 , 2 )        // Also fine
+edge(1,2)            // Also fine
```

Whitespace inside strings is preserved:

```datalog
+message("hello world")  // String contains space
```

## Comments

Two styles of comments are supported:

```datalog
// Line comment: everything after // is ignored

/* Block comment:
   spans multiple lines
   until closing */

+edge(1, 2)  // Inline comment after statement
```

Comments cannot be nested:
```datalog
/* outer /* inner */ still in outer? */  // Error!
```

## Statement Types

| Statement | Syntax | Purpose |
|-----------|--------|---------|
| Insert fact | `+relation(args)` | Add data |
| Bulk insert | `+relation[(tuple), ...]` | Add multiple facts |
| Delete fact | `-relation(args)` | Remove data |
| Conditional delete | `-relation(vars) <- body` | Remove matching data |
| Persistent rule | `+head(vars) <- body` | Define saved rule |
| Session rule | `head(vars) <- body` | Define temporary rule |
| Query | `?pattern` | Retrieve data |
| Schema | `+relation(col: type, ...)` | Declare structure |
| Meta command | `.command args` | System operations |

## Grammar Sections

The grammar is organized into these sections:

- **[Rules](rules)** - Session and persistent rules
- **[Queries](queries)** - Querying data
- **[Types](types)** - Integers, strings, floats, vectors
- **[Syntax](../reference/syntax)** - Complete syntax reference

## EBNF Notation

This document uses EBNF notation for grammar rules:

```ebnf
symbol ::= expression ;
```

| Notation | Meaning |
|----------|---------|
| `"text"` | Literal text |
| `A B` | A followed by B |
| `A \| B` | A or B |
| `A?` | Optional (zero or one) |
| `A*` | Zero or more |
| `A+` | One or more |
| `( A B )` | Grouping |
| `[a-z]` | Character range |

## Quick Syntax Reference

### Facts

```ebnf
insert_fact  ::= "+" predicate "(" term ("," term)* ")" ;
bulk_insert  ::= "+" predicate "[" tuple ("," tuple)* "]" ;
delete_fact  ::= "-" predicate "(" term ("," term)* ")" ;
tuple        ::= "(" term ("," term)* ")" ;
```

### Rules

```ebnf
persistent_rule ::= "+" head "<-" body ;
session_rule    ::= head "<-" body ;
head            ::= predicate "(" term ("," term)* ")" ;
body            ::= literal ("," literal)* ;
```

### Queries

```ebnf
query ::= "?" body ;
```

### Terms

```ebnf
term      ::= variable | constant | placeholder ;
variable  ::= [A-Z] [a-zA-Z0-9_]* ;
placeholder ::= "_" ;
constant  ::= integer | float | string | boolean | vector ;
```

### Predicates

```ebnf
predicate ::= [a-z] [a-zA-Z0-9_]* ;
```

Predicates (relation names) must start with a lowercase letter.

## Extensions

InputLayer extends standard Datalog with:

- **Aggregations** - count, sum, min, max, avg, top_k
- **Vectors** - Array literals and 55 builtin functions
- **Meta Commands** - System operations (`.kg`, `.rel`, `.rule`)
- **Typed Schemas** - Type declarations for relations

See [Reference Documentation](../reference/) for complete details.5:["$","$Le",null,{"page":{"title":"Grammar Reference","content":"$f","toc":[{"level":2,"text":"Character Encoding","id":"character-encoding"},{"level":2,"text":"Whitespace","id":"whitespace"},{"level":2,"text":"Comments","id":"comments"},{"level":2,"text":"Statement Types","id":"statement-types"},{"level":2,"text":"Grammar Sections","id":"grammar-sections"},{"level":2,"text":"EBNF Notation","id":"ebnf-notation"},{"level":2,"text":"Quick Syntax Reference","id":"quick-syntax-reference"},{"level":3,"text":"Facts","id":"facts"},{"level":3,"text":"Rules","id":"rules"},{"level":3,"text":"Queries","id":"queries"},{"level":3,"text":"Terms","id":"terms"},{"level":3,"text":"Predicates","id":"predicates"},{"level":2,"text":"Extensions","id":"extensions"}]},"slugKey":"spec/grammar"}]
a:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
10:I[6869,[],"IconMark"]
c:[["$","title","0",{"children":"InputLayer - A symbolic reasoning engine for AI agents"}],["$","meta","1",{"name":"description","content":"Store facts, define rules, and derive everything that logically follows. Vector search, graph traversal, and incremental computation in one system."}],["$","link","2",{"rel":"icon","href":"/icon.svg"}],["$","$L10","3",{}]]
8:null
